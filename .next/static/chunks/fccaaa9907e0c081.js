(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},32095,e=>{"use strict";let t=(0,e.i(75254).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.s(["GraduationCap",()=>t],32095)},25716,e=>{"use strict";let t={faculty:"/faculty",auditor:"/auditor","staff-advisor":"/staff-advisor",admin:"/admin"};function a(e){return"admin"===e?t.admin:`${t[e]}/dashboard`}e.s(["getDashboardPath",()=>a])},93479,e=>{"use strict";var t=e.i(43476),a=e.i(19204);function r({className:e,type:r,...s}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},13354,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=(e,t,a,r,s,i,o,l)=>{let n=document.documentElement,d=["light","dark"];function c(t){var a;(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,r=a&&i?s.map(e=>i[e]||e):s;a?(n.classList.remove(...r),n.classList.add(i&&i[t]?i[t]:t)):n.setAttribute(e,t)}),a=t,l&&d.includes(a)&&(n.style.colorScheme=a)}if(r)c(r);else try{let e=localStorage.getItem(t)||a,r=o&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(r)}catch(e){}},s=a.createContext(void 0),i={setTheme:e=>{},themes:[]};a.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:i,enableColorScheme:o,defaultTheme:l,value:n,themes:d,nonce:c,scriptProps:u})=>{let m=JSON.stringify([s,t,l,e,d,n,i,o]).slice(1,-1);return a.createElement("script",{...u,suppressHydrationWarning:!0,nonce:"u"<typeof window?c:"",dangerouslySetInnerHTML:{__html:`(${r.toString()})(${m})`}})});var o=e.i(46696);let l=({...e})=>{var r;let{theme:l="system"}=null!=(r=a.useContext(s))?r:i;return(0,t.jsx)(o.Toaster,{theme:l,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};e.s(["Toaster",()=>l],13354)},388,e=>{"use strict";var t=e.i(43476),a=e.i(18566),r=e.i(15288),s=e.i(19455),i=e.i(93479),o=e.i(10204),l=e.i(63488),n=e.i(70756),d=e.i(32095),c=e.i(46696),u=e.i(71645);function m({onLogin:e,onSignInSuccess:a,onSwitchToSignUp:m}){let[h,p]=(0,u.useState)({email:"",password:""}),f=async t=>{if(t.preventDefault(),!h.email||!h.password)return void c.toast.error("Please enter email and password");try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email,password:h.password})}),r=await t.json();if(!t.ok)return void c.toast.error(r.error||"Login failed");c.toast.success("Sign in successful!");let s=e||a;s&&s({id:r.id,username:r.username,name:r.name,role:r.role,department:r.department})}catch(e){console.error("Login error:",e),c.toast.error("An error occurred during login")}};return(0,t.jsxs)(r.Card,{className:"shadow-2xl border-0",children:[(0,t.jsxs)(r.CardHeader,{className:"space-y-1 text-center",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4 md:hidden",children:(0,t.jsx)("div",{className:"h-12 w-12 bg-blue-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)(d.GraduationCap,{className:"h-8 w-8 text-white"})})}),(0,t.jsx)(r.CardTitle,{className:"text-2xl font-bold",children:"Sign In"}),(0,t.jsx)(r.CardDescription,{children:"Enter your credentials to access your account"})]}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"email",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(i.Input,{id:"email",type:"email",placeholder:"your.email@college.edu",value:h.email,onChange:e=>p({...h,email:e.target.value}),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(i.Input,{id:"password",type:"password",placeholder:"••••••••",value:h.password,onChange:e=>p({...h,password:e.target.value}),className:"pl-10"})]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(s.Button,{type:"button",variant:"link",className:"text-sm p-0 h-auto",children:"Forgot password?"})}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full",children:"Sign In"}),(0,t.jsxs)("div",{className:"text-center text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Don't have an account? "}),(0,t.jsx)(s.Button,{type:"button",variant:"link",className:"p-0 h-auto",onClick:m,children:"Sign up here"})]})]})})]})}var h=e.i(32341),p=e.i(13354),f=e.i(25716);function x(){let e=(0,a.useRouter)(),{login:r}=(0,h.useAuth)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{onLogin:t=>{r(t),document.cookie="auth_authenticated=true; path=/",document.cookie=`auth_role=${t.role}; path=/`,document.cookie=`auth_user=${t.username}; path=/`,e.replace((0,f.getDashboardPath)(t.role))},onSwitchToSignUp:()=>e.push("/register")}),(0,t.jsx)(p.Toaster,{})]})}e.s(["default",()=>x],388)}]);