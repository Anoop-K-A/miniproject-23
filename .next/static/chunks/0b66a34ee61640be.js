(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},32095,e=>{"use strict";let t=(0,e.i(75254).default)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);e.s(["GraduationCap",()=>t],32095)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);e.s(["Mail",()=>t],63488)},75830,86318,e=>{"use strict";var t=e.i(71645),r=e.i(30030),a=e.i(20783),l=e.i(91918),s=e.i(43476);function i(e){let i=e+"CollectionProvider",[o,n]=(0,r.createContextScope)(i),[c,d]=o(i,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:r,children:a}=e,l=t.default.useRef(null),i=t.default.useRef(new Map).current;return(0,s.jsx)(c,{scope:r,itemMap:i,collectionRef:l,children:a})};u.displayName=i;let m=e+"CollectionSlot",h=t.default.forwardRef((e,t)=>{let{scope:r,children:i}=e,o=d(m,r),n=(0,a.useComposedRefs)(t,o.collectionRef);return(0,s.jsx)(l.Slot,{ref:n,children:i})});h.displayName=m;let p=e+"CollectionItemSlot",f="data-radix-collection-item",x=t.default.forwardRef((e,r)=>{let{scope:i,children:o,...n}=e,c=t.default.useRef(null),u=(0,a.useComposedRefs)(r,c),m=d(p,i);return t.default.useEffect(()=>(m.itemMap.set(c,{ref:c,...n}),()=>void m.itemMap.delete(c))),(0,s.jsx)(l.Slot,{...{[f]:""},ref:u,children:o})});return x.displayName=p,[{Provider:u,Slot:h,ItemSlot:x},function(r){let a=d(e+"CollectionConsumer",r);return t.default.useCallback(()=>{let e=a.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${f}]`));return Array.from(a.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[a.collectionRef,a.itemMap])},n]}e.s(["createCollection",()=>i],75830);var o=t.createContext(void 0);function n(e){let r=t.useContext(o);return e||r||"ltr"}e.s(["useDirection",()=>n],86318)},93479,e=>{"use strict";var t=e.i(43476),r=e.i(19204);function a({className:e,type:a,...l}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...l})}e.s(["Input",()=>a])},84614,e=>{"use strict";let t=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],84614)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},42920,e=>{"use strict";let t=(0,e.i(75254).default)("building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);e.s(["Building",()=>t],42920)},76128,e=>{"use strict";var t=e.i(43476),r=e.i(18566),a=e.i(15288),l=e.i(19455),s=e.i(93479),i=e.i(10204),o=e.i(67489),n=e.i(63488),c=e.i(70756),d=e.i(84614),u=e.i(42920),m=e.i(32095),h=e.i(46696),p=e.i(71645);function f({onSignUpSuccess:e,onSwitchToSignIn:r}){let[f,x]=(0,p.useState)({email:"",password:"",confirmPassword:"",fullName:"",role:"",department:""}),y=async t=>{if(t.preventDefault(),!f.email||!f.password||!f.confirmPassword||!f.fullName||!f.role||!f.department)return void h.toast.error("Please fill in all fields");if(f.password!==f.confirmPassword)return void h.toast.error("Passwords do not match");if(f.password.length<6)return void h.toast.error("Password must be at least 6 characters");try{h.toast.success("Account created! Await admin approval before signing in."),e(f)}catch(e){console.error("Register error:",e),h.toast.error("An error occurred during registration")}};return(0,t.jsxs)(a.Card,{className:"shadow-2xl border-0",children:[(0,t.jsxs)(a.CardHeader,{className:"space-y-1 text-center",children:[(0,t.jsx)("div",{className:"flex justify-center mb-4 md:hidden",children:(0,t.jsx)("div",{className:"h-12 w-12 bg-purple-600 rounded-xl flex items-center justify-center",children:(0,t.jsx)(m.GraduationCap,{className:"h-8 w-8 text-white"})})}),(0,t.jsx)(a.CardTitle,{className:"text-2xl font-bold",children:"Create Account"}),(0,t.jsx)(a.CardDescription,{children:"Fill in your details to create a new account"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"fullName",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.User,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(s.Input,{id:"fullName",placeholder:"Dr. John Doe",value:f.fullName,onChange:e=>x({...f,fullName:e.target.value}),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"email",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(s.Input,{id:"email",type:"email",placeholder:"your.email@college.edu",value:f.email,onChange:e=>x({...f,email:e.target.value}),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"role",children:"Role"}),(0,t.jsxs)(o.Select,{value:f.role,onValueChange:e=>x({...f,role:e}),children:[(0,t.jsx)(o.SelectTrigger,{children:(0,t.jsx)(o.SelectValue,{placeholder:"Select a role"})}),(0,t.jsxs)(o.SelectContent,{children:[(0,t.jsx)(o.SelectItem,{value:"Faculty",children:"Faculty"}),(0,t.jsx)(o.SelectItem,{value:"Auditor",children:"Auditor"}),(0,t.jsx)(o.SelectItem,{value:"StaffAdvisor",children:"Staff Advisor"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"department",children:"Department"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.Building,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(s.Input,{id:"department",placeholder:"e.g., Computer Science",value:f.department,onChange:e=>x({...f,department:e.target.value}),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"password",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(s.Input,{id:"password",type:"password",placeholder:"••••••••",value:f.password,onChange:e=>x({...f,password:e.target.value}),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(c.Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,t.jsx)(s.Input,{id:"confirmPassword",type:"password",placeholder:"••••••••",value:f.confirmPassword,onChange:e=>x({...f,confirmPassword:e.target.value}),className:"pl-10"})]})]}),(0,t.jsx)(l.Button,{type:"submit",className:"w-full",children:"Create Account"}),(0,t.jsxs)("div",{className:"text-center text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Already have an account? "}),(0,t.jsx)(l.Button,{type:"button",variant:"link",className:"p-0 h-auto",onClick:r,children:"Sign in here"})]})]})})]})}var x=e.i(32341);function y(){let e=(0,r.useRouter)(),{register:a}=(0,x.useAuth)(),l=async t=>{try{let r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password,fullName:t.fullName,role:t.role,department:t.department})}),a=await r.json();if(!r.ok)throw Error(a.error||"Registration failed");e.push("/login")}catch(e){console.error("Register error:",e)}};return(0,t.jsx)(f,{onSignUpSuccess:l,onSwitchToSignIn:()=>e.push("/login")})}e.s(["default",()=>y],76128)}]);