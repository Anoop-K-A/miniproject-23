(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72729,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(61911);function r({stats:e}){return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(a.Users,{className:"h-6 w-6 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Staff Advisor Dashboard"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Batch ",e.batchYear," - Student Management & Career Development"]})]})]})}var l=e.i(15288),n=e.i(32095),i=e.i(75254);let c=(0,i.default)("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var d=e.i(25652);let m=(0,i.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);function x({stats:e}){let t=e.totalStudents>0?Math.round(e.placedStudents/e.totalStudents*100):0;return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Students"}),(0,s.jsx)("div",{className:"text-2xl mt-1",children:e.totalStudents}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Batch ",e.batchYear]})]}),(0,s.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(n.GraduationCap,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Placed Students"}),(0,s.jsx)("div",{className:"text-2xl mt-1",children:e.placedStudents}),(0,s.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[t,"% placement rate"]})]}),(0,s.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(c,{className:"h-6 w-6 text-green-600"})})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Average CGPA"}),(0,s.jsx)("div",{className:"text-2xl mt-1",children:e.averageCGPA}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Batch performance"})]}),(0,s.jsx)("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(d.TrendingUp,{className:"h-6 w-6 text-purple-600"})})]})})}),(0,s.jsx)(l.Card,{children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Attendance"}),(0,s.jsxs)("div",{className:"text-2xl mt-1",children:[e.averageAttendance,"%"]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overall batch"})]}),(0,s.jsx)("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(m,{className:"h-6 w-6 text-orange-600"})})]})})})]})}var o=e.i(87486),h=e.i(78583),u=e.i(87316);function p({stats:e}){return(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Faculty Status Overview"}),(0,s.jsx)(l.CardDescription,{children:"Course files and event reports status"})]}),(0,s.jsx)(l.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(h.FileText,{className:"h-5 w-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Course Files"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.totalFaculty," faculty members"]})]})]}),(0,s.jsxs)(o.Badge,{className:"bg-green-100 text-green-800",children:[e.approvedFiles," Approved"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(u.Calendar,{className:"h-5 w-5 text-green-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Event Reports"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Community engagement"})]})]}),(0,s.jsxs)(o.Badge,{className:"bg-green-100 text-green-800",children:[e.approvedReports," Approved"]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Documentation Completion"}),(0,s.jsx)("span",{className:"font-medium",children:"87%"})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,s.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"87%"}})})]})]})})]})}function j({careerStats:e}){return(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Career Exploration Stats"}),(0,s.jsx)(l.CardDescription,{children:"Student career development activities"})]}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.totalInternships}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Total Internships"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.activeInternships}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Active Now"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:e.completedProjects}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Projects Done"})]}),(0,s.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,s.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:e.skillWorkshops}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Skill Workshops"})]})]}),(0,s.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"Campus Interviews"}),(0,s.jsxs)(o.Badge,{variant:"outline",children:[e.campusInterviews," Scheduled"]})]})})]})]})}var g=e.i(19455),v=e.i(93479),N=e.i(76639),b=e.i(10204),y=e.i(55436),f=e.i(7233),C=e.i(63727),w=e.i(20278),S=e.i(63059);function A({student:e,onViewDetails:t}){return(0,s.jsx)(l.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(e),children:(0,s.jsx)(l.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)(o.Badge,{className:(e=>{switch(e){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(e.placementStatus),children:e.placementStatus})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.rollNumber," • ",e.semester," Semester"]}),e.companyName&&(0,s.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[(0,s.jsx)(C.Briefcase,{className:"h-3 w-3 inline mr-1"}),e.companyName]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"CGPA"}),(0,s.jsx)("p",{className:"font-medium",children:e.cgpa})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Attendance"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.attendance,"%"]})]}),(0,s.jsxs)("div",{className:"text-center min-w-[120px]",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Career Interest"}),(0,s.jsxs)(o.Badge,{variant:"outline",className:"text-xs",children:[(0,s.jsx)(w.Target,{className:"h-3 w-3 mr-1"}),e.careerInterest]})]}),(0,s.jsxs)(g.Button,{variant:"outline",size:"sm",children:["View Details",(0,s.jsx)(S.ChevronRight,{className:"h-4 w-4 ml-2"})]})]})]})})})}let I={name:"",rollNumber:"",email:"",phone:"",department:"",semester:"",batchYear:""},P=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function k({students:e,stats:a,onSelectStudent:r,onAddStudent:n}){let[i,c]=(0,t.useState)(""),[d,m]=(0,t.useState)(!1),[x,o]=(0,t.useState)({...I,batchYear:a.batchYear}),[h,u]=(0,t.useState)({}),p=(0,t.useMemo)(()=>e.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.rollNumber.toLowerCase().includes(i.toLowerCase())||e.careerInterest.toLowerCase().includes(i.toLowerCase())),[e,i]),j=(0,t.useMemo)(()=>{let e=new Map;return p.forEach(s=>{let t=s.batchYear?.trim()||"Unknown";e.has(t)||e.set(t,[]),e.get(t)?.push(s)}),Array.from(e.entries()).sort(([e],[s])=>s.localeCompare(e))},[p]),C=(e,s)=>{o(t=>({...t,[e]:s})),u(s=>({...s,[e]:void 0}))};return(0,s.jsxs)(l.Card,{children:[(0,s.jsx)(l.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.CardTitle,{children:"Student List"}),(0,s.jsx)(l.CardDescription,{children:"Manage and track student progress and placements"})]}),(0,s.jsxs)(N.Dialog,{open:d,onOpenChange:m,children:[(0,s.jsx)(N.DialogTrigger,{asChild:!0,children:(0,s.jsxs)(g.Button,{size:"sm",children:[(0,s.jsx)(f.Plus,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),(0,s.jsxs)(N.DialogContent,{children:[(0,s.jsxs)(N.DialogHeader,{children:[(0,s.jsx)(N.DialogTitle,{children:"Add New Student"}),(0,s.jsx)(N.DialogDescription,{children:"Add a new student to your batch"})]}),(0,s.jsxs)("form",{className:"space-y-4 py-4",onSubmit:s=>{let t,r,l;if(s.preventDefault(),t={},r=x.rollNumber.trim(),l=x.email.trim(),x.name.trim()||(t.name="Name is required."),r||(t.rollNumber="Roll number is required."),l?P.test(l)||(t.email="Enter a valid email."):t.email="Email is required.",x.department.trim()||(t.department="Department is required."),x.semester.trim()||(t.semester="Semester is required."),x.batchYear.trim()||(t.batchYear="Batch year is required."),r&&x.batchYear.trim()&&e.some(e=>e.batchYear?.toLowerCase()===x.batchYear.trim().toLowerCase()&&e.rollNumber.toLowerCase()===r.toLowerCase())&&(t.rollNumber="Roll number already exists in this batch."),l&&e.some(e=>e.email.toLowerCase()===l.toLowerCase())&&(t.email="Email already exists."),u(t),0!==Object.keys(t).length)return;let i=x.batchYear.trim(),c=x.rollNumber.trim();n({id:`${i}-${c}`,name:x.name.trim(),rollNumber:c,email:x.email.trim(),phone:x.phone.trim()||"",department:x.department.trim(),semester:x.semester.trim(),batchYear:i,cgpa:0,attendance:0,careerInterest:"Not set",skillsAcquired:[],placementStatus:"Not Started",activityPoints:0,activities:[]}),o({...I,batchYear:a.batchYear}),u({}),m(!1)},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Student Name"}),(0,s.jsx)(v.Input,{value:x.name,onChange:e=>C("name",e.target.value),placeholder:"Enter student name"}),h.name&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:h.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Roll Number"}),(0,s.jsx)(v.Input,{value:x.rollNumber,onChange:e=>C("rollNumber",e.target.value),placeholder:"Enter roll number"}),h.rollNumber&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:h.rollNumber})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Email"}),(0,s.jsx)(v.Input,{type:"email",value:x.email,onChange:e=>C("email",e.target.value),placeholder:"student@college.edu"}),h.email&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:h.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Phone"}),(0,s.jsx)(v.Input,{value:x.phone,onChange:e=>C("phone",e.target.value),placeholder:"+91 XXXXX XXXXX"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Department"}),(0,s.jsx)(v.Input,{value:x.department,onChange:e=>C("department",e.target.value),placeholder:"Computer Science"}),h.department&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:h.department})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Semester"}),(0,s.jsx)(v.Input,{value:x.semester,onChange:e=>C("semester",e.target.value),placeholder:"6"}),h.semester&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:h.semester})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Batch Year"}),(0,s.jsx)(v.Input,{value:x.batchYear,onChange:e=>C("batchYear",e.target.value),placeholder:"2024"}),h.batchYear&&(0,s.jsx)("p",{className:"text-xs text-red-600",children:h.batchYear})]}),(0,s.jsx)(N.DialogFooter,{children:(0,s.jsx)(g.Button,{type:"submit",className:"w-full",children:"Add Student"})})]})]})]})]})}),(0,s.jsxs)(l.CardContent,{children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)(v.Input,{placeholder:"Search by name, roll number, or career interest...",value:i,onChange:e=>c(e.target.value),className:"pl-10"})]})}),(0,s.jsx)("div",{className:"space-y-6",children:0===j.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No students found for the current search."}):j.map(([e,t])=>(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("p",{className:"text-sm font-semibold",children:["Batch ",e]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:[t.length," students"]})]}),(0,s.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,s.jsx)(A,{student:e,onViewDetails:r},e.id))})]},e))})]})]})}function B({groups:e}){return(0,s.jsxs)(l.Card,{children:[(0,s.jsxs)(l.CardHeader,{children:[(0,s.jsx)(l.CardTitle,{children:"Batch Course File Progress"}),(0,s.jsx)(l.CardDescription,{children:"Individual batch completion tracking"})]}),(0,s.jsx)(l.CardContent,{className:"space-y-6",children:0===e.length?(0,s.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No batches found. Add students to see course file progress."}):(0,s.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"lg:col-span-2 space-y-3 p-4 rounded-lg border border-gray-200 bg-gray-50/50",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm font-semibold",children:["Batch ",e.progress.batchYear||"-"]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.progress.totalFiles," files tracked"]})]}),(0,s.jsxs)(o.Badge,{variant:"outline",className:"font-semibold",children:[e.progress.completionRate,"% approved"]})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${e.progress.completionRate}%`}})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[(0,s.jsxs)(o.Badge,{variant:"outline",children:["Total ",e.progress.totalFiles]}),(0,s.jsxs)(o.Badge,{className:"bg-green-100 text-green-800",children:["Approved ",e.progress.approvedFiles]}),(0,s.jsxs)(o.Badge,{className:"bg-yellow-100 text-yellow-800",children:["In Review ",e.progress.inReviewFiles]}),(0,s.jsxs)(o.Badge,{className:"bg-red-100 text-red-800",children:["Rejected ",e.progress.rejectedFiles]})]})]}),(0,s.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("h4",{className:"text-xs font-semibold text-gray-700",children:"Faculty Teaching"}),(0,s.jsx)(o.Badge,{variant:"outline",className:"text-xs",children:e.faculty.length})]}),0===e.faculty.length?(0,s.jsx)("p",{className:"text-xs text-gray-500 text-center py-2",children:"No faculty assigned"}):(0,s.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:e.faculty.map(e=>(0,s.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-xs font-semibold shrink-0",children:e.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.department}),(0,s.jsx)("div",{className:"flex gap-1 mt-1",children:(0,s.jsxs)(o.Badge,{variant:"outline",className:"text-xs px-1 py-0 h-4",children:[e.filesTotal," files"]})})]})]},e.id))})]})]},e.progress.batchYear))})})]})}var D=e.i(67489),F=e.i(63488),L=e.i(43432),Y=e.i(42009);let T={email:"",phone:"",semester:"",placementStatus:"Not Started",companyName:"",cgpa:"",attendance:"",careerInterest:"",skillsInput:""},E=e=>e?{email:e.email??"",phone:e.phone??"",semester:e.semester??"",placementStatus:e.placementStatus,companyName:e.companyName??"",cgpa:Number.isFinite(e.cgpa)?e.cgpa.toString():"",attendance:Number.isFinite(e.attendance)?e.attendance.toString():"",careerInterest:e.careerInterest??"",skillsInput:e.skillsAcquired?.join(", ")??""}:T;function O({isOpen:e,onOpenChange:a,student:r,onAddActivity:l,onUpdateStudent:n}){let[i,c]=(0,t.useState)(!1),[d,m]=(0,t.useState)(()=>E(r));(0,t.useEffect)(()=>{r&&(m(E(r)),c(!1))},[r,e]);let x=(e,s)=>{m(t=>({...t,[e]:s}))};return r?(0,s.jsx)(N.Dialog,{open:e,onOpenChange:a,children:(0,s.jsxs)(N.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(N.DialogHeader,{children:[(0,s.jsx)(N.DialogTitle,{children:"Student Profile"}),(0,s.jsx)(N.DialogDescription,{children:"Complete information and progress tracking"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0",children:r.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:r.name}),(0,s.jsxs)("p",{className:"text-gray-600",children:[r.rollNumber," • ",r.department]}),(0,s.jsx)(o.Badge,{className:(e=>{switch(e){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(r.placementStatus)+" mt-2",children:r.placementStatus}),r.companyName&&(0,s.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,s.jsx)(C.Briefcase,{className:"h-4 w-4 inline mr-1"}),"Placed at ",r.companyName]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Contact Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(F.Mail,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("a",{href:`mailto:${r.email}`,className:"text-blue-600 hover:underline",children:r.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(L.Phone,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{children:r.phone})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Academic Performance"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"CGPA"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:r.cgpa})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Attendance"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[r.attendance,"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Semester"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:r.semester})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Career Development"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Career Interest"}),(0,s.jsxs)(o.Badge,{variant:"outline",className:"mt-1",children:[(0,s.jsx)(w.Target,{className:"h-3 w-3 mr-1"}),r.careerInterest||"Not set"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Skills Acquired"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:0===r.skillsAcquired.length?(0,s.jsx)(o.Badge,{variant:"outline",className:"bg-gray-50",children:"Not set"}):r.skillsAcquired.map((e,t)=>(0,s.jsx)(o.Badge,{variant:"outline",className:"bg-blue-50",children:e},t))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Activity Points"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Points"}),(0,s.jsxs)(o.Badge,{variant:"outline",className:"mt-1",children:[(0,s.jsx)(Y.Award,{className:"h-3 w-3 mr-1"}),r.activityPoints]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Activities"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:r.activities.map((e,t)=>(0,s.jsxs)(o.Badge,{variant:"outline",className:"bg-blue-50",children:[e.name," (",e.points," points)"]},t))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Edit Student Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Email"}),(0,s.jsx)(v.Input,{type:"email",value:d.email,onChange:e=>x("email",e.target.value),disabled:!i})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Phone"}),(0,s.jsx)(v.Input,{value:d.phone,onChange:e=>x("phone",e.target.value),disabled:!i})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Semester"}),(0,s.jsx)(v.Input,{value:d.semester,onChange:e=>x("semester",e.target.value),disabled:!i})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Placement Status"}),(0,s.jsxs)(D.Select,{value:d.placementStatus,onValueChange:e=>x("placementStatus",e),disabled:!i,children:[(0,s.jsx)(D.SelectTrigger,{children:(0,s.jsx)(D.SelectValue,{placeholder:"Select status"})}),(0,s.jsxs)(D.SelectContent,{children:[(0,s.jsx)(D.SelectItem,{value:"Not Started",children:"Not Started"}),(0,s.jsx)(D.SelectItem,{value:"In Process",children:"In Process"}),(0,s.jsx)(D.SelectItem,{value:"Placed",children:"Placed"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Company Name"}),(0,s.jsx)(v.Input,{value:d.companyName,onChange:e=>x("companyName",e.target.value),disabled:!i,placeholder:"Company for placed students"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"CGPA"}),(0,s.jsx)(v.Input,{type:"number",step:"0.1",value:d.cgpa,onChange:e=>x("cgpa",e.target.value),disabled:!i})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Attendance %"}),(0,s.jsx)(v.Input,{type:"number",value:d.attendance,onChange:e=>x("attendance",e.target.value),disabled:!i})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(b.Label,{children:"Career Interest"}),(0,s.jsx)(v.Input,{value:d.careerInterest,onChange:e=>x("careerInterest",e.target.value),disabled:!i})]}),(0,s.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,s.jsx)(b.Label,{children:"Skills Acquired"}),(0,s.jsx)(v.Input,{value:d.skillsInput,onChange:e=>x("skillsInput",e.target.value),disabled:!i,placeholder:"Java, React, Node.js"})]})]})]}),(0,s.jsx)(N.DialogFooter,{children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Button,{variant:"outline",onClick:()=>{m(E(r)),c(!1)},children:"Cancel"}),(0,s.jsx)(g.Button,{onClick:()=>{if(!r)return;let e=Number.parseFloat(d.cgpa),s=Number.parseFloat(d.attendance),t="Placed"===d.placementStatus?d.companyName.trim():"";n({...r,email:d.email.trim(),phone:d.phone.trim(),semester:d.semester.trim(),placementStatus:d.placementStatus,companyName:t||void 0,cgpa:Number.isFinite(e)?e:0,attendance:Number.isFinite(s)?Math.min(Math.max(s,0),100):0,careerInterest:d.careerInterest.trim(),skillsAcquired:d.skillsInput.split(",").map(e=>e.trim()).filter(Boolean)}),c(!1)},children:"Save Changes"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Button,{size:"sm",variant:"outline",onClick:l,children:"Add Activity"}),(0,s.jsx)(g.Button,{size:"sm",onClick:()=>c(!0),children:"Edit Details"})]})})]})]})}):null}function q({isOpen:e,onOpenChange:t,student:a,activityName:r,onActivityNameChange:l,community:n,onCommunityChange:i,activityPoints:c,onActivityPointsChange:d,onAddActivity:m}){return a?(0,s.jsx)(N.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(N.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(N.DialogHeader,{children:[(0,s.jsx)(N.DialogTitle,{children:"Add Activity"}),(0,s.jsx)(N.DialogDescription,{children:"Add a new activity for the student"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0",children:a.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:a.name}),(0,s.jsxs)("p",{className:"text-gray-600",children:[a.rollNumber," • ",a.department]}),(0,s.jsx)(o.Badge,{className:(e=>{switch(e){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(a.placementStatus)+" mt-2",children:a.placementStatus}),a.companyName&&(0,s.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,s.jsx)(C.Briefcase,{className:"h-4 w-4 inline mr-1"}),"Placed at ",a.companyName]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Add Activity"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Activity Name"}),(0,s.jsx)(v.Input,{placeholder:"Enter activity name",value:r,onChange:e=>l(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Community"}),(0,s.jsx)(v.Input,{placeholder:"Enter community name",value:n,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(b.Label,{children:"Points"}),(0,s.jsx)(v.Input,{placeholder:"Enter points",value:c,onChange:e=>d(e.target.value),type:"number"})]})]})]}),(0,s.jsx)(N.DialogFooter,{children:(0,s.jsx)(g.Button,{size:"sm",onClick:m,children:"Add Activity"})})]})]})}):null}var R=e.i(46696);function M({stats:e,careerStats:a,students:l,batchCourseOverview:n}){let[i,c]=(0,t.useState)(null),[d,m]=(0,t.useState)(l),[o,h]=(0,t.useState)(!1),[u,g]=(0,t.useState)(!1),[v,N]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[f,C]=(0,t.useState)(""),w=d.length,S=d.filter(e=>"Placed"===e.placementStatus).length,A=d.filter(e=>"In Process"===e.placementStatus).length,I=w?Number((d.reduce((e,s)=>e+s.cgpa,0)/w).toFixed(1)):0,P=w?Math.round(d.reduce((e,s)=>e+s.attendance,0)/w):0,D=d.find(e=>e.batchYear)?.batchYear??e.batchYear,F={...e,totalStudents:w,placedStudents:S,inProcess:A,averageCGPA:I,averageAttendance:P,batchYear:D},L=(0,t.useMemo)(()=>{let e=Array.from(new Set(d.map(e=>e.batchYear).filter(Boolean))),s=new Set(n.groups.map(e=>e.progress.batchYear)),t=e.filter(e=>!s.has(e)).map(e=>({progress:{batchYear:e,totalFiles:0,approvedFiles:0,inReviewFiles:0,rejectedFiles:0,completionRate:0},faculty:[]})),a=[...n.groups,...t].sort((e,s)=>(s.progress.batchYear||"").localeCompare(e.progress.batchYear||""));return{overall:n.overall,groups:a}},[d,n]),Y=async e=>{try{let s=await fetch(`/api/students/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok)m(s=>s.map(s=>s.id===e.id?e:s)),c(e),R.toast.success("Student updated successfully");else{let e=await s.json();R.toast.error(e.error||"Failed to update student")}}catch(e){console.error("Error updating student:",e),R.toast.error("Failed to update student")}},T=async()=>{if(!i)return;if(!v||!b||!f)return void R.toast.error("Please fill in all fields");let e={id:`act-${Date.now()}`,name:v,community:b,points:parseInt(f,10),date:new Date().toISOString().split("T")[0]},s={...i,activities:[...i.activities,e],activityPoints:i.activityPoints+e.points};try{let e=await fetch(`/api/students/${s.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok)m(e=>e.map(e=>e.id===s.id?s:e)),c(s),g(!1),N(""),y(""),C(""),R.toast.success("Activity added successfully");else{let s=await e.json();R.toast.error(s.error||"Failed to add activity")}}catch(e){console.error("Error adding activity:",e),R.toast.error("Failed to add activity")}},E=async e=>{try{let s=await fetch("/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({advisorId:"",name:e.name,rollNumber:e.rollNumber,email:e.email,phone:e.phone,department:e.department,semester:e.semester,batchYear:e.batchYear,cgpa:e.cgpa,attendance:e.attendance,careerInterest:e.careerInterest,skillsAcquired:e.skillsAcquired,placementStatus:e.placementStatus,companyName:e.companyName,activityPoints:e.activityPoints,activities:e.activities})});if(s.ok){let t=await s.json(),a=t.students&&t.students[0]||e;m(e=>[a,...e]),R.toast.success("Student added successfully")}else{let e=await s.json();R.toast.error(e.error||"Failed to add student")}}catch(e){console.error("Error adding student:",e),R.toast.error("Failed to add student")}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(r,{stats:F}),(0,s.jsx)(x,{stats:F}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(p,{stats:F}),(0,s.jsx)(j,{careerStats:a})]}),(0,s.jsx)(B,{groups:L.groups}),(0,s.jsx)(k,{students:d,stats:F,onSelectStudent:e=>{c(e),h(!0)},onAddStudent:E}),(0,s.jsx)(O,{isOpen:o,onOpenChange:h,student:i,onAddActivity:()=>g(!0),onUpdateStudent:Y}),(0,s.jsx)(q,{isOpen:u,onOpenChange:g,student:i,activityName:v,onActivityNameChange:N,community:b,onCommunityChange:y,activityPoints:f,onActivityPointsChange:C,onAddActivity:T})]})}e.s(["StaffAdvisorDashboard",()=>M],72729)}]);