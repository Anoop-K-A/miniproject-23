(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32341,t=>{"use strict";var e=t.i(43476),a=t.i(71645);let o=(0,a.createContext)(void 0);function r({children:t}){let[r,l]=(0,a.useState)(!1),[u,c]=(0,a.useState)("faculty"),[s,i]=(0,a.useState)(null),[h,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let t=localStorage.getItem("auth_authenticated"),e=localStorage.getItem("auth_role"),a=localStorage.getItem("auth_user");if("true"===t&&e&&(l(!0),c(e)),a)try{i(JSON.parse(a))}catch{i(null)}n(!1)},[]),(0,e.jsx)(o.Provider,{value:{isAuthenticated:r,userRole:u,user:s,login:t=>{l(!0),c(t.role),i(t),localStorage.setItem("auth_authenticated","true"),localStorage.setItem("auth_role",t.role),localStorage.setItem("auth_user",JSON.stringify(t))},register:t=>{c(t),l(!0),localStorage.setItem("auth_authenticated","true"),localStorage.setItem("auth_role",t)},logout:()=>{l(!1),c("faculty"),i(null),localStorage.removeItem("auth_authenticated"),localStorage.removeItem("auth_role"),localStorage.removeItem("auth_user")},switchRole:t=>{if(c(t),localStorage.setItem("auth_role",t),s){let e={...s,role:t};i(e),localStorage.setItem("auth_user",JSON.stringify(e))}},isLoading:h},children:t})}function l(){let t=(0,a.useContext)(o);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>r,"useAuth",()=>l])}]);