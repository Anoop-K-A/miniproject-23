(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},32341,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r=(0,a.createContext)(void 0);function l({children:e}){let[l,o]=(0,a.useState)(!1),[u,c]=(0,a.useState)("faculty"),[s,i]=(0,a.useState)(["faculty"]),[h,n]=(0,a.useState)(null),[g,S]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let e=localStorage.getItem("auth_authenticated"),t=localStorage.getItem("auth_role"),a=localStorage.getItem("auth_roles"),r=localStorage.getItem("auth_user");if("true"===e&&t&&(o(!0),c(t)),a)try{let e=JSON.parse(a);i(e)}catch{i(["faculty"])}if(r)try{n(JSON.parse(r))}catch{n(null)}S(!1)},[]),(0,t.jsx)(r.Provider,{value:{isAuthenticated:l,userRole:u,assignedRoles:s,user:h,login:e=>{o(!0),c(e.role),n(e);let t=e.roles||[e.role];i(t),localStorage.setItem("auth_authenticated","true"),localStorage.setItem("auth_role",e.role),localStorage.setItem("auth_roles",JSON.stringify(t)),localStorage.setItem("auth_user",JSON.stringify(e))},register:e=>{c(e),i([e]),o(!0),localStorage.setItem("auth_authenticated","true"),localStorage.setItem("auth_role",e),localStorage.setItem("auth_roles",JSON.stringify([e]))},logout:()=>{o(!1),c("faculty"),i(["faculty"]),n(null),localStorage.removeItem("auth_authenticated"),localStorage.removeItem("auth_role"),localStorage.removeItem("auth_roles"),localStorage.removeItem("auth_user")},switchRole:e=>{if(c(e),localStorage.setItem("auth_role",e),h){let t={...h,role:e};n(t),localStorage.setItem("auth_user",JSON.stringify(t))}},isLoading:g},children:e})}function o(){let e=(0,a.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>l,"useAuth",()=>o])}]);