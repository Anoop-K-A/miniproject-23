(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32341,t=>{"use strict";var e=t.i(43476),a=t.i(71645);let l=(0,a.createContext)(void 0);function o({children:t}){let[o,r]=(0,a.useState)(!1),[u,s]=(0,a.useState)("faculty"),[c,i]=(0,a.useState)(["faculty"]),[h,g]=(0,a.useState)(null),[S,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let t=localStorage.getItem("auth_authenticated"),e=localStorage.getItem("auth_role"),a=localStorage.getItem("auth_roles"),l=localStorage.getItem("auth_user");if("true"===t&&e&&(r(!0),s(e)),a)try{let t=JSON.parse(a);i(t)}catch{i(["faculty"])}if(l)try{g(JSON.parse(l))}catch{g(null)}n(!1)},[]),(0,e.jsx)(l.Provider,{value:{isAuthenticated:o,userRole:u,assignedRoles:c,user:h,login:t=>{r(!0),s(t.role),g(t);let e=t.roles||[t.role];i(e),localStorage.setItem("auth_authenticated","true"),localStorage.setItem("auth_role",t.role),localStorage.setItem("auth_roles",JSON.stringify(e)),localStorage.setItem("auth_user",JSON.stringify(t))},register:t=>{s(t),i([t]),r(!0),localStorage.setItem("auth_authenticated","true"),localStorage.setItem("auth_role",t),localStorage.setItem("auth_roles",JSON.stringify([t]))},logout:()=>{r(!1),s("faculty"),i(["faculty"]),g(null),localStorage.removeItem("auth_authenticated"),localStorage.removeItem("auth_role"),localStorage.removeItem("auth_roles"),localStorage.removeItem("auth_user")},switchRole:t=>{if(s(t),localStorage.setItem("auth_role",t),h){let e={...h,role:t};g(e),localStorage.setItem("auth_user",JSON.stringify(e))}},isLoading:S},children:t})}function r(){let t=(0,a.useContext)(l);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>o,"useAuth",()=>r])}]);