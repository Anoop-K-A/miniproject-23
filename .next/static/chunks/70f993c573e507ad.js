(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65548,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(19455),l=e.i(71689);function r({onBack:e}){return(0,s.jsxs)(a.Button,{variant:"outline",onClick:e,className:"mb-4",children:[(0,s.jsx)(l.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Faculty List"]})}var i=e.i(87486),n=e.i(42920),c=e.i(32095),d=e.i(63488),x=e.i(43432),m=e.i(15288);function o({faculty:e}){return(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"h-24 w-24 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:e.name.split(" ").map(e=>e[0]).join("")})}),(0,s.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.name,(0,s.jsx)(i.Badge,{className:"bg-blue-100 text-blue-800",children:e.role})]}),(0,s.jsx)("p",{className:"text-gray-600",children:e.specialization})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(n.Building,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Department:"}),(0,s.jsx)("span",{children:e.department})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(c.GraduationCap,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Experience:"}),(0,s.jsx)("span",{children:e.experience})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(d.Mail,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,s.jsx)("a",{href:`mailto:${e.email}`,className:"text-blue-600 hover:underline",children:e.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(x.Phone,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,s.jsx)("span",{children:e.phone})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Courses Teaching:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:e.courses.map((e,t)=>(0,s.jsx)(i.Badge,{variant:"outline",className:"bg-purple-50",children:e},t))})]})]})]})})})}var h=e.i(29592),u=e.i(77572),j=e.i(78583),g=e.i(87316);function p({report:e,onView:t,getStatusColor:l}){return(0,s.jsx)(m.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(g.Calendar,{className:"h-5 w-5 text-green-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium line-clamp-1",children:e.eventName}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.location})]})]}),(0,s.jsx)(i.Badge,{className:l(e.status),children:e.status})]}),(0,s.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.Badge,{variant:"outline",children:e.eventType}),(0,s.jsxs)("span",{className:"text-gray-500",children:[e.participants," participants"]})]})}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.eventDate," • ",e.duration]}),(0,s.jsx)(a.Button,{variant:"outline",size:"sm",onClick:()=>t(e),className:"w-full",children:"View Details"})]})})})}var N=e.i(86536),f=e.i(40160),v=e.i(95468),b=e.i(73884),y=e.i(3116),w=e.i(64659),C=e.i(63059);function S({courseFiles:e,onViewFile:l,getStatusColor:r}){let n,[c,d]=(0,t.useState)(new Set),x=(n={},e.forEach(e=>{let s=e.courseCode||"Unknown";n[s]||(n[s]=[]),n[s].push(e)}),n),o=Object.keys(x).sort();return 0===o.length?(0,s.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,s.jsx)(j.FileText,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,s.jsx)("p",{children:"No course files available yet."})]}):(0,s.jsx)("div",{className:"space-y-6",children:o.map(e=>{let t=x[e],n=t.filter(e=>"Approved"===e.status).length,o=t.filter(e=>"Pending"===e.status||"Submitted"===e.status).length,h=t.filter(e=>"Rejected"===e.status).length,u=t[0]?.courseName||e,p=c.has(e);return(0,s.jsxs)(m.Card,{className:"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow",children:[(0,s.jsx)(m.CardHeader,{className:"pb-3 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>{d(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[p?(0,s.jsx)(w.ChevronDown,{className:"h-5 w-5 text-gray-600"}):(0,s.jsx)(C.ChevronRight,{className:"h-5 w-5 text-gray-600"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(m.CardTitle,{className:"text-xl font-bold text-gray-900",children:e}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:u})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(i.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[t.length," ",1===t.length?"File":"Files"]}),n>0&&(0,s.jsxs)(i.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,s.jsx)(v.CheckCircle2,{className:"h-3 w-3 mr-1"}),n]}),o>0&&(0,s.jsxs)(i.Badge,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,s.jsx)(y.Clock,{className:"h-3 w-3 mr-1"}),o]}),h>0&&(0,s.jsxs)(i.Badge,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,s.jsx)(b.XCircle,{className:"h-3 w-3 mr-1"}),h]})]})]})}),p&&(0,s.jsx)(m.CardContent,{children:(0,s.jsx)("div",{className:"space-y-3",children:t.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(e=>{switch(e){case"Approved":return(0,s.jsx)(v.CheckCircle2,{className:"h-4 w-4 text-green-600"});case"Rejected":return(0,s.jsx)(b.XCircle,{className:"h-4 w-4 text-red-600"});case"Pending":case"Submitted":return(0,s.jsx)(y.Clock,{className:"h-4 w-4 text-yellow-600"});default:return(0,s.jsx)(j.FileText,{className:"h-4 w-4 text-gray-600"})}})(e.status||"Draft"),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900 truncate",children:e.fileName}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(j.FileText,{className:"h-3 w-3"}),e.fileType]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(g.Calendar,{className:"h-3 w-3"}),new Date(e.uploadDate).toLocaleDateString()]}),e.semester&&(0,s.jsx)("span",{children:e.semester})]})]}),e.status&&(0,s.jsx)(i.Badge,{className:r(e.status),children:e.status})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,s.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>l(e),className:"h-8 w-8 p-0",children:(0,s.jsx)(N.Eye,{className:"h-4 w-4"})}),e.documentUrl&&(0,s.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>(e=>{if(e.documentUrl)if(e.documentUrl.startsWith("/uploads")||e.documentUrl.startsWith("http"))window.open(e.documentUrl,"_blank");else{let s=document.createElement("a");s.href=e.documentUrl,s.download=e.fileName,document.body.appendChild(s),s.click(),document.body.removeChild(s)}})(e),className:"h-8 w-8 p-0",children:(0,s.jsx)(f.Download,{className:"h-4 w-4"})})]})]},e.id))})})]},e)})})}var A=e.i(55436),D=e.i(20278),B=e.i(93479),T=e.i(76639),k=e.i(63727),F=e.i(42009);function R({isOpen:e,onOpenChange:t,student:a}){return a?(0,s.jsx)(T.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(T.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(T.DialogHeader,{children:[(0,s.jsx)(T.DialogTitle,{children:"Student Profile"}),(0,s.jsx)(T.DialogDescription,{children:"Read-only view of student details and activity."})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0",children:a.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:a.name}),(0,s.jsxs)("p",{className:"text-gray-600",children:[a.rollNumber," • ",a.department]}),(0,s.jsx)(i.Badge,{className:(e=>{switch(e){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(a.placementStatus)+" mt-2",children:a.placementStatus}),a.companyName&&(0,s.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,s.jsx)(k.Briefcase,{className:"h-4 w-4 inline mr-1"}),"Placed at ",a.companyName]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Contact Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(d.Mail,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("a",{href:`mailto:${a.email}`,className:"text-blue-600 hover:underline",children:a.email})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)(x.Phone,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{children:a.phone})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Academic Performance"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"CGPA"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:a.cgpa})]}),(0,s.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Attendance"}),(0,s.jsxs)("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[a.attendance,"%"]})]}),(0,s.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Semester"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:a.semester})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Career Development"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Career Interest"}),(0,s.jsxs)(i.Badge,{variant:"outline",className:"mt-1",children:[(0,s.jsx)(D.Target,{className:"h-3 w-3 mr-1"}),a.careerInterest]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Skills Acquired"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:0===a.skillsAcquired.length?(0,s.jsx)(i.Badge,{variant:"outline",className:"bg-gray-50",children:"Not set"}):a.skillsAcquired.map((e,t)=>(0,s.jsx)(i.Badge,{variant:"outline",className:"bg-blue-50",children:e},t))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-medium mb-3",children:"Activity Points"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Points"}),(0,s.jsxs)(i.Badge,{variant:"outline",className:"mt-1",children:[(0,s.jsx)(F.Award,{className:"h-3 w-3 mr-1"}),a.activityPoints]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Activities"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:0===a.activities.length?(0,s.jsx)(i.Badge,{variant:"outline",className:"bg-gray-50",children:"No activities yet"}):a.activities.map(e=>(0,s.jsxs)(i.Badge,{variant:"outline",className:"bg-blue-50",children:[e.name," (",e.points," points)"]},e.id))})]})]})]})]})]})}):null}function P({students:e}){let[l,r]=(0,t.useState)(""),[n,c]=(0,t.useState)(null),[d,x]=(0,t.useState)(!1),o=(0,t.useMemo)(()=>e.find(e=>e.batchYear)?.batchYear??"",[e]),h=(0,t.useMemo)(()=>e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.rollNumber.toLowerCase().includes(l.toLowerCase())||e.careerInterest.toLowerCase().includes(l.toLowerCase())),[e,l]);return(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.CardTitle,{children:["Student List",o?` - Batch ${o}`:""]}),(0,s.jsx)(m.CardDescription,{children:"Manage and track student progress and placements"})]}),(0,s.jsx)(a.Button,{size:"sm",variant:"outline",disabled:!0,children:"View Only"})]})}),(0,s.jsxs)(m.CardContent,{children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(A.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)(B.Input,{placeholder:"Search by name, roll number, or career interest...",value:l,onChange:e=>r(e.target.value),className:"pl-10"})]})}),0===h.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No students assigned yet."}):(0,s.jsx)("div",{className:"space-y-3",children:h.map(e=>(0,s.jsx)(m.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{c(e),x(!0)},children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)(i.Badge,{className:(e=>{switch(e){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(e.placementStatus),children:e.placementStatus})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[e.rollNumber," • ",e.semester," Semester"]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"CGPA"}),(0,s.jsx)("p",{className:"font-medium",children:e.cgpa})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Attendance"}),(0,s.jsxs)("p",{className:"font-medium",children:[e.attendance,"%"]})]}),(0,s.jsxs)("div",{className:"text-center min-w-[120px]",children:[(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Career Interest"}),(0,s.jsxs)(i.Badge,{variant:"outline",className:"text-xs",children:[(0,s.jsx)(D.Target,{className:"h-3 w-3 mr-1"}),e.careerInterest||"Not set"]})]}),(0,s.jsx)(a.Button,{variant:"outline",size:"sm",children:"View Details"})]})]})})},e.id))})]}),(0,s.jsx)(R,{isOpen:d,onOpenChange:x,student:n})]})}function L({courseFiles:e,eventReports:t,students:a=[],showStudents:l=!1,onViewFile:r,onViewReport:i,getStatusColor:n}){let c=l?3:2;return(0,s.jsxs)(u.Tabs,{defaultValue:"course-files",className:"w-full",children:[(0,s.jsxs)(u.TabsList,{className:3===c?"grid w-full grid-cols-3":"grid w-full grid-cols-2",children:[(0,s.jsxs)(u.TabsTrigger,{value:"course-files",className:"flex items-center gap-2",children:[(0,s.jsx)(j.FileText,{className:"h-4 w-4"}),"Course Files (",e.length,")"]}),(0,s.jsxs)(u.TabsTrigger,{value:"event-reports",className:"flex items-center gap-2",children:[(0,s.jsx)(g.Calendar,{className:"h-4 w-4"}),"Event Reports (",t.length,")"]}),l&&(0,s.jsxs)(u.TabsTrigger,{value:"students",className:"flex items-center gap-2",children:["Students (",a.length,")"]})]}),(0,s.jsxs)(u.TabsContent,{value:"course-files",className:"space-y-4 mt-6",children:[(0,s.jsx)(S,{courseFiles:e,onViewFile:r,getStatusColor:n}),e.length>0&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Files"})]})}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>"Approved"===e.status).length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Approved Files"})]})}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>"Pending"===e.status||"Submitted"===e.status).length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Under Review"})]})})]})]}),(0,s.jsx)(u.TabsContent,{value:"event-reports",className:"space-y-4 mt-6",children:0===t.length?(0,s.jsx)(h.Alert,{children:(0,s.jsx)(h.AlertDescription,{className:"text-sm text-gray-500",children:"No event reports available yet."})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(e=>(0,s.jsx)(p,{report:e,onView:i,getStatusColor:n},e.id))}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:t.length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Reports"})]})}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:t.filter(e=>"Approved"===e.status).length}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Approved Reports"})]})}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:t.reduce((e,s)=>e+s.participants,0)}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Total Participants"})]})})]})]})}),l&&(0,s.jsx)(u.TabsContent,{value:"students",className:"space-y-4 mt-6",children:(0,s.jsx)(P,{students:a})})]})}function M({open:e,onOpenChange:t,file:l,getStatusColor:r}){return(0,s.jsx)(T.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(T.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(T.DialogHeader,{children:[(0,s.jsx)(T.DialogTitle,{children:l?.fileName}),(0,s.jsx)(T.DialogDescription,{children:(0,s.jsx)(i.Badge,{className:r(l?.status||""),children:l?.status})})]}),l&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"File Type"}),(0,s.jsx)("p",{className:"font-medium",children:l.fileType})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Upload Date"}),(0,s.jsx)("p",{className:"font-medium",children:l.uploadDate})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Course Name"}),(0,s.jsx)("p",{className:"font-medium",children:l.courseName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Semester"}),(0,s.jsx)("p",{className:"font-medium",children:l.semester})]})]}),(0,s.jsx)(h.Alert,{className:"bg-blue-50 border-blue-200",children:(0,s.jsx)(h.AlertDescription,{className:"text-sm",children:"This is a read-only view of the course file. You can review the details but cannot make changes."})}),(0,s.jsxs)(a.Button,{variant:"outline",className:"w-full",children:[(0,s.jsx)(f.Download,{className:"h-4 w-4 mr-2"}),"Download File"]})]})]})})}var E=e.i(61911);let I=(0,e.i(75254).default)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);function U({open:e,onOpenChange:t,report:l,getStatusColor:r}){return(0,s.jsx)(T.Dialog,{open:e,onOpenChange:t,children:(0,s.jsxs)(T.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-0 border-0",children:[(0,s.jsx)(T.DialogTitle,{className:"sr-only",children:l?.eventName||"Event Report"}),l&&(0,s.jsxs)("div",{className:"bg-white",children:[l.thumbnailUrl?(0,s.jsx)("img",{src:l.thumbnailUrl,alt:l.eventName,className:"w-full h-80 object-cover"}):(0,s.jsxs)("div",{className:"w-full h-80 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 opacity-20 bg-pattern"}),(0,s.jsxs)("div",{className:"text-white text-center z-10",children:[(0,s.jsx)(g.Calendar,{className:"h-16 w-16 mx-auto mb-2 opacity-80"}),(0,s.jsx)("p",{className:"text-sm opacity-80",children:"Event Report"})]})]}),(0,s.jsxs)("div",{className:"p-8 max-w-3xl mx-auto",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4 text-gray-900",children:l.eventName}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 pb-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(g.Calendar,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-sm",children:new Date(l.eventDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(E.Users,{className:"h-4 w-4"}),(0,s.jsxs)("span",{className:"text-sm",children:[l.participants," participants"]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-gray-600",children:(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs",children:l.eventType||"General"})}),(0,s.jsx)("div",{className:"flex items-center gap-2 text-gray-600",children:(0,s.jsx)(i.Badge,{className:`text-xs ${r(l.status)}`,children:l.status})})]}),l.facultyCoordinator&&(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-8 pb-6 border-b border-gray-100",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:l.facultyCoordinator.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-medium text-gray-900",children:["By ",l.facultyCoordinator]}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:l.community||l.department||"Coordinator"})]})]}),(0,s.jsxs)("section",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Event Overview"}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:l.description}),l.location&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Location"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:l.location})]}),l.duration&&(0,s.jsxs)("div",{className:"inline-block bg-gray-50 rounded-lg px-4 py-2",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,s.jsx)("p",{className:"font-medium text-gray-900",children:l.duration})]})]}),l.objectives&&(0,s.jsxs)("section",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Objectives"}),(0,s.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed",children:l.objectives})})]}),l.outcomes&&(0,s.jsxs)("section",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Outcomes & Impact"}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed",children:l.outcomes})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:[(0,s.jsxs)(a.Button,{onClick:()=>{if(l){let e=`${l.eventName.replace(/\s+/g,"_")}_report.pdf`,s="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(l,null,2)),t=document.createElement("a");t.setAttribute("href",s),t.setAttribute("download",e),t.click()}},className:"flex items-center gap-2 flex-1",children:[(0,s.jsx)(f.Download,{className:"h-4 w-4"}),"Download Full Report"]}),(0,s.jsx)(a.Button,{variant:"outline",size:"icon",className:"hidden",children:(0,s.jsx)(I,{className:"h-4 w-4"})})]})]})]})]})})}var O=e.i(32341);function $({faculty:e,onBack:a}){let{user:l,userRole:n}=(0,O.useAuth)(),c=!0===e.isStaffAdvisor,[d,x]=(0,t.useState)(null),[h,u]=(0,t.useState)(null),[j,g]=(0,t.useState)(!1),[p,N]=(0,t.useState)(!1),[f,v]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[w,C]=(0,t.useState)([]),[S,A]=(0,t.useState)([]),D="faculty"!==n;(0,t.useEffect)(()=>{let s=async()=>{try{let s=[fetch("/api/course-files"),fetch("/api/event-reports")];c&&s.push(fetch("/api/students"));let t=await Promise.all(s),a=t[0],l=t[1],r=t[2],i=await a.json(),n=await l.json(),d=r?await r.json():null;if(!a.ok||!l.ok)return;let x=(i.files??[]).filter(s=>s.facultyId===e.id),m=(n.reports??[]).filter(s=>s.facultyId===e.id);if(v(x),y(m),c&&r?.ok){let s=d?.students??[],t=s.filter(s=>s.advisorId===e.id),a=t.length>0?t:s.filter(s=>s.department?.toLowerCase()===e.department.toLowerCase());C(a)}else C([]);if(D){let s=await fetch(`/api/messages?facultyId=${e.id}`),t=await s.json();s.ok?A(t.messages??[]):A([])}else A([])}catch(e){console.error("Load faculty portfolio error:",e)}};s();{let e=()=>{s()};return window.addEventListener("dashboard:data-updated",e),()=>{window.removeEventListener("dashboard:data-updated",e)}}},[e.id,e.department,c,D]);let B=e=>{switch(e){case"Approved":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Submitted":return"bg-blue-100 text-blue-800";case"Draft":default:return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800"}};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(r,{onBack:a}),(0,s.jsx)(o,{faculty:e}),D&&(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Auditor Messages"}),(0,s.jsx)(i.Badge,{variant:"outline",children:S.length})]}),0===S.length?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"No auditor messages yet."}):(0,s.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:"course-file"===e.entityType?"Course File":"Event Report"}),e.status&&(0,s.jsx)(i.Badge,{variant:"secondary",children:e.status})]}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:e.message}),e.createdAt&&(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:new Date(e.createdAt).toLocaleString()})]},e.id))})]})}),(0,s.jsx)(L,{courseFiles:f,eventReports:b,students:w,showStudents:c,onViewFile:e=>{x(e),g(!0)},onViewReport:e=>{u(e),N(!0)},getStatusColor:B}),(0,s.jsx)(M,{open:j,onOpenChange:g,file:d,getStatusColor:B}),(0,s.jsx)(U,{open:p,onOpenChange:N,report:h,getStatusColor:B})]})}function z(){let{user:e}=(0,O.useAuth)(),t=e?.name??"";return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Faculty Dashboard"}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",t]})]})}var V=e.i(25652);function H({title:e,value:t,icon:a,backgroundColor:l,iconColor:r}){return(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e}),(0,s.jsx)("div",{className:"text-2xl mt-1",children:t})]}),(0,s.jsx)("div",{className:`h-12 w-12 ${l} rounded-lg flex items-center justify-center`,children:(0,s.jsx)(a,{className:`h-6 w-6 ${r}`})})]})})})}function G({stats:e}){return(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(H,{title:"Course Files",value:e.totalFiles,icon:j.FileText,backgroundColor:"bg-blue-100",iconColor:"text-blue-600"}),(0,s.jsx)(H,{title:"Event Reports",value:e.totalReports,icon:g.Calendar,backgroundColor:"bg-green-100",iconColor:"text-green-600"}),(0,s.jsx)(H,{title:"Pending Reviews",value:e.pendingReports,icon:V.TrendingUp,backgroundColor:"bg-orange-100",iconColor:"text-orange-600"}),(0,s.jsx)(H,{title:"Total Participants",value:e.totalParticipants,icon:E.Users,backgroundColor:"bg-purple-100",iconColor:"text-purple-600"})]})}var Y=e.i(63209);function q({pendingReports:e}){return e<=0?null:(0,s.jsxs)(h.Alert,{children:[(0,s.jsx)(Y.AlertCircle,{className:"h-4 w-4"}),(0,s.jsx)(h.AlertTitle,{children:"Pending Actions"}),(0,s.jsxs)(h.AlertDescription,{children:["You have ",e," draft report",e>1?"s":""," waiting to be submitted."]})]})}function W({pendingReports:e}){return(0,s.jsx)(q,{pendingReports:e})}function _({activities:e}){return(0,s.jsxs)(m.Card,{children:[(0,s.jsxs)(m.CardHeader,{children:[(0,s.jsx)(m.CardTitle,{children:"Recent Activity"}),(0,s.jsx)(m.CardDescription,{children:"Your latest actions and updates"})]}),(0,s.jsx)(m.CardContent,{children:(0,s.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-600 mt-2"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("p",{className:"text-sm",children:[(0,s.jsx)("span",{className:"font-medium",children:e.action})," ",e.item]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]})]},t))})})]})}function K({facultyMembers:e,onSelectFaculty:t}){return(0,s.jsxs)(m.Card,{children:[(0,s.jsxs)(m.CardHeader,{children:[(0,s.jsxs)(m.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(E.Users,{className:"h-5 w-5"}),"Faculty Directory"]}),(0,s.jsx)(m.CardDescription,{children:"Browse faculty members and their portfolios"})]}),(0,s.jsxs)(m.CardContent,{children:[(0,s.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.slice(0,5).map(e=>(0,s.jsx)(a.Button,{variant:"ghost",className:"w-full justify-start text-left h-auto py-3 hover:bg-gray-50",onClick:()=>t(e),children:(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:e.department})]}),(0,s.jsx)(C.ChevronRight,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})]})},e.id))}),e.length>5&&(0,s.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,s.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["+",e.length-5," more faculty members"]})})]})]})}function X({activities:e,facultyMembers:t,onSelectFaculty:a}){return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(_,{activities:e}),(0,s.jsx)(K,{facultyMembers:t,onSelectFaculty:a})]})}function J({faculty:e,onSelect:t}){return(0,s.jsx)(m.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full flex flex-col",onClick:()=>t(e),children:(0,s.jsxs)(m.CardContent,{className:"pt-6 flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:e.name.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium truncate",children:e.name}),(0,s.jsxs)("div",{className:"mt-1 flex flex-wrap gap-2",children:[(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs",children:e.role}),e.isStaffAdvisor&&(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs",children:"Staff Advisor"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(n.Building,{className:"h-3 w-3 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.department})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,s.jsx)(c.GraduationCap,{className:"h-3 w-3 flex-shrink-0"}),(0,s.jsx)("span",{className:"truncate",children:e.specialization})]})]}),(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t flex-1 flex flex-col",children:[(0,s.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Courses: ",e.courses.length]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.courses.slice(0,2).map((e,t)=>(0,s.jsx)(i.Badge,{variant:"outline",className:"text-xs bg-purple-50 truncate max-w-full",children:e.split(" - ")[0]},t)),e.courses.length>2&&(0,s.jsxs)(i.Badge,{variant:"outline",className:"text-xs bg-gray-50",children:["+",e.courses.length-2]})]}),(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",className:"w-full mt-auto flex items-center justify-center gap-1",children:["View Portfolio",(0,s.jsx)(C.ChevronRight,{className:"h-4 w-4"})]})]})]})})}function Z({facultyMembers:e,onSelectFaculty:t}){return(0,s.jsxs)(m.Card,{children:[(0,s.jsxs)(m.CardHeader,{children:[(0,s.jsxs)(m.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(c.GraduationCap,{className:"h-5 w-5"}),"All Faculty Members"]}),(0,s.jsx)(m.CardDescription,{children:"View portfolios of all faculty members including their course files and event reports"})]}),(0,s.jsx)(m.CardContent,{children:(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(e=>(0,s.jsx)(J,{faculty:e,onSelect:t},e.id))})})]})}function Q({stats:e,facultyMembers:a}){let{user:l}=(0,O.useAuth)(),[r,n]=(0,t.useState)(null),[c,d]=(0,t.useState)(e),[x,o]=(0,t.useState)(a),[h,u]=(0,t.useState)([]),j=Object.entries(h.reduce((e,s)=>{let t=s.threadId??`${s.entityType}:${s.entityId}`;return e[t]||(e[t]=[]),e[t].push({...s,threadId:t}),e},{})).map(([e,s])=>{let t=[...s].sort((e,s)=>new Date(e.createdAt??0).getTime()-new Date(s.createdAt??0).getTime()),a=t[t.length-1];return{threadId:e,messages:t,lastMessage:a}}).sort((e,s)=>{let t=new Date(e.lastMessage?.createdAt??0).getTime();return new Date(s.lastMessage?.createdAt??0).getTime()-t});return((0,t.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/dashboard/faculty"),s=await e.json();if(e.ok&&(s?.stats&&d(s.stats),s?.facultyMembers&&o(s.facultyMembers)),l?.id){let e=await fetch(`/api/messages?facultyId=${l.id}`),s=await e.json();e.ok?u(s.messages??[]):u([])}else u([])}catch(e){console.error("Faculty dashboard refresh error:",e)}};e();{let s=()=>{e()};return window.addEventListener("dashboard:data-updated",s),()=>{window.removeEventListener("dashboard:data-updated",s)}}},[l?.id]),r)?(0,s.jsx)($,{faculty:r,onBack:()=>n(null)}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(z,{}),(0,s.jsx)(G,{stats:c}),(0,s.jsx)(W,{pendingReports:c.pendingReports}),l?.id&&(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"pt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Auditor Messages"}),(0,s.jsx)(i.Badge,{variant:"outline",children:j.length})]}),0===j.length?(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"No auditor messages yet."}):(0,s.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium",children:e.lastMessage?.entityType==="course-file"?"Course File":"Event Report"}),e.lastMessage?.status&&(0,s.jsx)(i.Badge,{variant:"secondary",children:e.lastMessage.status})]}),(0,s.jsx)("div",{className:"mt-3 space-y-2",children:e.messages.map(e=>(0,s.jsxs)("div",{className:"rounded-md bg-white p-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,s.jsx)("span",{children:e.senderName||e.senderRole||"Message"}),e.createdAt&&(0,s.jsx)("span",{children:new Date(e.createdAt).toLocaleString()})]}),(0,s.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:e.message})]},e.id))})]},e.threadId))})]})}),(0,s.jsx)(X,{activities:c.recentActivity,facultyMembers:x,onSelectFaculty:n}),(0,s.jsx)(Z,{facultyMembers:x,onSelectFaculty:n})]})}e.s(["FacultyDashboard",()=>Q],65548)}]);