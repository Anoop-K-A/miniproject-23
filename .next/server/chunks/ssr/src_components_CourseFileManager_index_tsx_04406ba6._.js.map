{"version":3,"sources":["../../../../node_modules/%40radix-ui/react-avatar/dist/index.mjs","../../../../src/components/ui/avatar.tsx","../../../../src/components/CourseFileManager/index.tsx","../../../../src/components/CourseFileManager/DocumentViewerInterface/DocumentHeader.tsx","../../../../src/components/CourseFileManager/DocumentViewerInterface/FileInfoSidebar.tsx","../../../../src/components/CourseFileManager/DocumentViewerInterface/AdminReviewSection.tsx","../../../../src/components/CourseFileManager/DocumentViewerInterface/index.tsx","../../../../src/components/CourseFileManager/DocumentViewerInterface/PeerReviewsSection.tsx","../../../../node_modules/lucide-react/src/icons/circle-check.ts","../../../../src/components/CourseFileManager/DocumentViewerInterface/DocumentPreview.tsx","../../../../node_modules/%40radix-ui/react-avatar/src/avatar.tsx","../../../../src/components/CourseFileManager/AllFacultyFilesView.tsx"],"sourcesContent":["\"use client\";\n\n// packages/react/avatar/src/avatar.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState(\"idle\");\n    return /* @__PURE__ */ jsx(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: /* @__PURE__ */ jsx(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps.referrerPolicy);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? /* @__PURE__ */ jsx(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === void 0);\n    React.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? /* @__PURE__ */ jsx(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction useImageLoadingStatus(src, referrerPolicy) {\n  const [loadingStatus, setLoadingStatus] = React.useState(\"idle\");\n  useLayoutEffect(() => {\n    if (!src) {\n      setLoadingStatus(\"error\");\n      return;\n    }\n    let isMounted = true;\n    const image = new window.Image();\n    const updateStatus = (status) => () => {\n      if (!isMounted) return;\n      setLoadingStatus(status);\n    };\n    setLoadingStatus(\"loading\");\n    image.onload = updateStatus(\"loaded\");\n    image.onerror = updateStatus(\"error\");\n    image.src = src;\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [src, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\n\r\nimport { cn } from \"./utils\";\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\r\n        \"relative flex size-10 shrink-0 overflow-hidden rounded-full\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\"aspect-square size-full\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Upload,\r\n  FileText,\r\n  Download,\r\n  Trash2,\r\n  Search,\r\n  Filter,\r\n  MessageSquare,\r\n  Eye,\r\n  Reply,\r\n  Users,\r\n} from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { toast } from \"sonner\";\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\r\nimport { ResponseDialog } from \"@/components/shared/dialogs/ResponseDialog\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { PeerReviewDialog } from \"@/components/shared/dialogs/PeerReviewDialog\";\r\nimport { AllFacultyFilesView } from \"./AllFacultyFilesView\";\r\nimport { CourseFile } from \"./types\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport {\r\n  downloadFromDataUrl,\r\n  downloadTextFile,\r\n  sanitizeFileName,\r\n} from \"@/lib/download\";\r\n\r\ninterface CourseFileManagerProps {\r\n  initialFiles?: CourseFile[];\r\n  fileCategories?: string[];\r\n  fileTypes?: string[];\r\n}\r\n\r\nexport function CourseFileManager({\r\n  initialFiles = [],\r\n  fileCategories = [],\r\n  fileTypes = [],\r\n}: CourseFileManagerProps) {\r\n  const [files, setFiles] = useState<CourseFile[]>(initialFiles);\r\n  const [categoryOptions, setCategoryOptions] =\r\n    useState<string[]>(fileCategories);\r\n  const [typeOptions, setTypeOptions] = useState<string[]>(fileTypes);\r\n  const { user, userRole } = useAuth();\r\n\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterType, setFilterType] = useState(\"all\");\r\n  const [filterStatus, setFilterStatus] = useState(\"all\");\r\n  const [filterYear, setFilterYear] = useState(\"all\");\r\n  const [uploadDialogOpen, setUploadDialogOpen] = useState(false);\r\n  const [selectedFileType, setSelectedFileType] = useState(\"\");\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [courseCode, setCourseCode] = useState(\"\");\r\n  const [courseName, setCourseName] = useState(\"\");\r\n  const [semester, setSemester] = useState(\"\");\r\n  const [fileName, setFileName] = useState(\"\");\r\n  const [uploadedFileDataUrl, setUploadedFileDataUrl] = useState<string | null>(\r\n    null,\r\n  );\r\n  const [selectedYear, setSelectedYear] = useState(\r\n    new Date().getFullYear().toString(),\r\n  );\r\n  const [viewMode, setViewMode] = useState<\"my-files\" | \"all-files\">(\r\n    \"my-files\",\r\n  );\r\n  const [selectedFile, setSelectedFile] = useState<CourseFile | null>(null);\r\n  const [isViewOpen, setIsViewOpen] = useState(false);\r\n  const [isResponseOpen, setIsResponseOpen] = useState(false);\r\n  const [isMessageReplyOpen, setIsMessageReplyOpen] = useState(false);\r\n  const [messages, setMessages] = useState<\r\n    {\r\n      id: string;\r\n      facultyId: string;\r\n      auditorId?: string;\r\n      entityType: string;\r\n      entityId: string;\r\n      threadId?: string;\r\n      senderRole?: string;\r\n      senderName?: string;\r\n      message: string;\r\n      status?: string;\r\n      createdAt?: string;\r\n    }[]\r\n  >([]);\r\n\r\n  useEffect(() => {\r\n    const fetchFiles = async () => {\r\n      try {\r\n        const response = await fetch(\"/api/course-files\");\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          toast.error(data.error || \"Failed to load files\");\r\n          return;\r\n        }\r\n        setFiles(data.files ?? []);\r\n        setCategoryOptions(data.fileCategories ?? []);\r\n        setTypeOptions(data.fileTypes ?? []);\r\n      } catch (error) {\r\n        console.error(\"Load files error:\", error);\r\n        toast.error(\"Failed to load files\");\r\n      }\r\n    };\r\n\r\n    const fetchMessages = async () => {\r\n      if (userRole !== \"faculty\" || !user?.id) {\r\n        setMessages([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`/api/messages?facultyId=${user.id}`);\r\n        const data = await response.json();\r\n        if (!response.ok) {\r\n          setMessages([]);\r\n          return;\r\n        }\r\n        const scopedMessages = (data.messages ?? []).filter(\r\n          (message: { entityType: string }) =>\r\n            message.entityType === \"course-file\",\r\n        );\r\n        setMessages(scopedMessages);\r\n      } catch (error) {\r\n        console.error(\"Load messages error:\", error);\r\n        setMessages([]);\r\n      }\r\n    };\r\n\r\n    fetchFiles();\r\n    fetchMessages();\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      const handler = () => {\r\n        fetchFiles();\r\n        fetchMessages();\r\n      };\r\n      window.addEventListener(\"dashboard:data-updated\", handler);\r\n      return () => {\r\n        window.removeEventListener(\"dashboard:data-updated\", handler);\r\n      };\r\n    }\r\n  }, [user?.id, userRole]);\r\n\r\n  const handleFileUpload = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    if (!fileName || !courseCode || !courseName || !selectedFileType) {\r\n      toast.error(\"Please fill in all required fields\");\r\n      return;\r\n    }\r\n\r\n    if (!uploadedFileDataUrl) {\r\n      toast.error(\"Please choose a file to upload\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\"/api/course-files\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          facultyId: user?.id,\r\n          facultyName: user?.name ?? \"\",\r\n          department: user?.department ?? \"\",\r\n          fileName,\r\n          documentUrl: uploadedFileDataUrl,\r\n          courseCode,\r\n          courseName,\r\n          fileType: selectedFileType,\r\n          uploadDate: new Date().toISOString().split(\"T\")[0],\r\n          semester,\r\n          academicYear: selectedYear,\r\n          size: \"1.5 MB\",\r\n          status: \"Pending\",\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        toast.error(data.error || \"Upload failed\");\r\n        return;\r\n      }\r\n\r\n      setFiles(data.files);\r\n      setUploadDialogOpen(false);\r\n      toast.success(\"File uploaded successfully\");\r\n      if (typeof window !== \"undefined\") {\r\n        window.dispatchEvent(new Event(\"dashboard:data-updated\"));\r\n      }\r\n\r\n      setSelectedFileType(\"\");\r\n      setCourseCode(\"\");\r\n      setCourseName(\"\");\r\n      setSemester(\"\");\r\n      setFileName(\"\");\r\n      setUploadedFileDataUrl(null);\r\n      setSelectedYear(new Date().getFullYear().toString());\r\n    } catch (error) {\r\n      console.error(\"File upload error:\", error);\r\n      toast.error(\"An error occurred during upload\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    try {\r\n      const response = await fetch(`/api/course-files/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        toast.error(data.error || \"Delete failed\");\r\n        return;\r\n      }\r\n      setFiles(data.files);\r\n      toast.success(\"File deleted successfully\");\r\n      if (typeof window !== \"undefined\") {\r\n        window.dispatchEvent(new Event(\"dashboard:data-updated\"));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Delete error:\", error);\r\n      toast.error(\"An error occurred while deleting\");\r\n    }\r\n  };\r\n\r\n  const handleDownload = (file: CourseFile) => {\r\n    const safeName = sanitizeFileName(file.fileName, \"course-file\");\r\n    if (file.documentUrl) {\r\n      downloadFromDataUrl(file.documentUrl, safeName);\r\n      toast.success(`Downloading ${file.fileName}`);\r\n      return;\r\n    }\r\n\r\n    const baseName = safeName.replace(/\\.[^/.]+$/, \"\");\r\n    const summaryName = `${baseName || \"course-file\"}-summary.txt`;\r\n    const summary = [\r\n      `File Name: ${file.fileName}`,\r\n      `Course: ${file.courseCode} - ${file.courseName}`,\r\n      `Type: ${file.fileType}`,\r\n      `Semester: ${file.semester}`,\r\n      `Academic Year: ${file.academicYear}`,\r\n      `Uploaded: ${file.uploadDate}`,\r\n      `Faculty: ${file.facultyName}`,\r\n      `Department: ${file.department}`,\r\n      `Status: ${file.status ?? \"Unknown\"}`,\r\n    ].join(\"\\n\");\r\n    downloadTextFile(summary, summaryName);\r\n    toast.success(`Downloaded summary for ${file.fileName}`);\r\n  };\r\n\r\n  const handleView = (file: CourseFile) => {\r\n    setSelectedFile(file);\r\n    setIsViewOpen(true);\r\n  };\r\n\r\n  const handleResponse = async (response: string) => {\r\n    if (!selectedFile) return;\r\n\r\n    try {\r\n      const apiResponse = await fetch(`/api/course-files/${selectedFile.id}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          facultyResponse: response,\r\n        }),\r\n      });\r\n      const data = await apiResponse.json();\r\n      if (!apiResponse.ok) {\r\n        toast.error(data.error || \"Response update failed\");\r\n        return;\r\n      }\r\n      setFiles(data.files);\r\n      const updated = data.files\r\n        .filter((file: CourseFile) => file.id === selectedFile.id)\r\n        .reduce<CourseFile | undefined>((acc, file) => acc ?? file, undefined);\r\n      if (updated) {\r\n        setSelectedFile(updated);\r\n      }\r\n      if (typeof window !== \"undefined\") {\r\n        window.dispatchEvent(new Event(\"dashboard:data-updated\"));\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Response error:\", error);\r\n      toast.error(\"An error occurred while saving response\");\r\n    }\r\n  };\r\n\r\n  const handleMessageReply = async (response: string) => {\r\n    if (!selectedFile || !user?.id) return;\r\n\r\n    const threadId = `course-file:${selectedFile.id}`;\r\n    const threadMessages = messagesByThread[threadId] ?? [];\r\n    const auditorId = threadMessages.find((msg) => msg.auditorId)?.auditorId;\r\n\r\n    await fetch(\"/api/messages\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        facultyId: user.id,\r\n        auditorId,\r\n        entityType: \"course-file\",\r\n        entityId: selectedFile.id,\r\n        threadId,\r\n        senderRole: \"faculty\",\r\n        senderName: user.name,\r\n        message: response,\r\n      }),\r\n    });\r\n\r\n    if (typeof window !== \"undefined\") {\r\n      window.dispatchEvent(new Event(\"dashboard:data-updated\"));\r\n    }\r\n  };\r\n\r\n  const facultyFiles = useMemo(() => {\r\n    if (userRole === \"faculty\" && user?.id) {\r\n      return files.filter((file) => file.facultyId === user.id);\r\n    }\r\n    return files;\r\n  }, [files, user?.id, userRole]);\r\n\r\n  const resolvedFiles = facultyFiles.filter((file) => {\r\n    const matchesSearch =\r\n      file.fileName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      file.courseCode.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      file.courseName.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesType = filterType === \"all\" || file.fileType === filterType;\r\n    const matchesStatus =\r\n      filterStatus === \"all\" || file.status === filterStatus;\r\n    const matchesYear =\r\n      filterYear === \"all\" || file.academicYear === filterYear;\r\n\r\n    return matchesSearch && matchesType && matchesStatus && matchesYear;\r\n  });\r\n\r\n  const statuses = Array.from(\r\n    new Set(facultyFiles.map((f) => f.status).filter(Boolean)),\r\n  );\r\n  const years = Array.from(new Set(facultyFiles.map((f) => f.academicYear)));\r\n\r\n  const normalizeThreadId = (message: {\r\n    threadId?: string;\r\n    entityType: string;\r\n    entityId: string;\r\n  }) => message.threadId ?? `${message.entityType}:${message.entityId}`;\r\n\r\n  const messagesByThread = useMemo(() => {\r\n    return messages.reduce<Record<string, typeof messages>>((acc, message) => {\r\n      const threadId = normalizeThreadId(message);\r\n      if (!acc[threadId]) {\r\n        acc[threadId] = [];\r\n      }\r\n      acc[threadId].push({ ...message, threadId });\r\n      return acc;\r\n    }, {});\r\n  }, [messages]);\r\n\r\n  const getThreadMessagesForFile = (fileId: string) => {\r\n    const threadId = `course-file:${fileId}`;\r\n    const threadMessages = messagesByThread[threadId] ?? [];\r\n    return [...threadMessages].sort((a, b) => {\r\n      const aTime = new Date(a.createdAt ?? 0).getTime();\r\n      const bTime = new Date(b.createdAt ?? 0).getTime();\r\n      return aTime - bTime;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle>Course File Management</CardTitle>\r\n        <CardDescription>\r\n          Upload and manage course materials, syllabi, lesson plans, and\r\n          assignments\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        <Tabs defaultValue=\"my-files\" className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-2\">\r\n            <TabsTrigger value=\"my-files\">My Files</TabsTrigger>\r\n            <TabsTrigger value=\"all-files\">\r\n              <Users className=\"h-4 w-4 mr-2\" />\r\n              All Faculty Files\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          <TabsContent value=\"my-files\" className=\"space-y-4 mt-4\">\r\n            {/* Search and Filter Bar */}\r\n            <div className=\"flex flex-col md:flex-row gap-4\">\r\n              <div className=\"flex-1 relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                <Input\r\n                  placeholder=\"Search files...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-10\"\r\n                />\r\n              </div>\r\n              <Select value={filterType} onValueChange={setFilterType}>\r\n                <SelectTrigger className=\"w-full md:w-48\">\r\n                  <Filter className=\"h-4 w-4 mr-2\" />\r\n                  <SelectValue placeholder=\"Filter by Type\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Types</SelectItem>\r\n                  {typeOptions.map((type) => (\r\n                    <SelectItem key={type} value={type}>\r\n                      {type}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n              <Select value={filterStatus} onValueChange={setFilterStatus}>\r\n                <SelectTrigger className=\"w-full md:w-48\">\r\n                  <Filter className=\"h-4 w-4 mr-2\" />\r\n                  <SelectValue placeholder=\"Filter by Status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Statuses</SelectItem>\r\n                  {statuses.map((status) => (\r\n                    <SelectItem\r\n                      key={status || \"unknown\"}\r\n                      value={status || \"unknown\"}\r\n                    >\r\n                      {status || \"Unknown\"}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n              <Select value={filterYear} onValueChange={setFilterYear}>\r\n                <SelectTrigger className=\"w-full md:w-48\">\r\n                  <Filter className=\"h-4 w-4 mr-2\" />\r\n                  <SelectValue placeholder=\"Filter by Year\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"all\">All Years</SelectItem>\r\n                  {years.map((year) => (\r\n                    <SelectItem key={year} value={year}>\r\n                      {year}\r\n                    </SelectItem>\r\n                  ))}\r\n                </SelectContent>\r\n              </Select>\r\n              <Dialog\r\n                open={uploadDialogOpen}\r\n                onOpenChange={setUploadDialogOpen}\r\n              >\r\n                <DialogTrigger asChild>\r\n                  <Button className=\"w-full md:w-auto\">\r\n                    <Upload className=\"h-4 w-4 mr-2\" />\r\n                    Upload File\r\n                  </Button>\r\n                </DialogTrigger>\r\n                <DialogContent className=\"max-w-md\">\r\n                  <DialogHeader>\r\n                    <DialogTitle>Upload Course File</DialogTitle>\r\n                    <DialogDescription>\r\n                      Add a new course file to your repository\r\n                    </DialogDescription>\r\n                  </DialogHeader>\r\n                  <form onSubmit={handleFileUpload} className=\"space-y-4\">\r\n                    <div>\r\n                      <Label htmlFor=\"file\">File</Label>\r\n                      <Input\r\n                        id=\"file\"\r\n                        type=\"file\"\r\n                        required\r\n                        accept=\".pdf,.doc,.docx,.ppt,.pptx\"\r\n                        onChange={(e) => {\r\n                          const file = e.target.files?.[0];\r\n                          if (!file) {\r\n                            setFileName(\"\");\r\n                            setUploadedFileDataUrl(null);\r\n                            return;\r\n                          }\r\n                          setFileName(file.name);\r\n                          const reader = new FileReader();\r\n                          reader.onloadend = () => {\r\n                            setUploadedFileDataUrl(\r\n                              typeof reader.result === \"string\"\r\n                                ? reader.result\r\n                                : null,\r\n                            );\r\n                          };\r\n                          reader.readAsDataURL(file);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"category\">File Category *</Label>\r\n                      <Select\r\n                        value={selectedCategory}\r\n                        onValueChange={(value) => setSelectedCategory(value)}\r\n                        required\r\n                      >\r\n                        <SelectTrigger id=\"category\">\r\n                          <SelectValue placeholder=\"Select file category\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          {categoryOptions.map((category) => (\r\n                            <SelectItem key={category} value={category}>\r\n                              {category}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"courseCode\">Course Code</Label>\r\n                      <Input\r\n                        id=\"courseCode\"\r\n                        value={courseCode}\r\n                        onChange={(e) => setCourseCode(e.target.value)}\r\n                        placeholder=\"e.g., CS101\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"courseName\">Course Name</Label>\r\n                      <Input\r\n                        id=\"courseName\"\r\n                        value={courseName}\r\n                        onChange={(e) => setCourseName(e.target.value)}\r\n                        placeholder=\"e.g., Introduction to Computer Science\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"fileType\">File Type</Label>\r\n                      <Select\r\n                        value={selectedFileType}\r\n                        onValueChange={(value) => setSelectedFileType(value)}\r\n                      >\r\n                        <SelectTrigger id=\"fileType\">\r\n                          <SelectValue placeholder=\"Select file type\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          {typeOptions.map((type) => (\r\n                            <SelectItem key={type} value={type}>\r\n                              {type}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <Label htmlFor=\"semester\">Semester</Label>\r\n                        <Select\r\n                          value={semester}\r\n                          onValueChange={(value) => setSemester(value)}\r\n                        >\r\n                          <SelectTrigger id=\"semester\">\r\n                            <SelectValue placeholder=\"Select semester\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            <SelectItem value=\"Fall\">Fall</SelectItem>\r\n                            <SelectItem value=\"Spring\">Spring</SelectItem>\r\n                            <SelectItem value=\"Summer\">Summer</SelectItem>\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n                      <div>\r\n                        <Label htmlFor=\"academicYear\">Academic Year</Label>\r\n                        <Input\r\n                          id=\"academicYear\"\r\n                          value={selectedYear}\r\n                          onChange={(e) => setSelectedYear(e.target.value)}\r\n                          placeholder=\"2024-2025\"\r\n                          required\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <Button type=\"submit\" className=\"w-full\">\r\n                      Upload File\r\n                    </Button>\r\n                  </form>\r\n                </DialogContent>\r\n              </Dialog>\r\n            </div>\r\n\r\n            {/* Files Table */}\r\n            <div className=\"border rounded-lg\">\r\n              <Table>\r\n                <TableHeader>\r\n                  <TableRow>\r\n                    <TableHead>File Name</TableHead>\r\n                    <TableHead>Course</TableHead>\r\n                    <TableHead>Type</TableHead>\r\n                    <TableHead>Semester</TableHead>\r\n                    <TableHead>Upload Date</TableHead>\r\n                    <TableHead>Size</TableHead>\r\n                    <TableHead className=\"text-right\">Actions</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {resolvedFiles.length === 0 ? (\r\n                    <TableRow>\r\n                      <TableCell\r\n                        colSpan={7}\r\n                        className=\"text-center text-gray-500 py-8\"\r\n                      >\r\n                        No files found. Upload your first course file to get\r\n                        started.\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) : (\r\n                    resolvedFiles.map((file) => (\r\n                      <TableRow key={file.id}>\r\n                        <TableCell className=\"flex items-center gap-2\">\r\n                          <FileText className=\"h-4 w-4 text-blue-600\" />\r\n                          <span>{file.fileName}</span>\r\n                          {messagesByThread[`course-file:${file.id}`] && (\r\n                            <span className=\"h-2 w-2 rounded-full bg-red-500\" />\r\n                          )}\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <div>\r\n                            <div>{file.courseCode}</div>\r\n                            <div className=\"text-sm text-gray-500\">\r\n                              {file.courseName}\r\n                            </div>\r\n                          </div>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <Badge variant=\"secondary\">{file.fileType}</Badge>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          {file.semester} {file.academicYear}\r\n                        </TableCell>\r\n                        <TableCell>{file.uploadDate}</TableCell>\r\n                        <TableCell>{file.size}</TableCell>\r\n                        <TableCell>\r\n                          <div className=\"flex justify-end gap-2\">\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleDownload(file)}\r\n                            >\r\n                              <Download className=\"h-4 w-4\" />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleDelete(file.id)}\r\n                            >\r\n                              <Trash2 className=\"h-4 w-4 text-red-600\" />\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"ghost\"\r\n                              size=\"sm\"\r\n                              onClick={() => handleView(file)}\r\n                            >\r\n                              <Eye className=\"h-4 w-4 text-blue-600\" />\r\n                            </Button>\r\n                          </div>\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n\r\n            {/* Summary Stats */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4\">\r\n              <Card>\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"text-2xl\">{resolvedFiles.length}</div>\r\n                  <p className=\"text-sm text-gray-500\">Total Files</p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"text-2xl\">{fileTypes.length}</div>\r\n                  <p className=\"text-sm text-gray-500\">File Types</p>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardContent className=\"pt-6\">\r\n                  <div className=\"text-2xl\">{years.length}</div>\r\n                  <p className=\"text-sm text-gray-500\">Years</p>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n\r\n            {/* View File Details Dialog */}\r\n            <Dialog open={isViewOpen} onOpenChange={setIsViewOpen}>\r\n              <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n                <DialogHeader>\r\n                  <DialogTitle>File Details</DialogTitle>\r\n                  <DialogDescription>\r\n                    {selectedFile && (\r\n                      <span className=\"flex items-center gap-2 mt-2\">\r\n                        <FileText className=\"h-4 w-4\" />\r\n                        {selectedFile.fileName}\r\n                      </span>\r\n                    )}\r\n                  </DialogDescription>\r\n                </DialogHeader>\r\n                {selectedFile && (\r\n                  <div className=\"space-y-4\">\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500\">Course Code</p>\r\n                        <p>{selectedFile.courseCode}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500\">Course Name</p>\r\n                        <p>{selectedFile.courseName}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500\">File Type</p>\r\n                        <p>{selectedFile.fileType}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500\">Semester</p>\r\n                        <p>\r\n                          {selectedFile.semester} {selectedFile.academicYear}\r\n                        </p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500\">Upload Date</p>\r\n                        <p>{selectedFile.uploadDate}</p>\r\n                      </div>\r\n                      <div>\r\n                        <p className=\"text-sm text-gray-500\">File Size</p>\r\n                        <p>{selectedFile.size}</p>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Admin Review Section */}\r\n                    {selectedFile.status && (\r\n                      <div className=\"border-t pt-4 mt-4\">\r\n                        <div className=\"flex items-center justify-between mb-3\">\r\n                          <h4 className=\"flex items-center gap-2\">\r\n                            <MessageSquare className=\"h-5 w-5 text-gray-600\" />\r\n                            Admin Review\r\n                          </h4>\r\n                          <Badge\r\n                            className={\r\n                              selectedFile.status === \"Approved\"\r\n                                ? \"bg-green-100 text-green-800\"\r\n                                : selectedFile.status === \"Rejected\"\r\n                                  ? \"bg-red-100 text-red-800\"\r\n                                  : \"bg-yellow-100 text-yellow-800\"\r\n                            }\r\n                          >\r\n                            {selectedFile.status}\r\n                          </Badge>\r\n                        </div>\r\n\r\n                        {selectedFile.adminRemarks ? (\r\n                          <div className=\"space-y-3\">\r\n                            <Alert\r\n                              className={\r\n                                selectedFile.status === \"Approved\"\r\n                                  ? \"border-green-200 bg-green-50\"\r\n                                  : selectedFile.status === \"Rejected\"\r\n                                    ? \"border-red-200 bg-red-50\"\r\n                                    : \"border-yellow-200 bg-yellow-50\"\r\n                              }\r\n                            >\r\n                              <AlertDescription>\r\n                                <p className=\"text-sm mb-3\">\r\n                                  {selectedFile.adminRemarks}\r\n                                </p>\r\n                                {selectedFile.reviewedBy && (\r\n                                  <div className=\"text-xs text-gray-600 pt-2 border-t border-gray-200\">\r\n                                    <p>\r\n                                      Reviewed by: {selectedFile.reviewedBy}\r\n                                    </p>\r\n                                    {selectedFile.reviewedDate && (\r\n                                      <p>Date: {selectedFile.reviewedDate}</p>\r\n                                    )}\r\n                                  </div>\r\n                                )}\r\n                              </AlertDescription>\r\n                            </Alert>\r\n\r\n                            {/* Faculty Response */}\r\n                            {selectedFile.facultyResponse ? (\r\n                              <Alert className=\"border-blue-200 bg-blue-50\">\r\n                                <AlertDescription>\r\n                                  <p className=\"text-xs text-blue-800 mb-2\">\r\n                                    Your Response:\r\n                                  </p>\r\n                                  <p className=\"text-sm mb-3\">\r\n                                    {selectedFile.facultyResponse}\r\n                                  </p>\r\n                                  {selectedFile.responseDate && (\r\n                                    <div className=\"text-xs text-gray-600 pt-2 border-t border-gray-200\">\r\n                                      <p>\r\n                                        Response Date:{\" \"}\r\n                                        {selectedFile.responseDate}\r\n                                      </p>\r\n                                    </div>\r\n                                  )}\r\n                                </AlertDescription>\r\n                              </Alert>\r\n                            ) : (\r\n                              <Button\r\n                                variant=\"outline\"\r\n                                size=\"sm\"\r\n                                onClick={() => setIsResponseOpen(true)}\r\n                                className=\"w-full\"\r\n                              >\r\n                                <Reply className=\"h-4 w-4 mr-2\" />\r\n                                Respond to Admin Review\r\n                              </Button>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          <Alert>\r\n                            <AlertDescription className=\"text-sm text-gray-500\">\r\n                              This file is pending admin review. You will be\r\n                              notified once the review is complete.\r\n                            </AlertDescription>\r\n                          </Alert>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n\r\n                    {(() => {\r\n                      const threadMessages = getThreadMessagesForFile(\r\n                        selectedFile.id,\r\n                      );\r\n\r\n                      if (threadMessages.length === 0) return null;\r\n\r\n                      return (\r\n                        <div className=\"border-t pt-4 mt-4\">\r\n                          <div className=\"flex items-center justify-between mb-3\">\r\n                            <h4 className=\"flex items-center gap-2\">\r\n                              <MessageSquare className=\"h-5 w-5 text-gray-600\" />\r\n                              Auditor Messages\r\n                            </h4>\r\n                            <Badge variant=\"outline\">\r\n                              {threadMessages.length}\r\n                            </Badge>\r\n                          </div>\r\n                          <div className=\"space-y-3 max-h-[40vh] overflow-y-auto pr-1\">\r\n                            {threadMessages.map((msg) => (\r\n                              <div\r\n                                key={msg.id}\r\n                                className=\"rounded-md border bg-white p-3\"\r\n                              >\r\n                                <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                                  <span>\r\n                                    {msg.senderName ||\r\n                                      msg.senderRole ||\r\n                                      \"Message\"}\r\n                                  </span>\r\n                                  {msg.createdAt && (\r\n                                    <span>\r\n                                      {new Date(msg.createdAt).toLocaleString()}\r\n                                    </span>\r\n                                  )}\r\n                                </div>\r\n                                <p className=\"text-sm text-gray-700 mt-2\">\r\n                                  {msg.message}\r\n                                </p>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => setIsMessageReplyOpen(true)}\r\n                          >\r\n                            <Reply className=\"h-4 w-4 mr-2\" />\r\n                            Reply to Auditor\r\n                          </Button>\r\n                        </div>\r\n                      );\r\n                    })()}\r\n\r\n                    <div className=\"flex gap-2 pt-4\">\r\n                      <Button\r\n                        onClick={() => handleDownload(selectedFile)}\r\n                        className=\"flex-1\"\r\n                      >\r\n                        <Download className=\"h-4 w-4 mr-2\" />\r\n                        Download File\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        onClick={() => setIsViewOpen(false)}\r\n                      >\r\n                        Close\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </DialogContent>\r\n            </Dialog>\r\n\r\n            {/* Response Dialog */}\r\n            <ResponseDialog\r\n              open={isResponseOpen}\r\n              onOpenChange={setIsResponseOpen}\r\n              onSubmit={handleResponse}\r\n              itemType=\"file\"\r\n            />\r\n            <ResponseDialog\r\n              open={isMessageReplyOpen}\r\n              onOpenChange={setIsMessageReplyOpen}\r\n              onSubmit={handleMessageReply}\r\n              itemType=\"file\"\r\n            />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"all-files\" className=\"space-y-4 mt-4\">\r\n            <AllFacultyFilesView\r\n              files={facultyFiles}\r\n              currentUser={user?.name ?? \"\"}\r\n              onFilesChange={setFiles}\r\n            />\r\n          </TabsContent>\r\n        </Tabs>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n","import { Card } from \"../../ui/card\";\r\nimport { Button } from \"../../ui/button\";\r\nimport { ArrowLeft, FileText, Download } from \"lucide-react\";\r\nimport { CourseFile } from \"./types\";\r\n\r\ninterface DocumentHeaderProps {\r\n  file: CourseFile;\r\n  onBack: () => void;\r\n  onDownload: (file: CourseFile) => void;\r\n}\r\n\r\nexport function DocumentHeader({ file, onBack, onDownload }: DocumentHeaderProps) {\r\n  return (\r\n    <div className=\"bg-white border-b sticky top-0 z-10\">\r\n      <div className=\"container mx-auto px-4 py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <Button variant=\"outline\" onClick={onBack}>\r\n              <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n              Back to Files\r\n            </Button>\r\n            <div>\r\n              <h1 className=\"text-xl font-semibold\">{file.fileName}</h1>\r\n              <p className=\"text-sm text-gray-600\">\r\n                {file.courseCode} - {file.courseName}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <Button onClick={() => onDownload(file)}>\r\n            <Download className=\"h-4 w-4 mr-2\" />\r\n            Download\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Card } from \"../../ui/card\";\r\nimport { Badge } from \"../../ui/badge\";\r\nimport { User, BookOpen, Calendar } from \"lucide-react\";\r\nimport { CourseFile } from \"./types\";\r\n\r\ninterface FileInfoSidebarProps {\r\n  file: CourseFile;\r\n}\r\n\r\nexport function FileInfoSidebar({ file }: FileInfoSidebarProps) {\r\n  return (\r\n    <Card className=\"p-4 space-y-4\">\r\n      <h3 className=\"font-semibold text-gray-900\">File Information</h3>\r\n\r\n      <div className=\"space-y-3\">\r\n        <div className=\"flex items-start gap-3\">\r\n          <User className=\"h-4 w-4 text-gray-400 mt-1 flex-shrink-0\" />\r\n          <div className=\"min-w-0\">\r\n            <p className=\"text-xs font-medium text-gray-600\">Faculty</p>\r\n            <p className=\"text-sm text-gray-900\">{file.facultyName}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-start gap-3\">\r\n          <BookOpen className=\"h-4 w-4 text-gray-400 mt-1 flex-shrink-0\" />\r\n          <div className=\"min-w-0\">\r\n            <p className=\"text-xs font-medium text-gray-600\">Department</p>\r\n            <p className=\"text-sm text-gray-900\">{file.department}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-start gap-3\">\r\n          <BookOpen className=\"h-4 w-4 text-gray-400 mt-1 flex-shrink-0\" />\r\n          <div className=\"min-w-0\">\r\n            <p className=\"text-xs font-medium text-gray-600\">Course</p>\r\n            <p className=\"text-sm text-gray-900\">{file.courseName}</p>\r\n            <p className=\"text-xs text-gray-600\">{file.courseCode}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-start gap-3\">\r\n          <Calendar className=\"h-4 w-4 text-gray-400 mt-1 flex-shrink-0\" />\r\n          <div className=\"min-w-0\">\r\n            <p className=\"text-xs font-medium text-gray-600\">Semester</p>\r\n            <p className=\"text-sm text-gray-900\">{file.semester}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-start gap-3\">\r\n          <Calendar className=\"h-4 w-4 text-gray-400 mt-1 flex-shrink-0\" />\r\n          <div className=\"min-w-0\">\r\n            <p className=\"text-xs font-medium text-gray-600\">Upload Date</p>\r\n            <p className=\"text-sm text-gray-900\">{file.uploadDate}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {file.status && (\r\n          <div className=\"flex items-start gap-3\">\r\n            <div className=\"h-4 w-4 mt-1 flex-shrink-0\" />\r\n            <div className=\"min-w-0\">\r\n              <p className=\"text-xs font-medium text-gray-600\">Status</p>\r\n              <Badge\r\n                variant={\r\n                  file.status === \"Approved\"\r\n                    ? \"default\"\r\n                    : file.status === \"Pending\"\r\n                      ? \"secondary\"\r\n                      : \"outline\"\r\n                }\r\n              >\r\n                {file.status}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","import { Alert, AlertDescription } from \"../../ui/alert\";\r\nimport { Badge } from \"../../ui/badge\";\r\nimport { CheckCircle2, AlertCircle } from \"lucide-react\";\r\nimport { CourseFile } from \"./types\";\r\n\r\ninterface AdminReviewSectionProps {\r\n  file: CourseFile;\r\n}\r\n\r\nexport function AdminReviewSection({ file }: AdminReviewSectionProps) {\r\n  if (!file.adminRemarks) return null;\r\n\r\n  return (\r\n    <Alert className={file.status === \"Approved\" ? \"border-green-200 bg-green-50\" : \"border-yellow-200 bg-yellow-50\"}>\r\n      <div className=\"flex gap-3\">\r\n        {file.status === \"Approved\" ? (\r\n          <CheckCircle2 className=\"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0\" />\r\n        ) : (\r\n          <AlertCircle className=\"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0\" />\r\n        )}\r\n        <div className=\"min-w-0 flex-1\">\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <h4 className=\"font-semibold text-gray-900\">Admin Review</h4>\r\n            <Badge variant={file.status === \"Approved\" ? \"default\" : \"secondary\"}>\r\n              {file.status}\r\n            </Badge>\r\n          </div>\r\n          <AlertDescription className=\"text-gray-700 text-sm\">\r\n            {file.adminRemarks}\r\n          </AlertDescription>\r\n          {file.reviewedBy && file.reviewedDate && (\r\n            <p className=\"text-xs text-gray-600 mt-2\">\r\n              Reviewed by {file.reviewedBy} on {file.reviewedDate}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Alert>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Button } from \"../../ui/button\";\r\nimport { PeerReviewDialog } from \"../../shared/dialogs/PeerReviewDialog\";\r\nimport { ResponseDialog } from \"../../shared/dialogs/ResponseDialog\";\r\nimport { DocumentHeader } from \"./DocumentHeader\";\r\nimport { DocumentPreview } from \"./DocumentPreview\";\r\nimport { FileInfoSidebar } from \"./FileInfoSidebar\";\r\nimport { AdminReviewSection } from \"./AdminReviewSection\";\r\nimport { PeerReviewsSection } from \"./PeerReviewsSection\";\r\nimport { CourseFile, PeerReview, DocumentViewerInterfaceProps } from \"./types\";\r\nimport {\r\n  downloadFromDataUrl,\r\n  downloadTextFile,\r\n  sanitizeFileName,\r\n} from \"@/lib/download\";\r\n\r\nexport function DocumentViewerInterface({\r\n  file,\r\n  onBack,\r\n}: DocumentViewerInterfaceProps) {\r\n  const [isPeerReviewOpen, setIsPeerReviewOpen] = useState(false);\r\n  const [isResponseOpen, setIsResponseOpen] = useState(false);\r\n  const [selectedReview, setSelectedReview] = useState<PeerReview | null>(null);\r\n  const [reviews, setReviews] = useState<PeerReview[]>(file.peerReviews || []);\r\n\r\n  const handlePeerReviewSubmit = (review: string) => {\r\n    const newReview: PeerReview = {\r\n      id: Date.now().toString(),\r\n      reviewerName: \"Current User\", // In a real app, get from current user context\r\n      comment: review,\r\n      reviewDate: new Date().toLocaleDateString(),\r\n      facultyResponse: undefined,\r\n      reviewerAvatar: `https://api.dicebear.com/7.x/avataaars/svg?seed=${Math.random()}`,\r\n    };\r\n    setReviews([...reviews, newReview]);\r\n    setIsPeerReviewOpen(false);\r\n  };\r\n\r\n  const handleResponseSubmit = (response: string) => {\r\n    if (selectedReview) {\r\n      setReviews(\r\n        reviews.map((review) =>\r\n          review.id === selectedReview.id\r\n            ? { ...review, facultyResponse: response }\r\n            : review,\r\n        ),\r\n      );\r\n      setSelectedReview(null);\r\n      setIsResponseOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadDocument = (file: CourseFile) => {\r\n    const safeName = sanitizeFileName(file.fileName, \"course-file\");\r\n    if (file.documentUrl) {\r\n      downloadFromDataUrl(file.documentUrl, safeName);\r\n      return;\r\n    }\r\n\r\n    const baseName = safeName.replace(/\\.[^/.]+$/, \"\");\r\n    const summaryName = `${baseName || \"course-file\"}-summary.txt`;\r\n    const summary = [\r\n      `File Name: ${file.fileName}`,\r\n      `Course: ${file.courseCode} - ${file.courseName}`,\r\n      `Type: ${file.fileType}`,\r\n      `Semester: ${file.semester}`,\r\n      `Academic Year: ${file.academicYear}`,\r\n      `Uploaded: ${file.uploadDate}`,\r\n      `Faculty: ${file.facultyName}`,\r\n      `Department: ${file.department}`,\r\n      `Status: ${file.status ?? \"Unknown\"}`,\r\n    ].join(\"\\n\");\r\n    downloadTextFile(summary, summaryName);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <DocumentHeader\r\n        file={file}\r\n        onBack={onBack}\r\n        onDownload={handleDownloadDocument}\r\n      />\r\n\r\n      <div className=\"container mx-auto px-4 py-6\">\r\n        <div className=\"grid grid-cols-3 gap-6\">\r\n          {/* Main Content */}\r\n          <div className=\"col-span-2 space-y-6\">\r\n            <DocumentPreview file={file} />\r\n            <AdminReviewSection file={file} />\r\n            <PeerReviewsSection\r\n              reviews={reviews}\r\n              selectedReview={selectedReview}\r\n              onSelectReview={setSelectedReview}\r\n              onAddReview={() => setIsPeerReviewOpen(true)}\r\n            />\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div>\r\n            <FileInfoSidebar file={file} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Dialogs */}\r\n      {isPeerReviewOpen && (\r\n        <PeerReviewDialog\r\n          open={isPeerReviewOpen}\r\n          onOpenChange={setIsPeerReviewOpen}\r\n          onSubmit={handlePeerReviewSubmit}\r\n          itemType=\"file\"\r\n          itemName={file.fileName}\r\n        />\r\n      )}\r\n\r\n      {selectedReview && isResponseOpen && (\r\n        <ResponseDialog\r\n          open={isResponseOpen}\r\n          onOpenChange={setIsResponseOpen}\r\n          onSubmit={handleResponseSubmit}\r\n          itemType=\"file\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { Card } from \"../../ui/card\";\r\nimport { Button } from \"../../ui/button\";\r\nimport { Avatar, AvatarImage, AvatarFallback } from \"../../ui/avatar\";\r\nimport { Accordion, AccordionContent, AccordionItem, AccordionTrigger } from \"../../ui/accordion\";\r\nimport { MessageSquare, Plus } from \"lucide-react\";\r\nimport { PeerReview } from \"./types\";\r\n\r\ninterface PeerReviewsSectionProps {\r\n  reviews: PeerReview[];\r\n  selectedReview: PeerReview | null;\r\n  onSelectReview: (review: PeerReview | null) => void;\r\n  onAddReview: () => void;\r\n}\r\n\r\nexport function PeerReviewsSection({\r\n  reviews,\r\n  selectedReview,\r\n  onSelectReview,\r\n  onAddReview,\r\n}: PeerReviewsSectionProps) {\r\n  return (\r\n    <Card className=\"p-4\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"font-semibold text-gray-900\">Peer Reviews</h3>\r\n        <Button\r\n          size=\"sm\"\r\n          variant=\"outline\"\r\n          onClick={onAddReview}\r\n          className=\"gap-2\"\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add Review\r\n        </Button>\r\n      </div>\r\n\r\n      {reviews.length === 0 ? (\r\n        <p className=\"text-sm text-gray-600 text-center py-4\">\r\n          No peer reviews yet. Be the first to review!\r\n        </p>\r\n      ) : (\r\n        <Accordion type=\"single\" collapsible className=\"w-full\">\r\n          {reviews.map((review) => (\r\n            <AccordionItem key={review.id} value={review.id} className=\"border-b\">\r\n              <AccordionTrigger className=\"hover:no-underline py-3\">\r\n                <div className=\"flex items-center gap-3 w-full\">\r\n                  <Avatar className=\"h-8 w-8\">\r\n                    <AvatarImage src={review.reviewerAvatar} />\r\n                    <AvatarFallback>\r\n                      {review.reviewerName\r\n                        .split(\" \")\r\n                        .map((n) => n[0])\r\n                        .join(\"\")}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                  <div className=\"text-left flex-1\">\r\n                    <p className=\"font-medium text-sm text-gray-900\">\r\n                      {review.reviewerName}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-600\">\r\n                      {review.reviewDate}\r\n                    </p>\r\n                  </div>\r\n                  <MessageSquare className=\"h-4 w-4 text-gray-400\" />\r\n                </div>\r\n              </AccordionTrigger>\r\n              <AccordionContent className=\"pt-4 space-y-3\">\r\n                <p className=\"text-sm text-gray-700\">{review.comment}</p>\r\n                {review.facultyResponse && (\r\n                  <div className=\"bg-blue-50 border-l-4 border-blue-200 p-3 rounded\">\r\n                    <p className=\"text-xs font-semibold text-blue-900 mb-1\">\r\n                      Faculty Response\r\n                    </p>\r\n                    <p className=\"text-sm text-blue-700\">\r\n                      {review.facultyResponse}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </AccordionContent>\r\n            </AccordionItem>\r\n          ))}\r\n        </Accordion>\r\n      )}\r\n    </Card>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('circle-check', __iconNode);\n\nexport default CircleCheck;\n","import { Card } from \"../../ui/card\";\r\nimport { Badge } from \"../../ui/badge\";\r\nimport { FileText } from \"lucide-react\";\r\nimport { CourseFile } from \"./types\";\r\n\r\ninterface DocumentPreviewProps {\r\n  file: CourseFile;\r\n}\r\n\r\nexport function DocumentPreview({ file }: DocumentPreviewProps) {\r\n  return (\r\n    <Card className=\"border-0 shadow-sm\">\r\n      <div className=\"aspect-video bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300\">\r\n        <div className=\"text-center\">\r\n          <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-2\" />\r\n          <p className=\"text-gray-600\">Document Preview</p>\r\n          <p className=\"text-sm text-gray-500\">File: {file.fileName}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-4 space-y-2\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <span className=\"text-sm font-medium text-gray-600\">File Type:</span>\r\n          <span className=\"text-sm text-gray-900\">.pdf</span>\r\n        </div>\r\n        <div className=\"flex justify-between items-center\">\r\n          <span className=\"text-sm font-medium text-gray-600\">Upload Date:</span>\r\n          <span className=\"text-sm text-gray-900\">{file.uploadDate}</span>\r\n        </div>\r\n        <div className=\"flex justify-between items-center\">\r\n          <span className=\"text-sm font-medium text-gray-600\">Status:</span>\r\n          <Badge\r\n            variant={\r\n              file.status === \"Approved\"\r\n                ? \"default\"\r\n                : file.status === \"Pending\"\r\n                  ? \"secondary\"\r\n                  : \"outline\"\r\n            }\r\n          >\r\n            {file.status}\r\n          </Badge>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n","import * as React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Avatar\n * -----------------------------------------------------------------------------------------------*/\n\nconst AVATAR_NAME = 'Avatar';\n\ntype ScopedProps<P> = P & { __scopeAvatar?: Scope };\nconst [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\n\ntype ImageLoadingStatus = 'idle' | 'loading' | 'loaded' | 'error';\n\ntype AvatarContextValue = {\n  imageLoadingStatus: ImageLoadingStatus;\n  onImageLoadingStatusChange(status: ImageLoadingStatus): void;\n};\n\nconst [AvatarProvider, useAvatarContext] = createAvatarContext<AvatarContextValue>(AVATAR_NAME);\n\ntype AvatarElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface AvatarProps extends PrimitiveSpanProps {}\n\nconst Avatar = React.forwardRef<AvatarElement, AvatarProps>(\n  (props: ScopedProps<AvatarProps>, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React.useState<ImageLoadingStatus>('idle');\n    return (\n      <AvatarProvider\n        scope={__scopeAvatar}\n        imageLoadingStatus={imageLoadingStatus}\n        onImageLoadingStatusChange={setImageLoadingStatus}\n      >\n        <Primitive.span {...avatarProps} ref={forwardedRef} />\n      </AvatarProvider>\n    );\n  }\n);\n\nAvatar.displayName = AVATAR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AvatarImage\n * -----------------------------------------------------------------------------------------------*/\n\nconst IMAGE_NAME = 'AvatarImage';\n\ntype AvatarImageElement = React.ElementRef<typeof Primitive.img>;\ntype PrimitiveImageProps = React.ComponentPropsWithoutRef<typeof Primitive.img>;\ninterface AvatarImageProps extends PrimitiveImageProps {\n  onLoadingStatusChange?: (status: ImageLoadingStatus) => void;\n}\n\nconst AvatarImage = React.forwardRef<AvatarImageElement, AvatarImageProps>(\n  (props: ScopedProps<AvatarImageProps>, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {}, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps.referrerPolicy);\n    const handleLoadingStatusChange = useCallbackRef((status: ImageLoadingStatus) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n\n    useLayoutEffect(() => {\n      if (imageLoadingStatus !== 'idle') {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n\n    return imageLoadingStatus === 'loaded' ? (\n      <Primitive.img {...imageProps} ref={forwardedRef} src={src} />\n    ) : null;\n  }\n);\n\nAvatarImage.displayName = IMAGE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * AvatarFallback\n * -----------------------------------------------------------------------------------------------*/\n\nconst FALLBACK_NAME = 'AvatarFallback';\n\ntype AvatarFallbackElement = React.ElementRef<typeof Primitive.span>;\ninterface AvatarFallbackProps extends PrimitiveSpanProps {\n  delayMs?: number;\n}\n\nconst AvatarFallback = React.forwardRef<AvatarFallbackElement, AvatarFallbackProps>(\n  (props: ScopedProps<AvatarFallbackProps>, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React.useState(delayMs === undefined);\n\n    React.useEffect(() => {\n      if (delayMs !== undefined) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n\n    return canRender && context.imageLoadingStatus !== 'loaded' ? (\n      <Primitive.span {...fallbackProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nAvatarFallback.displayName = FALLBACK_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction useImageLoadingStatus(src?: string, referrerPolicy?: React.HTMLAttributeReferrerPolicy) {\n  const [loadingStatus, setLoadingStatus] = React.useState<ImageLoadingStatus>('idle');\n\n  useLayoutEffect(() => {\n    if (!src) {\n      setLoadingStatus('error');\n      return;\n    }\n\n    let isMounted = true;\n    const image = new window.Image();\n\n    const updateStatus = (status: ImageLoadingStatus) => () => {\n      if (!isMounted) return;\n      setLoadingStatus(status);\n    };\n\n    setLoadingStatus('loading');\n    image.onload = updateStatus('loaded');\n    image.onerror = updateStatus('error');\n    image.src = src;\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n\n    return () => {\n      isMounted = false;\n    };\n  }, [src, referrerPolicy]);\n\n  return loadingStatus;\n}\nconst Root = Avatar;\nconst Image = AvatarImage;\nconst Fallback = AvatarFallback;\n\nexport {\n  createAvatarScope,\n  //\n  Avatar,\n  AvatarImage,\n  AvatarFallback,\n  //\n  Root,\n  Image,\n  Fallback,\n};\nexport type { AvatarProps, AvatarImageProps, AvatarFallbackProps };\n","import { useState } from \"react\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  FileText,\r\n  Download,\r\n  Search,\r\n  Filter,\r\n  Eye,\r\n  MessageSquare,\r\n} from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { toast } from \"sonner\";\r\nimport { DocumentViewerInterface } from \"@/components/DocumentViewerInterface\";\r\nimport { PeerReviewDialog } from \"@/components/shared/dialogs/PeerReviewDialog\";\r\nimport { ResponseDialog } from \"@/components/shared/dialogs/ResponseDialog\";\r\nimport { CourseFile, PeerReview } from \"./types\";\r\nimport {\r\n  downloadFromDataUrl,\r\n  downloadTextFile,\r\n  sanitizeFileName,\r\n} from \"@/lib/download\";\r\n\r\ninterface AllFacultyFilesViewProps {\r\n  files: CourseFile[];\r\n  currentUser: string;\r\n  onFilesChange?: (files: CourseFile[]) => void;\r\n}\r\n\r\nexport function AllFacultyFilesView({\r\n  files,\r\n  currentUser,\r\n  onFilesChange,\r\n}: AllFacultyFilesViewProps) {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterDepartment, setFilterDepartment] = useState(\"all\");\r\n  const [filterStatus, setFilterStatus] = useState(\"all\");\r\n  const [filterYear, setFilterYear] = useState(\"all\");\r\n  const [isViewOpen, setIsViewOpen] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState<CourseFile | null>(null);\r\n  const [isPeerReviewOpen, setIsPeerReviewOpen] = useState(false);\r\n  const [isResponseOpen, setIsResponseOpen] = useState(false);\r\n  const [selectedReview, setSelectedReview] = useState<PeerReview | null>(null);\r\n\r\n  const handleView = (file: CourseFile) => {\r\n    setSelectedFile(file);\r\n    setIsViewOpen(true);\r\n  };\r\n\r\n  const handleDownload = (file: CourseFile) => {\r\n    const safeName = sanitizeFileName(file.fileName, \"course-file\");\r\n    if (file.documentUrl) {\r\n      downloadFromDataUrl(file.documentUrl, safeName);\r\n      toast.success(`Downloading ${file.fileName}`);\r\n      return;\r\n    }\r\n\r\n    const baseName = safeName.replace(/\\.[^/.]+$/, \"\");\r\n    const summaryName = `${baseName || \"course-file\"}-summary.txt`;\r\n    const summary = [\r\n      `File Name: ${file.fileName}`,\r\n      `Course: ${file.courseCode} - ${file.courseName}`,\r\n      `Type: ${file.fileType}`,\r\n      `Semester: ${file.semester}`,\r\n      `Academic Year: ${file.academicYear}`,\r\n      `Uploaded: ${file.uploadDate}`,\r\n      `Faculty: ${file.facultyName}`,\r\n      `Department: ${file.department}`,\r\n      `Status: ${file.status ?? \"Unknown\"}`,\r\n    ].join(\"\\n\");\r\n    downloadTextFile(summary, summaryName);\r\n    toast.success(`Downloaded summary for ${file.fileName}`);\r\n  };\r\n\r\n  const handlePeerReview = async (review: string) => {\r\n    if (!selectedFile) return;\r\n\r\n    const newReview: PeerReview = {\r\n      id: `pr${Date.now()}`,\r\n      reviewerName: currentUser,\r\n      reviewDate: new Date().toISOString().split(\"T\")[0],\r\n      comment: review,\r\n    };\r\n\r\n    const updatedFile = {\r\n      ...selectedFile,\r\n      peerReviews: [...(selectedFile.peerReviews || []), newReview],\r\n    };\r\n\r\n    try {\r\n      const response = await fetch(`/api/course-files/${selectedFile.id}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ peerReviews: updatedFile.peerReviews }),\r\n      });\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        toast.error(data.error || \"Peer review failed\");\r\n        return;\r\n      }\r\n      onFilesChange?.(data.files);\r\n      const refreshed = data.files\r\n        .filter((file: CourseFile) => file.id === selectedFile.id)\r\n        .reduce<CourseFile | undefined>((acc, file) => acc ?? file, undefined);\r\n      setSelectedFile(refreshed ?? updatedFile);\r\n      setIsPeerReviewOpen(false);\r\n    } catch (error) {\r\n      console.error(\"Peer review error:\", error);\r\n      toast.error(\"An error occurred while submitting review\");\r\n    }\r\n  };\r\n\r\n  const handleRespondToReview = async (response: string) => {\r\n    if (!selectedFile || !selectedReview) return;\r\n\r\n    const updatedFile = {\r\n      ...selectedFile,\r\n      peerReviews: selectedFile.peerReviews?.map((pr) =>\r\n        pr.id === selectedReview.id\r\n          ? {\r\n              ...pr,\r\n              facultyResponse: response,\r\n              responseDate: new Date().toISOString().split(\"T\")[0],\r\n            }\r\n          : pr,\r\n      ),\r\n    };\r\n\r\n    try {\r\n      const apiResponse = await fetch(`/api/course-files/${selectedFile.id}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ peerReviews: updatedFile.peerReviews }),\r\n      });\r\n      const data = await apiResponse.json();\r\n      if (!apiResponse.ok) {\r\n        toast.error(data.error || \"Response failed\");\r\n        return;\r\n      }\r\n      onFilesChange?.(data.files);\r\n      const refreshed = data.files\r\n        .filter((file: CourseFile) => file.id === selectedFile.id)\r\n        .reduce<CourseFile | undefined>((acc, file) => acc ?? file, undefined);\r\n      setSelectedFile(refreshed ?? updatedFile);\r\n      setSelectedReview(null);\r\n      setIsResponseOpen(false);\r\n    } catch (error) {\r\n      console.error(\"Response error:\", error);\r\n      toast.error(\"An error occurred while responding\");\r\n    }\r\n  };\r\n\r\n  const filteredFiles = files.filter((file) => {\r\n    const matchesSearch =\r\n      file.fileName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      file.courseCode.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      file.facultyName.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesDepartment =\r\n      filterDepartment === \"all\" || file.department === filterDepartment;\r\n    const matchesStatus =\r\n      filterStatus === \"all\" || file.status === filterStatus;\r\n    const matchesYear =\r\n      filterYear === \"all\" || file.academicYear === filterYear;\r\n\r\n    return matchesSearch && matchesDepartment && matchesStatus && matchesYear;\r\n  });\r\n\r\n  const uniqueDepartments = Array.from(new Set(files.map((f) => f.department)));\r\n  const uniqueYears = Array.from(new Set(files.map((f) => f.academicYear)));\r\n\r\n  if (isViewOpen && selectedFile) {\r\n    return (\r\n      <DocumentViewerInterface\r\n        file={selectedFile}\r\n        onBack={() => setIsViewOpen(false)}\r\n        onDownload={handleDownload}\r\n        onPeerReview={handlePeerReview}\r\n        onRespondToReview={handleRespondToReview}\r\n        currentUser={currentUser}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent className=\"pt-6 space-y-4\">\r\n        <div className=\"flex flex-col md:flex-row gap-4\">\r\n          <div className=\"flex-1 relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n            <Input\r\n              placeholder=\"Search by file name, course, or faculty...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"pl-10\"\r\n            />\r\n          </div>\r\n          <Select value={filterDepartment} onValueChange={setFilterDepartment}>\r\n            <SelectTrigger className=\"w-full md:w-48\">\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              <SelectValue placeholder=\"Department\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"all\">All Departments</SelectItem>\r\n              {uniqueDepartments.map((dept) => (\r\n                <SelectItem key={dept} value={dept}>\r\n                  {dept}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n          <Select value={filterStatus} onValueChange={setFilterStatus}>\r\n            <SelectTrigger className=\"w-full md:w-48\">\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              <SelectValue placeholder=\"Status\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"all\">All Status</SelectItem>\r\n              <SelectItem value=\"Approved\">Approved</SelectItem>\r\n              <SelectItem value=\"Pending\">Pending</SelectItem>\r\n              <SelectItem value=\"Rejected\">Rejected</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n          <Select value={filterYear} onValueChange={setFilterYear}>\r\n            <SelectTrigger className=\"w-full md:w-48\">\r\n              <Filter className=\"h-4 w-4 mr-2\" />\r\n              <SelectValue placeholder=\"Academic Year\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"all\">All Years</SelectItem>\r\n              {uniqueYears.map((year) => (\r\n                <SelectItem key={year} value={year}>\r\n                  {year}\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div className=\"border rounded-lg\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>File Name</TableHead>\r\n                <TableHead>Faculty</TableHead>\r\n                <TableHead>Course</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Peer Reviews</TableHead>\r\n                <TableHead className=\"text-right\">Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {filteredFiles.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell\r\n                    colSpan={6}\r\n                    className=\"text-center text-gray-500 py-8\"\r\n                  >\r\n                    No files found matching your criteria.\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredFiles.map((file) => (\r\n                  <TableRow key={file.id}>\r\n                    <TableCell className=\"flex items-center gap-2\">\r\n                      <FileText className=\"h-4 w-4 text-blue-600\" />\r\n                      <div>\r\n                        <div>{file.fileName}</div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {file.fileType}\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div>\r\n                        <div>{file.facultyName}</div>\r\n                        <div className=\"text-sm text-gray-500\">\r\n                          {file.department}\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div>{file.courseCode}</div>\r\n                      <div className=\"text-sm text-gray-500\">\r\n                        {file.courseName}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      {file.status && (\r\n                        <Badge\r\n                          className={\r\n                            file.status === \"Approved\"\r\n                              ? \"bg-green-100 text-green-800\"\r\n                              : file.status === \"Rejected\"\r\n                                ? \"bg-red-100 text-red-800\"\r\n                                : \"bg-yellow-100 text-yellow-800\"\r\n                          }\r\n                        >\r\n                          {file.status}\r\n                        </Badge>\r\n                      )}\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex items-center gap-1\">\r\n                        <MessageSquare className=\"h-4 w-4 text-gray-400\" />\r\n                        <span className=\"text-sm\">\r\n                          {file.peerReviews?.length || 0}\r\n                        </span>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <div className=\"flex justify-end gap-2\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleDownload(file)}\r\n                        >\r\n                          <Download className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleView(file)}\r\n                        >\r\n                          <Eye className=\"h-4 w-4 text-blue-600\" />\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n\r\n        <PeerReviewDialog\r\n          open={isPeerReviewOpen}\r\n          onOpenChange={setIsPeerReviewOpen}\r\n          onSubmit={handlePeerReview}\r\n          itemType=\"file\"\r\n          itemName={selectedFile?.fileName || \"\"}\r\n        />\r\n\r\n        <ResponseDialog\r\n          open={isResponseOpen}\r\n          onOpenChange={(open) => {\r\n            setIsResponseOpen(open);\r\n            if (!open) setSelectedReview(null);\r\n          }}\r\n          onSubmit={handleRespondToReview}\r\n          itemType=\"file\"\r\n        />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0,8,10]}