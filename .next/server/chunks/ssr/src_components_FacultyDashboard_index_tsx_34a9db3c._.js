module.exports=[75073,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(210);function f({onBack:a}){return(0,b.jsxs)(d.Button,{variant:"outline",onClick:a,className:"mb-4",children:[(0,b.jsx)(e.ArrowLeft,{className:"h-4 w-4 mr-2"}),"Back to Faculty List"]})}var g=a.i(86304),h=a.i(63910),i=a.i(69769),j=a.i(92258),k=a.i(63519),l=a.i(91119);function m({faculty:a}){return(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"h-24 w-24 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center text-white text-3xl font-bold",children:a.name.split(" ").map(a=>a[0]).join("")})}),(0,b.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.name,(0,b.jsx)(g.Badge,{className:"bg-blue-100 text-blue-800",children:a.role})]}),(0,b.jsx)("p",{className:"text-gray-600",children:a.specialization})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(h.Building,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Department:"}),(0,b.jsx)("span",{children:a.department})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(i.GraduationCap,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Experience:"}),(0,b.jsx)("span",{children:a.experience})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(j.Mail,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Email:"}),(0,b.jsx)("a",{href:`mailto:${a.email}`,className:"text-blue-600 hover:underline",children:a.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(k.Phone,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Phone:"}),(0,b.jsx)("span",{children:a.phone})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Courses Teaching:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.courses.map((a,c)=>(0,b.jsx)(g.Badge,{variant:"outline",className:"bg-purple-50",children:a},c))})]})]})]})})})}var n=a.i(24348),o=a.i(75083),p=a.i(4720),q=a.i(41675);function r({report:a,onView:c,getStatusColor:e}){return(0,b.jsx)(l.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(q.Calendar,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium line-clamp-1",children:a.eventName}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:a.location})]})]}),(0,b.jsx)(g.Badge,{className:e(a.status),children:a.status})]}),(0,b.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Badge,{variant:"outline",children:a.eventType}),(0,b.jsxs)("span",{className:"text-gray-500",children:[a.participants," participants"]})]})}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[a.eventDate," • ",a.duration]}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>c(a),className:"w-full",children:"View Details"})]})})})}var s=a.i(77156),t=a.i(84505),u=a.i(67453),v=a.i(62722),w=a.i(41710),x=a.i(5784),y=a.i(50522);function z({courseFiles:a,onViewFile:e,getStatusColor:f}){let h,[i,j]=(0,c.useState)(new Set),k=(h={},a.forEach(a=>{let b=a.courseCode||"Unknown";h[b]||(h[b]=[]),h[b].push(a)}),h),m=Object.keys(k).sort();return 0===m.length?(0,b.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,b.jsx)(p.FileText,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("p",{children:"No course files available yet."})]}):(0,b.jsx)("div",{className:"space-y-6",children:m.map(a=>{let c=k[a],h=c.filter(a=>"Approved"===a.status).length,m=c.filter(a=>"Pending"===a.status||"Submitted"===a.status).length,n=c.filter(a=>"Rejected"===a.status).length,o=c[0]?.courseName||a,r=i.has(a);return(0,b.jsxs)(l.Card,{className:"border-l-4 border-l-blue-500 hover:shadow-lg transition-shadow",children:[(0,b.jsx)(l.CardHeader,{className:"pb-3 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>{j(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})},children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[r?(0,b.jsx)(x.ChevronDown,{className:"h-5 w-5 text-gray-600"}):(0,b.jsx)(y.ChevronRight,{className:"h-5 w-5 text-gray-600"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(l.CardTitle,{className:"text-xl font-bold text-gray-900",children:a}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:o})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(g.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[c.length," ",1===c.length?"File":"Files"]}),h>0&&(0,b.jsxs)(g.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,b.jsx)(u.CheckCircle2,{className:"h-3 w-3 mr-1"}),h]}),m>0&&(0,b.jsxs)(g.Badge,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,b.jsx)(w.Clock,{className:"h-3 w-3 mr-1"}),m]}),n>0&&(0,b.jsxs)(g.Badge,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[(0,b.jsx)(v.XCircle,{className:"h-3 w-3 mr-1"}),n]})]})]})}),r&&(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(a=>{switch(a){case"Approved":return(0,b.jsx)(u.CheckCircle2,{className:"h-4 w-4 text-green-600"});case"Rejected":return(0,b.jsx)(v.XCircle,{className:"h-4 w-4 text-red-600"});case"Pending":case"Submitted":return(0,b.jsx)(w.Clock,{className:"h-4 w-4 text-yellow-600"});default:return(0,b.jsx)(p.FileText,{className:"h-4 w-4 text-gray-600"})}})(a.status||"Draft"),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 truncate",children:a.fileName}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(p.FileText,{className:"h-3 w-3"}),a.fileType]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(q.Calendar,{className:"h-3 w-3"}),new Date(a.uploadDate).toLocaleDateString()]}),a.semester&&(0,b.jsx)("span",{children:a.semester})]})]}),a.status&&(0,b.jsx)(g.Badge,{className:f(a.status),children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>e(a),className:"h-8 w-8 p-0",children:(0,b.jsx)(s.Eye,{className:"h-4 w-4"})}),a.documentUrl&&(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",onClick:()=>(a=>{if(a.documentUrl)if(a.documentUrl.startsWith("/uploads")||a.documentUrl.startsWith("http"))window.open(a.documentUrl,"_blank");else{let b=document.createElement("a");b.href=a.documentUrl,b.download=a.fileName,document.body.appendChild(b),b.click(),document.body.removeChild(b)}})(a),className:"h-8 w-8 p-0",children:(0,b.jsx)(t.Download,{className:"h-4 w-4"})})]})]},a.id))})})]},a)})})}var A=a.i(87532),B=a.i(50429),C=a.i(66718),D=a.i(14574),E=a.i(41961),F=a.i(93518);function G({isOpen:a,onOpenChange:c,student:d}){return d?(0,b.jsx)(D.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(D.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(D.DialogHeader,{children:[(0,b.jsx)(D.DialogTitle,{children:"Student Profile"}),(0,b.jsx)(D.DialogDescription,{children:"Read-only view of student details and activity."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0",children:d.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:d.name}),(0,b.jsxs)("p",{className:"text-gray-600",children:[d.rollNumber," • ",d.department]}),(0,b.jsx)(g.Badge,{className:(a=>{switch(a){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(d.placementStatus)+" mt-2",children:d.placementStatus}),d.companyName&&(0,b.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,b.jsx)(E.Briefcase,{className:"h-4 w-4 inline mr-1"}),"Placed at ",d.companyName]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(j.Mail,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("a",{href:`mailto:${d.email}`,className:"text-blue-600 hover:underline",children:d.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(k.Phone,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{children:d.phone})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Academic Performance"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"CGPA"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:d.cgpa})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Attendance"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[d.attendance,"%"]})]}),(0,b.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Semester"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:d.semester})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Career Development"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Career Interest"}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"mt-1",children:[(0,b.jsx)(B.Target,{className:"h-3 w-3 mr-1"}),d.careerInterest]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Skills Acquired"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:0===d.skillsAcquired.length?(0,b.jsx)(g.Badge,{variant:"outline",className:"bg-gray-50",children:"Not set"}):d.skillsAcquired.map((a,c)=>(0,b.jsx)(g.Badge,{variant:"outline",className:"bg-blue-50",children:a},c))})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Activity Points"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Points"}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"mt-1",children:[(0,b.jsx)(F.Award,{className:"h-3 w-3 mr-1"}),d.activityPoints]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Activities"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:0===d.activities.length?(0,b.jsx)(g.Badge,{variant:"outline",className:"bg-gray-50",children:"No activities yet"}):d.activities.map(a=>(0,b.jsxs)(g.Badge,{variant:"outline",className:"bg-blue-50",children:[a.name," (",a.points," points)"]},a.id))})]})]})]})]})]})}):null}function H({students:a}){let[e,f]=(0,c.useState)(""),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!1),m=(0,c.useMemo)(()=>a.find(a=>a.batchYear)?.batchYear??"",[a]),n=(0,c.useMemo)(()=>a.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.rollNumber.toLowerCase().includes(e.toLowerCase())||a.careerInterest.toLowerCase().includes(e.toLowerCase())),[a,e]);return(0,b.jsxs)(l.Card,{children:[(0,b.jsx)(l.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(l.CardTitle,{children:["Student List",m?` - Batch ${m}`:""]}),(0,b.jsx)(l.CardDescription,{children:"Manage and track student progress and placements"})]}),(0,b.jsx)(d.Button,{size:"sm",variant:"outline",disabled:!0,children:"View Only"})]})}),(0,b.jsxs)(l.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(A.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(C.Input,{placeholder:"Search by name, roll number, or career interest...",value:e,onChange:a=>f(a.target.value),className:"pl-10"})]})}),0===n.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No students assigned yet."}):(0,b.jsx)("div",{className:"space-y-3",children:n.map(a=>(0,b.jsx)(l.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>{i(a),k(!0)},children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:a.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)(g.Badge,{className:(a=>{switch(a){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(a.placementStatus),children:a.placementStatus})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.rollNumber," • ",a.semester," Semester"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"CGPA"}),(0,b.jsx)("p",{className:"font-medium",children:a.cgpa})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Attendance"}),(0,b.jsxs)("p",{className:"font-medium",children:[a.attendance,"%"]})]}),(0,b.jsxs)("div",{className:"text-center min-w-[120px]",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Career Interest"}),(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-xs",children:[(0,b.jsx)(B.Target,{className:"h-3 w-3 mr-1"}),a.careerInterest||"Not set"]})]}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",children:"View Details"})]})]})})},a.id))})]}),(0,b.jsx)(G,{isOpen:j,onOpenChange:k,student:h})]})}function I({courseFiles:a,eventReports:c,students:d=[],showStudents:e=!1,onViewFile:f,onViewReport:g,getStatusColor:h}){let i=e?3:2;return(0,b.jsxs)(o.Tabs,{defaultValue:"course-files",className:"w-full",children:[(0,b.jsxs)(o.TabsList,{className:3===i?"grid w-full grid-cols-3":"grid w-full grid-cols-2",children:[(0,b.jsxs)(o.TabsTrigger,{value:"course-files",className:"flex items-center gap-2",children:[(0,b.jsx)(p.FileText,{className:"h-4 w-4"}),"Course Files (",a.length,")"]}),(0,b.jsxs)(o.TabsTrigger,{value:"event-reports",className:"flex items-center gap-2",children:[(0,b.jsx)(q.Calendar,{className:"h-4 w-4"}),"Event Reports (",c.length,")"]}),e&&(0,b.jsxs)(o.TabsTrigger,{value:"students",className:"flex items-center gap-2",children:["Students (",d.length,")"]})]}),(0,b.jsxs)(o.TabsContent,{value:"course-files",className:"space-y-4 mt-6",children:[(0,b.jsx)(z,{courseFiles:a,onViewFile:f,getStatusColor:h}),a.length>0&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Files"})]})}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.filter(a=>"Approved"===a.status).length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Approved Files"})]})}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.filter(a=>"Pending"===a.status||"Submitted"===a.status).length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Under Review"})]})})]})]}),(0,b.jsx)(o.TabsContent,{value:"event-reports",className:"space-y-4 mt-6",children:0===c.length?(0,b.jsx)(n.Alert,{children:(0,b.jsx)(n.AlertDescription,{className:"text-sm text-gray-500",children:"No event reports available yet."})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(a=>(0,b.jsx)(r,{report:a,onView:g,getStatusColor:h},a.id))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:c.length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Reports"})]})}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:c.filter(a=>"Approved"===a.status).length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Approved Reports"})]})}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:c.reduce((a,b)=>a+b.participants,0)}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Participants"})]})})]})]})}),e&&(0,b.jsx)(o.TabsContent,{value:"students",className:"space-y-4 mt-6",children:(0,b.jsx)(H,{students:d})})]})}function J({open:a,onOpenChange:c,file:e,getStatusColor:f}){return(0,b.jsx)(D.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(D.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(D.DialogHeader,{children:[(0,b.jsx)(D.DialogTitle,{children:e?.fileName}),(0,b.jsx)(D.DialogDescription,{children:(0,b.jsx)(g.Badge,{className:f(e?.status||""),children:e?.status})})]}),e&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"File Type"}),(0,b.jsx)("p",{className:"font-medium",children:e.fileType})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Upload Date"}),(0,b.jsx)("p",{className:"font-medium",children:e.uploadDate})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Course Name"}),(0,b.jsx)("p",{className:"font-medium",children:e.courseName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Semester"}),(0,b.jsx)("p",{className:"font-medium",children:e.semester})]})]}),(0,b.jsx)(n.Alert,{className:"bg-blue-50 border-blue-200",children:(0,b.jsx)(n.AlertDescription,{className:"text-sm",children:"This is a read-only view of the course file. You can review the details but cannot make changes."})}),(0,b.jsxs)(d.Button,{variant:"outline",className:"w-full",children:[(0,b.jsx)(t.Download,{className:"h-4 w-4 mr-2"}),"Download File"]})]})]})})}var K=a.i(60246);let L=(0,a.i(70106).default)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);function M({open:a,onOpenChange:c,report:e,getStatusColor:f}){return(0,b.jsx)(D.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(D.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-0 border-0",children:[(0,b.jsx)(D.DialogTitle,{className:"sr-only",children:e?.eventName||"Event Report"}),e&&(0,b.jsxs)("div",{className:"bg-white",children:[e.thumbnailUrl?(0,b.jsx)("img",{src:e.thumbnailUrl,alt:e.eventName,className:"w-full h-80 object-cover"}):(0,b.jsxs)("div",{className:"w-full h-80 bg-gradient-to-br from-blue-500 to-purple-600 relative overflow-hidden flex items-center justify-center",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-20 bg-pattern"}),(0,b.jsxs)("div",{className:"text-white text-center z-10",children:[(0,b.jsx)(q.Calendar,{className:"h-16 w-16 mx-auto mb-2 opacity-80"}),(0,b.jsx)("p",{className:"text-sm opacity-80",children:"Event Report"})]})]}),(0,b.jsxs)("div",{className:"p-8 max-w-3xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-4 text-gray-900",children:e.eventName}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4 mb-6 pb-6 border-b border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(q.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm",children:new Date(e.eventDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(K.Users,{className:"h-4 w-4"}),(0,b.jsxs)("span",{className:"text-sm",children:[e.participants," participants"]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 text-gray-600",children:(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:e.eventType||"General"})}),(0,b.jsx)("div",{className:"flex items-center gap-2 text-gray-600",children:(0,b.jsx)(g.Badge,{className:`text-xs ${f(e.status)}`,children:e.status})})]}),e.facultyCoordinator&&(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-8 pb-6 border-b border-gray-100",children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold",children:e.facultyCoordinator.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:["By ",e.facultyCoordinator]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:e.community||e.department||"Coordinator"})]})]}),(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Event Overview"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:e.description}),e.location&&(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Location"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:e.location})]}),e.duration&&(0,b.jsxs)("div",{className:"inline-block bg-gray-50 rounded-lg px-4 py-2",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,b.jsx)("p",{className:"font-medium text-gray-900",children:e.duration})]})]}),e.objectives&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Objectives"}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.objectives})})]}),e.outcomes&&(0,b.jsxs)("section",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Outcomes & Impact"}),(0,b.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.outcomes})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-6 border-t border-gray-200",children:[(0,b.jsxs)(d.Button,{onClick:()=>{if(e){let a=`${e.eventName.replace(/\s+/g,"_")}_report.pdf`,b="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),c=document.createElement("a");c.setAttribute("href",b),c.setAttribute("download",a),c.click()}},className:"flex items-center gap-2 flex-1",children:[(0,b.jsx)(t.Download,{className:"h-4 w-4"}),"Download Full Report"]}),(0,b.jsx)(d.Button,{variant:"outline",size:"icon",className:"hidden",children:(0,b.jsx)(L,{className:"h-4 w-4"})})]})]})]})]})})}var N=a.i(56025);function O({faculty:a,onBack:d}){let{user:e,userRole:h}=(0,N.useAuth)(),i=!0===a.isStaffAdvisor,[j,k]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),B="faculty"!==h;(0,c.useEffect)(()=>{(async()=>{try{let b=[fetch("/api/course-files"),fetch("/api/event-reports")];i&&b.push(fetch("/api/students"));let c=await Promise.all(b),d=c[0],e=c[1],f=c[2],g=await d.json(),h=await e.json(),j=f?await f.json():null;if(!d.ok||!e.ok)return;let k=(g.files??[]).filter(b=>b.facultyId===a.id),l=(h.reports??[]).filter(b=>b.facultyId===a.id);if(u(k),w(l),i&&f?.ok){let b=j?.students??[],c=b.filter(b=>b.advisorId===a.id),d=c.length>0?c:b.filter(b=>b.department?.toLowerCase()===a.department.toLowerCase());y(d)}else y([]);if(B){let b=await fetch(`/api/messages?facultyId=${a.id}`),c=await b.json();b.ok?A(c.messages??[]):A([])}else A([])}catch(a){console.error("Load faculty portfolio error:",a)}})()},[a.id,a.department,i,B]);let C=a=>{switch(a){case"Approved":return"bg-green-100 text-green-800";case"Pending":return"bg-yellow-100 text-yellow-800";case"Submitted":return"bg-blue-100 text-blue-800";case"Draft":default:return"bg-gray-100 text-gray-800";case"Rejected":return"bg-red-100 text-red-800"}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(f,{onBack:d}),(0,b.jsx)(m,{faculty:a}),B&&(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Auditor Messages"}),(0,b.jsx)(g.Badge,{variant:"outline",children:z.length})]}),0===z.length?(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"No auditor messages yet."}):(0,b.jsx)("div",{className:"space-y-3",children:z.map(a=>(0,b.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"course-file"===a.entityType?"Course File":"Event Report"}),a.status&&(0,b.jsx)(g.Badge,{variant:"secondary",children:a.status})]}),(0,b.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:a.message}),a.createdAt&&(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:new Date(a.createdAt).toLocaleString()})]},a.id))})]})}),(0,b.jsx)(I,{courseFiles:t,eventReports:v,students:x,showStudents:i,onViewFile:a=>{k(a),q(!0)},onViewReport:a=>{o(a),s(!0)},getStatusColor:C}),(0,b.jsx)(J,{open:p,onOpenChange:q,file:j,getStatusColor:C}),(0,b.jsx)(M,{open:r,onOpenChange:s,report:n,getStatusColor:C})]})}function P(){let{user:a}=(0,N.useAuth)(),c=a?.name??"";return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Faculty Dashboard"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",c]})]})}var Q=a.i(24669);function R({title:a,value:c,icon:d,backgroundColor:e,iconColor:f}){return(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a}),(0,b.jsx)("div",{className:"text-2xl mt-1",children:c})]}),(0,b.jsx)("div",{className:`h-12 w-12 ${e} rounded-lg flex items-center justify-center`,children:(0,b.jsx)(d,{className:`h-6 w-6 ${f}`})})]})})})}function S({stats:a}){return(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(R,{title:"Course Files",value:a.totalFiles,icon:p.FileText,backgroundColor:"bg-blue-100",iconColor:"text-blue-600"}),(0,b.jsx)(R,{title:"Event Reports",value:a.totalReports,icon:q.Calendar,backgroundColor:"bg-green-100",iconColor:"text-green-600"}),(0,b.jsx)(R,{title:"Pending Reviews",value:a.pendingReports,icon:Q.TrendingUp,backgroundColor:"bg-orange-100",iconColor:"text-orange-600"}),(0,b.jsx)(R,{title:"Total Participants",value:a.totalParticipants,icon:K.Users,backgroundColor:"bg-purple-100",iconColor:"text-purple-600"})]})}var T=a.i(92e3);function U({pendingReports:a}){return a<=0?null:(0,b.jsxs)(n.Alert,{children:[(0,b.jsx)(T.AlertCircle,{className:"h-4 w-4"}),(0,b.jsx)(n.AlertTitle,{children:"Pending Actions"}),(0,b.jsxs)(n.AlertDescription,{children:["You have ",a," draft report",a>1?"s":""," waiting to be submitted."]})]})}function V({pendingReports:a}){return(0,b.jsx)(U,{pendingReports:a})}function W({activities:a}){return(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{children:"Recent Activity"}),(0,b.jsx)(l.CardDescription,{children:"Your latest actions and updates"})]}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:a.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3 pb-3 border-b last:border-0",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-600 mt-2"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"text-sm",children:[(0,b.jsx)("span",{className:"font-medium",children:a.action})," ",a.item]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.time})]})]},c))})})]})}function X({facultyMembers:a,onSelectFaculty:c}){return(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(K.Users,{className:"h-5 w-5"}),"Faculty Directory"]}),(0,b.jsx)(l.CardDescription,{children:"Browse faculty members and their portfolios"})]}),(0,b.jsxs)(l.CardContent,{children:[(0,b.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.slice(0,5).map(a=>(0,b.jsx)(d.Button,{variant:"ghost",className:"w-full justify-start text-left h-auto py-3 hover:bg-gray-50",onClick:()=>c(a),children:(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:a.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.department})]}),(0,b.jsx)(y.ChevronRight,{className:"h-4 w-4 text-gray-400 flex-shrink-0"})]})},a.id))}),a.length>5&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,b.jsxs)("p",{className:"text-xs text-center text-gray-500",children:["+",a.length-5," more faculty members"]})})]})]})}function Y({activities:a,facultyMembers:c,onSelectFaculty:d}){return(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(W,{activities:a}),(0,b.jsx)(X,{facultyMembers:c,onSelectFaculty:d})]})}function Z({faculty:a,onSelect:c}){return(0,b.jsx)(l.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer h-full flex flex-col",onClick:()=>c(a),children:(0,b.jsxs)(l.CardContent,{className:"pt-6 flex flex-col h-full",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:a.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name}),(0,b.jsxs)("div",{className:"mt-1 flex flex-wrap gap-2",children:[(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:a.role}),a.isStaffAdvisor&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:"Staff Advisor"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(h.Building,{className:"h-3 w-3 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.department})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,b.jsx)(i.GraduationCap,{className:"h-3 w-3 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.specialization})]})]}),(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t flex-1 flex flex-col",children:[(0,b.jsxs)("p",{className:"text-xs text-gray-500 mb-2",children:["Courses: ",a.courses.length]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1 mb-4",children:[a.courses.slice(0,2).map((a,c)=>(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs bg-purple-50 truncate max-w-full",children:a.split(" - ")[0]},c)),a.courses.length>2&&(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-xs bg-gray-50",children:["+",a.courses.length-2]})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",className:"w-full mt-auto flex items-center justify-center gap-1",children:["View Portfolio",(0,b.jsx)(y.ChevronRight,{className:"h-4 w-4"})]})]})]})})}function $({facultyMembers:a,onSelectFaculty:c}){return(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.GraduationCap,{className:"h-5 w-5"}),"All Faculty Members"]}),(0,b.jsx)(l.CardDescription,{children:"View portfolios of all faculty members including their course files and event reports"})]}),(0,b.jsx)(l.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(a=>(0,b.jsx)(Z,{faculty:a,onSelect:c},a.id))})})]})}function _({stats:a,facultyMembers:d}){let{user:e}=(0,N.useAuth)(),[f,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(a),[k,m]=(0,c.useState)(d),[n,o]=(0,c.useState)([]),p=Object.entries(n.reduce((a,b)=>{let c=b.threadId??`${b.entityType}:${b.entityId}`;return a[c]||(a[c]=[]),a[c].push({...b,threadId:c}),a},{})).map(([a,b])=>{let c=[...b].sort((a,b)=>new Date(a.createdAt??0).getTime()-new Date(b.createdAt??0).getTime()),d=c[c.length-1];return{threadId:a,messages:c,lastMessage:d}}).sort((a,b)=>{let c=new Date(a.lastMessage?.createdAt??0).getTime();return new Date(b.lastMessage?.createdAt??0).getTime()-c});return((0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/dashboard/faculty"),b=await a.json();if(a.ok&&(b?.stats&&j(b.stats),b?.facultyMembers&&m(b.facultyMembers)),e?.id){let a=await fetch(`/api/messages?facultyId=${e.id}`),b=await a.json();a.ok?o(b.messages??[]):o([])}else o([])}catch(a){console.error("Faculty dashboard refresh error:",a)}})()},[e?.id]),f)?(0,b.jsx)(O,{faculty:f,onBack:()=>h(null)}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(P,{}),(0,b.jsx)(S,{stats:i}),(0,b.jsx)(V,{pendingReports:i.pendingReports}),e?.id&&(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"pt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Auditor Messages"}),(0,b.jsx)(g.Badge,{variant:"outline",children:p.length})]}),0===p.length?(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"No auditor messages yet."}):(0,b.jsx)("div",{className:"space-y-3",children:p.map(a=>(0,b.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:a.lastMessage?.entityType==="course-file"?"Course File":"Event Report"}),a.lastMessage?.status&&(0,b.jsx)(g.Badge,{variant:"secondary",children:a.lastMessage.status})]}),(0,b.jsx)("div",{className:"mt-3 space-y-2",children:a.messages.map(a=>(0,b.jsxs)("div",{className:"rounded-md bg-white p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,b.jsx)("span",{children:a.senderName||a.senderRole||"Message"}),a.createdAt&&(0,b.jsx)("span",{children:new Date(a.createdAt).toLocaleString()})]}),(0,b.jsx)("p",{className:"text-sm text-gray-700 mt-1",children:a.message})]},a.id))})]},a.threadId))})]})}),(0,b.jsx)(Y,{activities:i.recentActivity,facultyMembers:k,onSelectFaculty:h}),(0,b.jsx)($,{facultyMembers:k,onSelectFaculty:h})]})}a.s(["FacultyDashboard",()=>_],75073)}];

//# sourceMappingURL=src_components_FacultyDashboard_index_tsx_34a9db3c._.js.map