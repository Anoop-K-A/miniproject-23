module.exports=[10801,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(91119),e=a.i(99570),f=a.i(66718),g=a.i(70430),h=a.i(80701),i=a.i(14574),j=a.i(73320),k=a.i(87532),l=a.i(69012),m=a.i(23292),n=a.i(5784),o=a.i(50522);let p=(0,a.i(70106).default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var q=a.i(4720),r=a.i(84505),s=a.i(77156),t=a.i(81560),u=a.i(86304),v=a.i(10251);function w({files:a,onView:d,onDownload:f,onDelete:g,canDelete:h=!1}){let[i,j]=(0,c.useState)(new Set),k=a.reduce((a,b)=>{let c=a.find(a=>a.courseCode===b.courseCode);return c?c.files.push(b):a.push({courseCode:b.courseCode,courseName:b.courseName,files:[b]}),a},[]);return(k.sort((a,b)=>a.courseCode.localeCompare(b.courseCode)),0===k.length)?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500",children:[(0,b.jsx)(p,{className:"h-16 w-16 mb-4 text-gray-300"}),(0,b.jsx)("p",{className:"text-lg",children:"No course files found"})]}):(0,b.jsx)("div",{className:"space-y-2",children:k.map(a=>{let c=i.has(a.courseCode);return(0,b.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:(0,v.cn)("flex items-center gap-2 p-3 cursor-pointer hover:bg-gray-50 transition-colors",c&&"bg-gray-50"),onClick:()=>{var b;let c;return b=a.courseCode,void((c=new Set(i)).has(b)?c.delete(b):c.add(b),j(c))},children:[c?(0,b.jsx)(n.ChevronDown,{className:"h-5 w-5 text-gray-500"}):(0,b.jsx)(o.ChevronRight,{className:"h-5 w-5 text-gray-500"}),(0,b.jsx)(p,{className:(0,v.cn)("h-5 w-5",c?"text-blue-500":"text-gray-400")}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:a.courseCode}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:a.courseName})]})}),(0,b.jsxs)(u.Badge,{variant:"outline",className:"ml-auto",children:[a.files.length," ",1===a.files.length?"file":"files"]})]}),c&&(0,b.jsx)("div",{className:"bg-gray-50 border-t",children:a.files.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 p-3 pl-12 hover:bg-white transition-colors border-b last:border-b-0",children:[(0,b.jsx)(q.FileText,{className:"h-4 w-4 text-blue-500 shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium text-sm text-gray-900 truncate",children:a.fileName}),a.status&&(0,b.jsx)(u.Badge,{className:(0,v.cn)("text-xs",(a=>{switch(a){case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(a.status)),children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[(0,b.jsx)("span",{children:a.fileType}),(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{children:[a.semester," ",a.academicYear]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:a.uploadDate}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:a.size})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[d&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>d(a),title:"View details",children:(0,b.jsx)(s.Eye,{className:"h-4 w-4"})}),f&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>f(a),title:"Download file",children:(0,b.jsx)(r.Download,{className:"h-4 w-4"})}),h&&g&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>g(a),title:"Delete file",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(t.Trash2,{className:"h-4 w-4"})})]})]},a.id))})]},a.courseCode)})})}var x=a.i(24348),y=a.i(63588),z=a.i(23808),A=a.i(33483);function B({open:a,onOpenChange:f,file:g,onDownload:h,onResponse:j,threadMessages:k=[],onMessageReply:l}){let[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),s=async a=>{await j(a),n(!1)},t=async a=>{await l(a),p(!1)};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Dialog,{open:a,onOpenChange:f,children:(0,b.jsxs)(i.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto p-0 border-0",children:[(0,b.jsx)(i.DialogHeader,{className:"sr-only",children:(0,b.jsx)(i.DialogTitle,{children:g?.fileName||"File Details"})}),g&&(0,b.jsxs)("div",{className:"bg-white",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(q.FileText,{className:"h-5 w-5 text-gray-600"}),(0,b.jsx)("h2",{className:"text-2xl font-bold",children:g.fileName})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:[g.courseCode," - ",g.courseName]}),(0,b.jsx)(u.Badge,{variant:"outline",children:g.fileType}),(0,b.jsx)(u.Badge,{className:"Approved"===g.status?"bg-green-100 text-green-800":"Rejected"===g.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",children:g.status||"Pending"})]})]}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"✕"})]})}),(0,b.jsx)("div",{className:"px-6 py-6 border-b",children:(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(q.FileText,{className:"h-5 w-5"}),"Document Viewer"]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"aspect-16/10 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(q.FileText,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["Document: ",g.fileName]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Live document preview would appear here"}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>h(g),children:[(0,b.jsx)(r.Download,{className:"h-4 w-4 mr-2"}),"Download Document"]})]})})})]})}),(0,b.jsxs)("div",{className:"px-6 py-6 border-b",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"File Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Course Code"}),(0,b.jsx)("p",{className:"text-lg font-medium mt-1",children:g.courseCode})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Course Name"}),(0,b.jsx)("p",{className:"text-lg font-medium mt-1",children:g.courseName})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"File Type"}),(0,b.jsx)("p",{className:"text-lg font-medium mt-1",children:g.fileType})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Semester"}),(0,b.jsxs)("p",{className:"text-lg font-medium mt-1",children:[g.semester," ",g.academicYear]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Upload Date"}),(0,b.jsx)("p",{className:"text-lg font-medium mt-1",children:g.uploadDate})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"File Size"}),(0,b.jsx)("p",{className:"text-lg font-medium mt-1",children:g.size})]})]})]}),g.status&&(0,b.jsxs)("div",{className:"px-6 py-6 border-b",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(y.MessageSquare,{className:"h-5 w-5 text-gray-600"}),"Admin Review"]}),g.adminRemarks?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(x.Alert,{className:"Approved"===g.status?"border-green-200 bg-green-50":"Rejected"===g.status?"border-red-200 bg-red-50":"border-yellow-200 bg-yellow-50",children:(0,b.jsxs)(x.AlertDescription,{children:[(0,b.jsx)("p",{className:"text-sm mb-3",children:g.adminRemarks}),g.reviewedBy&&(0,b.jsxs)("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-200",children:[(0,b.jsxs)("p",{children:["Reviewed by: ",g.reviewedBy]}),g.reviewedDate&&(0,b.jsxs)("p",{children:["Date: ",g.reviewedDate]})]})]})}),g.facultyResponse?(0,b.jsx)(x.Alert,{className:"border-blue-200 bg-blue-50",children:(0,b.jsxs)(x.AlertDescription,{children:[(0,b.jsx)("p",{className:"text-xs text-blue-800 mb-2",children:"Your Response:"}),(0,b.jsx)("p",{className:"text-sm mb-3",children:g.facultyResponse}),g.responseDate&&(0,b.jsx)("div",{className:"text-xs text-gray-600 pt-2 border-t border-gray-200",children:(0,b.jsxs)("p",{children:["Response Date: ",g.responseDate]})})]})}):(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>n(!0),className:"w-full",children:[(0,b.jsx)(z.Reply,{className:"h-4 w-4 mr-2"}),"Respond to Admin Review"]})]}):(0,b.jsx)(x.Alert,{children:(0,b.jsx)(x.AlertDescription,{className:"text-sm text-gray-500",children:"This file is pending admin review. You will be notified once the review is complete."})})]}),k&&k.length>0&&(0,b.jsxs)("div",{className:"px-6 py-6 border-b",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(y.MessageSquare,{className:"h-5 w-5 text-gray-600"}),"Auditor Messages",(0,b.jsx)(u.Badge,{variant:"outline",children:k.length})]}),(0,b.jsx)("div",{className:"space-y-3 max-h-[40vh] overflow-y-auto pr-1",children:k.map(a=>(0,b.jsxs)("div",{className:"rounded-md border bg-white p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,b.jsx)("span",{children:a.senderName||a.senderRole||"Message"}),a.createdAt&&(0,b.jsx)("span",{children:new Date(a.createdAt).toLocaleString()})]}),(0,b.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:a.message})]},a.id))}),(0,b.jsxs)(e.Button,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"mt-3 w-full",children:[(0,b.jsx)(z.Reply,{className:"h-4 w-4 mr-2"}),"Reply to Auditor"]})]}),(0,b.jsxs)("div",{className:"px-6 py-6 bg-gray-50 border-t flex gap-2 rounded-b-lg",children:[(0,b.jsxs)(e.Button,{onClick:()=>h(g),className:"flex-1",children:[(0,b.jsx)(r.Download,{className:"h-4 w-4 mr-2"}),"Download File"]}),(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>f(!1),children:"Close"})]})]})]})}),(0,b.jsx)(A.ResponseDialog,{open:m,onOpenChange:n,onSubmit:s,itemType:"file"}),(0,b.jsx)(A.ResponseDialog,{open:o,onOpenChange:p,onSubmit:t,itemType:"file"})]})}var C=a.i(56025),D=a.i(21562);function E({initialFiles:a=[],fileCategories:n=[],fileTypes:o=[]}){var p;let[q,r]=(0,c.useState)(a),[s,t]=(0,c.useState)(n),[u,v]=(0,c.useState)(o),{user:x,userRole:y}=(0,C.useAuth)(),[z,A]=(0,c.useState)(""),[E,F]=(0,c.useState)("all"),[G,H]=(0,c.useState)("all"),[I,J]=(0,c.useState)("all"),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(null),[$,_]=(0,c.useState)(new Date().getFullYear().toString()),[aa,ab]=(0,c.useState)(null),[ac,ad]=(0,c.useState)(!1),[ae,af]=(0,c.useState)([]);(0,c.useEffect)(()=>{let a=async()=>{if("faculty"!==y||!x?.id)return void af([]);try{let a=await fetch(`/api/messages?facultyId=${x.id}`),b=await a.json();if(!a.ok)return void af([]);let c=(b.messages??[]).filter(a=>"course-file"===a.entityType);af(c)}catch(a){console.error("Load messages error:",a),af([])}};(async()=>{try{let a=await fetch("/api/course-files"),b=await a.json();if(!a.ok)return void m.toast.error(b.error||"Failed to load files");r(b.files??[]),t(b.fileCategories??[]),v(b.fileTypes??[])}catch(a){console.error("Load files error:",a),m.toast.error("Failed to load files")}})(),a()},[x?.id,y]);let ag=async a=>{if(a.preventDefault(),!W||!Q||!S||!M)return void m.toast.error("Please fill in all required fields");if(!Y)return void m.toast.error("Please choose a file to upload");try{let a=await fetch("/api/course-files",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({facultyId:x?.id,facultyName:x?.name??"",department:x?.department??"",fileName:W,documentUrl:Y,courseCode:Q,courseName:S,fileType:M,uploadDate:new Date().toISOString().split("T")[0],semester:U,academicYear:$,size:"1.5 MB",status:"Pending"})}),b=await a.json();if(!a.ok)return void m.toast.error(b.error||"Upload failed");r(b.files),L(!1),m.toast.success("File uploaded successfully"),N(""),R(""),T(""),V(""),X(""),Z(null),_(new Date().getFullYear().toString())}catch(a){console.error("File upload error:",a),m.toast.error("An error occurred during upload")}},ah=async a=>{try{let b=await fetch(`/api/course-files/${a}`,{method:"DELETE"}),c=await b.json();if(!b.ok)return void m.toast.error(c.error||"Delete failed");r(c.files),m.toast.success("File deleted successfully")}catch(a){console.error("Delete error:",a),m.toast.error("An error occurred while deleting")}},ai=a=>{let b=(0,D.sanitizeFileName)(a.fileName,"course-file");if(a.documentUrl){(0,D.downloadFromDataUrl)(a.documentUrl,b),m.toast.success(`Downloading ${a.fileName}`);return}let c=b.replace(/\.[^/.]+$/,""),d=`${c||"course-file"}-summary.txt`,e=`File Name: ${a.fileName}
Course: ${a.courseCode} - ${a.courseName}
Type: ${a.fileType}
Semester: ${a.semester}
Academic Year: ${a.academicYear}
Uploaded: ${a.uploadDate}
Faculty: ${a.facultyName}
Department: ${a.department}
Status: ${a.status??"Unknown"}`;(0,D.downloadTextFile)(e,d),m.toast.success(`Downloaded summary for ${a.fileName}`)},aj=async a=>{if(aa)try{let b=await fetch(`/api/course-files/${aa.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({facultyResponse:a})}),c=await b.json();if(!b.ok)return void m.toast.error(c.error||"Response update failed");r(c.files);let d=c.files.filter(a=>a.id===aa.id).reduce((a,b)=>a??b,void 0);d&&ab(d)}catch(a){console.error("Response error:",a),m.toast.error("An error occurred while saving response")}},ak=async a=>{if(!aa||!x?.id)return;let b=`course-file:${aa.id}`,c=ap[b]??[],d=c.find(a=>a.auditorId)?.auditorId;await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({facultyId:x.id,auditorId:d,entityType:"course-file",entityId:aa.id,threadId:b,senderRole:"faculty",senderName:x.name,message:a})})},al=(0,c.useMemo)(()=>"faculty"===y&&x?.id?q.filter(a=>a.facultyId===x.id):q,[q,x?.id,y]),am=al.filter(a=>{let b=a.fileName.toLowerCase().includes(z.toLowerCase())||a.courseCode.toLowerCase().includes(z.toLowerCase())||a.courseName.toLowerCase().includes(z.toLowerCase()),c="all"===E||a.fileType===E,d="all"===G||a.status===G,e="all"===I||a.academicYear===I;return b&&c&&d&&e}),an=Array.from(new Set(al.map(a=>a.status).filter(Boolean))),ao=Array.from(new Set(al.map(a=>a.academicYear))),ap=(0,c.useMemo)(()=>ae.reduce((a,b)=>{let c=b.threadId??`${b.entityType}:${b.entityId}`;return a[c]||(a[c]=[]),a[c].push({...b,threadId:c}),a},{}),[ae]);return(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Course File Management"}),(0,b.jsx)(d.CardDescription,{children:"Upload and manage course materials, syllabi, lesson plans, and assignments"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(k.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(f.Input,{placeholder:"Search files...",value:z,onChange:a=>A(a.target.value),className:"pl-10"})]}),(0,b.jsxs)(h.Select,{value:E,onValueChange:F,children:[(0,b.jsxs)(h.SelectTrigger,{className:"w-full md:w-48",children:[(0,b.jsx)(l.Filter,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(h.SelectValue,{placeholder:"Filter by Type"})]}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All Types"}),u.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))]})]}),(0,b.jsxs)(h.Select,{value:G,onValueChange:H,children:[(0,b.jsxs)(h.SelectTrigger,{className:"w-full md:w-48",children:[(0,b.jsx)(l.Filter,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(h.SelectValue,{placeholder:"Filter by Status"})]}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All Statuses"}),an.map(a=>(0,b.jsx)(h.SelectItem,{value:a||"unknown",children:a||"Unknown"},a||"unknown"))]})]}),(0,b.jsxs)(h.Select,{value:I,onValueChange:J,children:[(0,b.jsxs)(h.SelectTrigger,{className:"w-full md:w-48",children:[(0,b.jsx)(l.Filter,{className:"h-4 w-4 mr-2"}),(0,b.jsx)(h.SelectValue,{placeholder:"Filter by Year"})]}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"all",children:"All Years"}),ao.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))]})]}),(0,b.jsxs)(i.Dialog,{open:K,onOpenChange:L,children:[(0,b.jsx)(i.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{className:"w-full md:w-auto",children:[(0,b.jsx)(j.Upload,{className:"h-4 w-4 mr-2"}),"Upload File"]})}),(0,b.jsxs)(i.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsx)(i.DialogTitle,{children:"Upload Course File"}),(0,b.jsx)(i.DialogDescription,{children:"Add a new course file to your repository"})]}),(0,b.jsxs)("form",{onSubmit:ag,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"file",children:"File"}),(0,b.jsx)(f.Input,{id:"file",type:"file",required:!0,accept:".pdf,.doc,.docx,.ppt,.pptx",onChange:a=>{let b=a.target.files?.[0];if(!b){X(""),Z(null);return}X(b.name);let c=new FileReader;c.onloadend=()=>{Z("string"==typeof c.result?c.result:null)},c.readAsDataURL(b)}})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"category",children:"File Category *"}),(0,b.jsxs)(h.Select,{value:O,onValueChange:a=>P(a),required:!0,children:[(0,b.jsx)(h.SelectTrigger,{id:"category",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select file category"})}),(0,b.jsx)(h.SelectContent,{children:s.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"courseCode",children:"Course Code"}),(0,b.jsx)(f.Input,{id:"courseCode",value:Q,onChange:a=>R(a.target.value),placeholder:"e.g., CS101",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"courseName",children:"Course Name"}),(0,b.jsx)(f.Input,{id:"courseName",value:S,onChange:a=>T(a.target.value),placeholder:"e.g., Introduction to Computer Science",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"fileType",children:"File Type"}),(0,b.jsxs)(h.Select,{value:M,onValueChange:a=>N(a),children:[(0,b.jsx)(h.SelectTrigger,{id:"fileType",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select file type"})}),(0,b.jsx)(h.SelectContent,{children:u.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"semester",children:"Semester"}),(0,b.jsxs)(h.Select,{value:U,onValueChange:a=>V(a),children:[(0,b.jsx)(h.SelectTrigger,{id:"semester",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select semester"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"Fall",children:"Fall"}),(0,b.jsx)(h.SelectItem,{value:"Spring",children:"Spring"}),(0,b.jsx)(h.SelectItem,{value:"Summer",children:"Summer"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"academicYear",children:"Academic Year"}),(0,b.jsx)(f.Input,{id:"academicYear",value:$,onChange:a=>_(a.target.value),placeholder:"2024-2025",required:!0})]})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",children:"Upload File"})]})]})]})]}),(0,b.jsx)(w,{files:am,onView:a=>{ab(a),ad(!0)},onDownload:ai,onDelete:a=>ah(a.id),canDelete:!0}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl",children:am.length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Files"})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl",children:o.length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"File Types"})]})}),(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl",children:ao.length}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Years"})]})})]}),(0,b.jsx)(B,{open:ac,onOpenChange:ad,file:aa,onDownload:ai,onResponse:aj,threadMessages:aa?(p=aa.id,[...ap[`course-file:${p}`]??[]].sort((a,b)=>new Date(a.createdAt??0).getTime()-new Date(b.createdAt??0).getTime())):[],onMessageReply:ak})]})]})}a.s(["CourseFileManager",()=>E],10801)}];

//# sourceMappingURL=src_components_CourseFileManager_index_tsx_04406ba6._.js.map