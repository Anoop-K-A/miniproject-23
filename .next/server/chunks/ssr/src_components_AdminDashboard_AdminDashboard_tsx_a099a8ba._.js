module.exports=[26484,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(23292),e=a.i(50104),f=a.i(70121),g=a.i(97942),h=a.i(7554),i=a.i(11011),j="AlertDialog",[k,l]=(0,e.createContextScope)(j,[g.createDialogScope]),m=(0,g.createDialogScope)(),n=a=>{let{__scopeAlertDialog:c,...d}=a,e=m(c);return(0,b.jsx)(g.Root,{...e,...d,modal:!0})};n.displayName=j,c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,b.jsx)(g.Trigger,{...f,...e,ref:c})}).displayName="AlertDialogTrigger";var o=a=>{let{__scopeAlertDialog:c,...d}=a,e=m(c);return(0,b.jsx)(g.Portal,{...e,...d})};o.displayName="AlertDialogPortal";var p=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,b.jsx)(g.Overlay,{...f,...e,ref:c})});p.displayName="AlertDialogOverlay";var q="AlertDialogContent",[r,s]=k(q),t=c.forwardRef((a,d)=>{let{__scopeAlertDialog:e,children:j,...k}=a,l=m(e),n=c.useRef(null),o=(0,f.useComposedRefs)(d,n),p=c.useRef(null);return(0,b.jsx)(g.WarningProvider,{contentName:q,titleName:u,docsSlug:"alert-dialog",children:(0,b.jsx)(r,{scope:e,cancelRef:p,children:(0,b.jsxs)(g.Content,{role:"alertdialog",...l,...k,ref:o,onOpenAutoFocus:(0,h.composeEventHandlers)(k.onOpenAutoFocus,a=>{a.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,b.jsx)(i.Slottable,{children:j}),(0,b.jsx)(B,{contentRef:n})]})})})});t.displayName=q;var u="AlertDialogTitle",v=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,b.jsx)(g.Title,{...f,...e,ref:c})});v.displayName=u;var w="AlertDialogDescription",x=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,b.jsx)(g.Description,{...f,...e,ref:c})});x.displayName=w;var y=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,f=m(d);return(0,b.jsx)(g.Close,{...f,...e,ref:c})});y.displayName="AlertDialogAction";var z="AlertDialogCancel",A=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,{cancelRef:h}=s(z,d),i=m(d),j=(0,f.useComposedRefs)(c,h);return(0,b.jsx)(g.Close,{...i,...e,ref:j})});A.displayName=z;var B=({contentRef:a})=>{let b=`\`${q}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${q}\` by passing a \`${w}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${q}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},C=a.i(10251),D=a.i(99570);function E({...a}){return(0,b.jsx)(n,{"data-slot":"alert-dialog",...a})}function F({...a}){return(0,b.jsx)(o,{"data-slot":"alert-dialog-portal",...a})}function G({className:a,...c}){return(0,b.jsx)(p,{"data-slot":"alert-dialog-overlay",className:(0,C.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function H({className:a,...c}){return(0,b.jsxs)(F,{children:[(0,b.jsx)(G,{}),(0,b.jsx)(t,{"data-slot":"alert-dialog-content",className:(0,C.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...c})]})}function I({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,C.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function J({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,C.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function K({className:a,...c}){return(0,b.jsx)(v,{"data-slot":"alert-dialog-title",className:(0,C.cn)("text-lg font-semibold",a),...c})}function L({className:a,...c}){return(0,b.jsx)(x,{"data-slot":"alert-dialog-description",className:(0,C.cn)("text-muted-foreground text-sm",a),...c})}function M({className:a,...c}){return(0,b.jsx)(y,{className:(0,C.cn)((0,D.buttonVariants)(),a),...c})}function N({className:a,...c}){return(0,b.jsx)(A,{className:(0,C.cn)((0,D.buttonVariants)({variant:"outline"}),a),...c})}var O=a.i(70106);let P=(0,O.default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var Q=a.i(14574);let R=(0,O.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var S=a.i(5784),T=a.i(25152),U=a.i(77994),V=a.i(3688),W=a.i(77192),X=a.i(30553),Y="Checkbox",[Z,$]=(0,e.createContextScope)(Y),[_,aa]=Z(Y),ab=c.forwardRef((a,d)=>{let{__scopeCheckbox:e,name:g,checked:i,defaultChecked:j,required:k,disabled:l,value:m="on",onCheckedChange:n,form:o,...p}=a,[q,r]=c.useState(null),s=(0,f.useComposedRefs)(d,a=>r(a)),t=c.useRef(!1),u=!q||o||!!q.closest("form"),[v=!1,w]=(0,T.useControllableState)({prop:i,defaultProp:j,onChange:n}),x=c.useRef(v);return c.useEffect(()=>{let a=q?.form;if(a){let b=()=>w(x.current);return a.addEventListener("reset",b),()=>a.removeEventListener("reset",b)}},[q,w]),(0,b.jsxs)(_,{scope:e,state:v,disabled:l,children:[(0,b.jsx)(X.Primitive.button,{type:"button",role:"checkbox","aria-checked":af(v)?"mixed":v,"aria-required":k,"data-state":ag(v),"data-disabled":l?"":void 0,disabled:l,value:m,...p,ref:s,onKeyDown:(0,h.composeEventHandlers)(a.onKeyDown,a=>{"Enter"===a.key&&a.preventDefault()}),onClick:(0,h.composeEventHandlers)(a.onClick,a=>{w(a=>!!af(a)||!a),u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})}),u&&(0,b.jsx)(ae,{control:q,bubbles:!t.current,name:g,value:m,checked:v,required:k,disabled:l,form:o,style:{transform:"translateX(-100%)"},defaultChecked:!af(j)&&j})]})});ab.displayName=Y;var ac="CheckboxIndicator",ad=c.forwardRef((a,c)=>{let{__scopeCheckbox:d,forceMount:e,...f}=a,g=aa(ac,d);return(0,b.jsx)(W.Presence,{present:e||af(g.state)||!0===g.state,children:(0,b.jsx)(X.Primitive.span,{"data-state":ag(g.state),"data-disabled":g.disabled?"":void 0,...f,ref:c,style:{pointerEvents:"none",...a.style}})})});ad.displayName=ac;var ae=a=>{let{control:d,checked:e,bubbles:f=!0,defaultChecked:g,...h}=a,i=c.useRef(null),j=(0,U.usePrevious)(e),k=(0,V.useSize)(d);c.useEffect(()=>{let a=i.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(j!==e&&b){let c=new Event("click",{bubbles:f});a.indeterminate=af(e),b.call(a,!af(e)&&e),a.dispatchEvent(c)}},[j,e,f]);let l=c.useRef(!af(e)&&e);return(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:g??l.current,...h,tabIndex:-1,ref:i,style:{...a.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function af(a){return"indeterminate"===a}function ag(a){return af(a)?"indeterminate":a?"checked":"unchecked"}var ah=a.i(6406);function ai({className:a,...c}){return(0,b.jsx)(ab,{"data-slot":"checkbox",className:(0,C.cn)("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(ad,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,b.jsx)(ah.CheckIcon,{className:"size-3.5"})})})}var aj=a.i(66718),ak=a.i(70430),al=a.i(96743),am=a.i(86228),an=a.i(22297),ao=a.i(92843),ap=a.i(4691),aq=a.i(92616),ar=a.i(41852),as=a.i(52081),at="Popover",[au,av]=(0,e.createContextScope)(at,[ap.createPopperScope]),aw=(0,ap.createPopperScope)(),[ax,ay]=au(at),az=a=>{let{__scopePopover:d,children:e,open:f,defaultOpen:g,onOpenChange:h,modal:i=!1}=a,j=aw(d),k=c.useRef(null),[l,m]=c.useState(!1),[n=!1,o]=(0,T.useControllableState)({prop:f,defaultProp:g,onChange:h});return(0,b.jsx)(ap.Root,{...j,children:(0,b.jsx)(ax,{scope:d,contentId:(0,ao.useId)(),triggerRef:k,open:n,onOpenChange:o,onOpenToggle:c.useCallback(()=>o(a=>!a),[o]),hasCustomAnchor:l,onCustomAnchorAdd:c.useCallback(()=>m(!0),[]),onCustomAnchorRemove:c.useCallback(()=>m(!1),[]),modal:i,children:e})})};az.displayName=at;var aA="PopoverAnchor";c.forwardRef((a,d)=>{let{__scopePopover:e,...f}=a,g=ay(aA,e),h=aw(e),{onCustomAnchorAdd:i,onCustomAnchorRemove:j}=g;return c.useEffect(()=>(i(),()=>j()),[i,j]),(0,b.jsx)(ap.Anchor,{...h,...f,ref:d})}).displayName=aA;var aB="PopoverTrigger",aC=c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,g=ay(aB,d),i=aw(d),j=(0,f.useComposedRefs)(c,g.triggerRef),k=(0,b.jsx)(X.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":g.open,"aria-controls":g.contentId,"data-state":aN(g.open),...e,ref:j,onClick:(0,h.composeEventHandlers)(a.onClick,g.onOpenToggle)});return g.hasCustomAnchor?k:(0,b.jsx)(ap.Anchor,{asChild:!0,...i,children:k})});aC.displayName=aB;var aD="PopoverPortal",[aE,aF]=au(aD,{forceMount:void 0}),aG=a=>{let{__scopePopover:c,forceMount:d,children:e,container:f}=a,g=ay(aD,c);return(0,b.jsx)(aE,{scope:c,forceMount:d,children:(0,b.jsx)(W.Presence,{present:d||g.open,children:(0,b.jsx)(aq.Portal,{asChild:!0,container:f,children:e})})})};aG.displayName=aD;var aH="PopoverContent",aI=c.forwardRef((a,c)=>{let d=aF(aH,a.__scopePopover),{forceMount:e=d.forceMount,...f}=a,g=ay(aH,a.__scopePopover);return(0,b.jsx)(W.Presence,{present:e||g.open,children:g.modal?(0,b.jsx)(aJ,{...f,ref:c}):(0,b.jsx)(aK,{...f,ref:c})})});aI.displayName=aH;var aJ=c.forwardRef((a,d)=>{let e=ay(aH,a.__scopePopover),g=c.useRef(null),j=(0,f.useComposedRefs)(d,g),k=c.useRef(!1);return c.useEffect(()=>{let a=g.current;if(a)return(0,ar.hideOthers)(a)},[]),(0,b.jsx)(as.RemoveScroll,{as:i.Slot,allowPinchZoom:!0,children:(0,b.jsx)(aL,{...a,ref:j,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,h.composeEventHandlers)(a.onCloseAutoFocus,a=>{a.preventDefault(),k.current||e.triggerRef.current?.focus()}),onPointerDownOutside:(0,h.composeEventHandlers)(a.onPointerDownOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey;k.current=2===b.button||c},{checkForDefaultPrevented:!1}),onFocusOutside:(0,h.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),aK=c.forwardRef((a,d)=>{let e=ay(aH,a.__scopePopover),f=c.useRef(!1),g=c.useRef(!1);return(0,b.jsx)(aL,{...a,ref:d,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:b=>{a.onCloseAutoFocus?.(b),b.defaultPrevented||(f.current||e.triggerRef.current?.focus(),b.preventDefault()),f.current=!1,g.current=!1},onInteractOutside:b=>{a.onInteractOutside?.(b),b.defaultPrevented||(f.current=!0,"pointerdown"===b.detail.originalEvent.type&&(g.current=!0));let c=b.target;e.triggerRef.current?.contains(c)&&b.preventDefault(),"focusin"===b.detail.originalEvent.type&&g.current&&b.preventDefault()}})}),aL=c.forwardRef((a,c)=>{let{__scopePopover:d,trapFocus:e,onOpenAutoFocus:f,onCloseAutoFocus:g,disableOutsidePointerEvents:h,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onInteractOutside:l,...m}=a,n=ay(aH,d),o=aw(d);return(0,am.useFocusGuards)(),(0,b.jsx)(an.FocusScope,{asChild:!0,loop:!0,trapped:e,onMountAutoFocus:f,onUnmountAutoFocus:g,children:(0,b.jsx)(al.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:l,onEscapeKeyDown:i,onPointerDownOutside:j,onFocusOutside:k,onDismiss:()=>n.onOpenChange(!1),children:(0,b.jsx)(ap.Content,{"data-state":aN(n.open),role:"dialog",id:n.contentId,...o,...m,ref:c,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aM="PopoverClose";function aN(a){return a?"open":"closed"}function aO({...a}){return(0,b.jsx)(az,{"data-slot":"popover",...a})}function aP({...a}){return(0,b.jsx)(aC,{"data-slot":"popover-trigger",...a})}function aQ({className:a,align:c="center",sideOffset:d=4,...e}){return(0,b.jsx)(aG,{children:(0,b.jsx)(aI,{"data-slot":"popover-content",align:c,sideOffset:d,className:(0,C.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...e})})}function aR({isOpen:a,onOpenChange:d,onAddUser:e}){let[f,g]=(0,c.useState)({name:"",email:"",password:"",phone:"",department:""}),[h,i]=(0,c.useState)(new Set(["faculty"])),j=[{value:"faculty",label:"Faculty"},{value:"auditor",label:"Auditor"},{value:"staff-advisor",label:"Staff Advisor"},{value:"admin",label:"Admin"}],k=j.filter(a=>h.has(a.value)).map(a=>a.label);return(0,b.jsxs)(Q.Dialog,{open:a,onOpenChange:d,children:[(0,b.jsx)(Q.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(D.Button,{className:"flex items-center gap-2",children:[(0,b.jsx)(R,{className:"h-4 w-4"}),"Add User"]})}),(0,b.jsxs)(Q.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(Q.DialogHeader,{children:[(0,b.jsx)(Q.DialogTitle,{children:"Add New User"}),(0,b.jsx)(Q.DialogDescription,{children:"Create a new user account with role and department details"})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault();let b=Array.from(h),c=b[0]||"faculty";e({name:f.name,email:f.email,password:f.password,phone:f.phone||void 0,department:f.department||void 0,role:c,roles:b}),d(!1),g({name:"",email:"",password:"",phone:"",department:""}),i(new Set(["faculty"]))},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"name",children:"Full Name *"}),(0,b.jsx)(aj.Input,{id:"name",placeholder:"Dr. John Doe",value:f.name,onChange:a=>g({...f,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(aj.Input,{id:"email",type:"email",placeholder:"john.doe@college.edu",value:f.email,onChange:a=>g({...f,email:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"password",children:"Temporary Password *"}),(0,b.jsx)(aj.Input,{id:"password",type:"password",placeholder:"ChangeMe@123",value:f.password,onChange:a=>g({...f,password:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(aj.Input,{id:"phone",placeholder:"+1 (555) 123-4567",value:f.phone,onChange:a=>g({...f,phone:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"department",children:"Department"}),(0,b.jsx)(aj.Input,{id:"department",placeholder:"Computer Science",value:f.department,onChange:a=>g({...f,department:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(ak.Label,{children:"Roles *"}),(0,b.jsxs)(aO,{children:[(0,b.jsx)(aP,{asChild:!0,children:(0,b.jsxs)(D.Button,{variant:"outline",className:"w-full justify-between",children:[(0,b.jsx)("span",{className:"text-left",children:0===k.length?"Select roles...":k.join(", ")}),(0,b.jsx)(S.ChevronDown,{className:"ml-2 h-4 w-4 opacity-50"})]})}),(0,b.jsx)(aQ,{className:"w-56 p-3",align:"start",children:(0,b.jsx)("div",{className:"space-y-2",children:j.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(ai,{id:`add-role-${a.value}`,checked:h.has(a.value),onCheckedChange:()=>{var b;let c;return b=a.value,void((c=new Set(h)).has(b)?c.delete(b):c.add(b),i(c))}}),(0,b.jsx)("label",{htmlFor:`add-role-${a.value}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:a.label})]},a.value))})})]})]}),(0,b.jsxs)(Q.DialogFooter,{children:[(0,b.jsx)(D.Button,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),(0,b.jsx)(D.Button,{type:"submit",children:"Add User"})]})]})]})]})}function aS({unreadCount:a,notifications:c,showNotifications:d,onToggleNotifications:e,onMarkAllRead:f,onMarkRead:g,addDialogOpen:h,onAddDialogOpenChange:i,onAddUser:j}){return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"User Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Review registrations, manage roles, and update account status"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(Q.Dialog,{open:d,onOpenChange:e,children:[(0,b.jsx)(Q.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(D.Button,{variant:"outline",size:"icon",className:"relative",children:[(0,b.jsx)(P,{className:"h-5 w-5"}),a>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:a})]})}),(0,b.jsxs)(Q.DialogContent,{className:"max-w-md",children:[(0,b.jsx)(Q.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(Q.DialogTitle,{children:"Notifications"}),a>0&&(0,b.jsx)(D.Button,{variant:"ghost",size:"sm",onClick:f,children:"Mark all as read"})]})}),(0,b.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===c.length?(0,b.jsx)("p",{className:"text-center text-gray-500 py-8",children:"No notifications"}):c.map(a=>(0,b.jsxs)("div",{className:`flex gap-3 p-3 rounded-lg border ${a.read?"bg-gray-50":"bg-blue-50"}`,onClick:()=>g(a.id),children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm",children:a.message}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.timestamp})]}),!a.read&&(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-2"})]},a.id))})]})]}),(0,b.jsx)(aR,{isOpen:h,onOpenChange:i,onAddUser:j})]})]})}c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=ay(aM,d);return(0,b.jsx)(X.Primitive.button,{type:"button",...e,ref:c,onClick:(0,h.composeEventHandlers)(a.onClick,()=>f.onOpenChange(!1))})}).displayName=aM,c.forwardRef((a,c)=>{let{__scopePopover:d,...e}=a,f=aw(d);return(0,b.jsx)(ap.Arrow,{...f,...e,ref:c})}).displayName="PopoverArrow";var aT=a.i(91119);function aU({users:a}){let c=a.length,d=a.filter(a=>"active"===a.status).length,e=a.filter(a=>"pending"===a.status).length,f=a.filter(a=>"suspended"===a.status).length,g=a.filter(a=>(a.roles?.includes("faculty")||"faculty"===a.role)&&"admin"!==a.role).length,h=c?Math.round(a.reduce((a,b)=>a+b.completionRate,0)/c):0,i=[{label:"Total Users",value:c,accent:"text-gray-900"},{label:"Active",value:d,accent:"text-green-600"},{label:"Pending",value:e,accent:"text-amber-600"},{label:"Suspended",value:f,accent:"text-red-600"},{label:"Faculty",value:g,accent:"text-blue-600"},{label:"Avg Engagement",value:`${h}%`,accent:"text-purple-600"}];return(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:i.map(a=>(0,b.jsx)(aT.Card,{children:(0,b.jsx)(aT.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:`text-2xl font-medium ${a.accent}`,children:a.value}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:a.label})]})})},a.label))})}let aV=(0,O.default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),aW=(0,O.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var aX=a.i(87532),aY=a.i(81560),aZ=a.i(86304),a$="Progress",[a_,a0]=(0,e.createContextScope)(a$),[a1,a2]=a_(a$),a3=c.forwardRef((a,c)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=a6,...j}=a;(h||0===h)&&!a9(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=a9(h)?h:100;null===g||ba(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=ba(g,k)?g:null,m=a8(l)?i(l,k):void 0;return(0,b.jsx)(a1,{scope:f,value:l,max:k,children:(0,b.jsx)(X.Primitive.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":a8(l)?l:void 0,"aria-valuetext":m,role:"progressbar","data-state":a7(l,k),"data-value":l??void 0,"data-max":k,...j,ref:c})})});a3.displayName=a$;var a4="ProgressIndicator",a5=c.forwardRef((a,c)=>{let{__scopeProgress:d,...e}=a,f=a2(a4,d);return(0,b.jsx)(X.Primitive.div,{"data-state":a7(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:c})});function a6(a,b){return`${Math.round(a/b*100)}%`}function a7(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function a8(a){return"number"==typeof a}function a9(a){return a8(a)&&!isNaN(a)&&a>0}function ba(a,b){return a8(a)&&!isNaN(a)&&a<=b&&a>=0}function bb({className:a,value:c,...d}){return(0,b.jsx)(a3,{"data-slot":"progress",className:(0,C.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(a5,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}a5.displayName=a4;var bc=a.i(80701),bd=a.i(6015);function be({users:a,searchQuery:c,filterStatus:d,onSearchChange:e,onFilterStatusChange:f,onEdit:g,onDelete:h,onStatusChange:i,onApprove:j,onReject:k}){return(0,b.jsxs)(aT.Card,{children:[(0,b.jsx)(aT.CardHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(aT.CardTitle,{className:"flex items-center gap-2",children:"All Users"}),(0,b.jsxs)(aT.CardDescription,{children:[a.length," users"]})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(aX.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(aj.Input,{placeholder:"Search users...",value:c,onChange:a=>e(a.target.value),className:"pl-10 w-full sm:w-64"})]}),(0,b.jsxs)(bc.Select,{value:d,onValueChange:f,children:[(0,b.jsx)(bc.SelectTrigger,{className:"w-full sm:w-40",children:(0,b.jsx)(bc.SelectValue,{placeholder:"Filter by status"})}),(0,b.jsxs)(bc.SelectContent,{children:[(0,b.jsx)(bc.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(bc.SelectItem,{value:"pending",children:"Pending"}),(0,b.jsx)(bc.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(bc.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(bc.SelectItem,{value:"suspended",children:"Suspended"}),(0,b.jsx)(bc.SelectItem,{value:"rejected",children:"Rejected"})]})]})]})]})}),(0,b.jsx)(aT.CardContent,{children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(bd.Table,{children:[(0,b.jsx)(bd.TableHeader,{children:(0,b.jsxs)(bd.TableRow,{children:[(0,b.jsx)(bd.TableHead,{children:"User"}),(0,b.jsx)(bd.TableHead,{children:"Department"}),(0,b.jsx)(bd.TableHead,{children:"Status"}),(0,b.jsx)(bd.TableHead,{children:"Engagement"}),(0,b.jsx)(bd.TableHead,{children:"Last Active"}),(0,b.jsx)(bd.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(bd.TableBody,{children:0===a.length?(0,b.jsx)(bd.TableRow,{children:(0,b.jsx)(bd.TableCell,{colSpan:6,className:"text-center text-gray-500 py-10",children:"No users found."})}):a.map(a=>(0,b.jsxs)(bd.TableRow,{children:[(0,b.jsx)(bd.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm flex-shrink-0",children:a.name.split(" ").map(a=>a[0]).filter(Boolean).slice(0,2).join("")}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.email})]})]})}),(0,b.jsx)(bd.TableCell,{children:(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-sm",children:a.department||"-"})})}),(0,b.jsx)(bd.TableCell,{children:(0,b.jsxs)(bc.Select,{value:a.status,onValueChange:b=>i(a.id,b),children:[(0,b.jsx)(bc.SelectTrigger,{className:"w-[130px]",children:(0,b.jsx)(aZ.Badge,{variant:"secondary",className:function(a){switch(a){case"active":return"bg-green-100 text-green-700";case"inactive":default:return"bg-gray-100 text-gray-700";case"suspended":return"bg-red-100 text-red-700";case"pending":return"bg-amber-100 text-amber-700";case"rejected":return"bg-rose-100 text-rose-700"}}(a.status),children:a.status})}),(0,b.jsxs)(bc.SelectContent,{children:[(0,b.jsx)(bc.SelectItem,{value:"pending",children:"Pending"}),(0,b.jsx)(bc.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(bc.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(bc.SelectItem,{value:"suspended",children:"Suspended"}),(0,b.jsx)(bc.SelectItem,{value:"rejected",children:"Rejected"})]})]})}),(0,b.jsx)(bd.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(aV,{className:"h-3 w-3 text-gray-400"}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:[a.courseFilesCount," files,"," ",a.eventReportsCount," reports"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(bb,{value:a.completionRate,className:"h-1.5 w-20"}),(0,b.jsxs)("span",{className:"text-xs font-medium",children:[a.completionRate,"%"]})]})]})}),(0,b.jsx)(bd.TableCell,{children:(0,b.jsx)("span",{className:"text-sm text-gray-600",children:a.lastActive||"-"})}),(0,b.jsx)(bd.TableCell,{children:(0,b.jsxs)("div",{className:"flex justify-end items-center gap-2",children:["pending"===a.status&&"faculty"===a.role&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(D.Button,{size:"sm",onClick:()=>j(a.id),children:"Approve"}),(0,b.jsx)(D.Button,{size:"sm",variant:"outline",onClick:()=>k(a.id),children:"Reject"})]}),(0,b.jsx)(D.Button,{variant:"ghost",size:"icon",onClick:()=>g(a),children:(0,b.jsx)(aW,{className:"h-4 w-4"})}),(0,b.jsx)(D.Button,{variant:"ghost",size:"icon",onClick:()=>h(a),children:(0,b.jsx)(aY.Trash2,{className:"h-4 w-4 text-red-500"})})]})})]},a.id))})]})})})]})}function bf({user:a,isOpen:d,onOpenChange:e,onUpdateUser:f}){let[g,h]=(0,c.useState)(a),[i,j]=(0,c.useState)(new Set(a.roles||[a.role]));(0,c.useEffect)(()=>{h(a),j(new Set(a.roles||[a.role]))},[a]);let k=[{value:"faculty",label:"Faculty"},{value:"auditor",label:"Auditor"},{value:"staff-advisor",label:"Staff Advisor"},{value:"admin",label:"Admin"}],l=k.filter(a=>i.has(a.value)).map(a=>a.label);return(0,b.jsx)(Q.Dialog,{open:d,onOpenChange:e,children:(0,b.jsxs)(Q.DialogContent,{className:"max-w-lg",children:[(0,b.jsxs)(Q.DialogHeader,{children:[(0,b.jsxs)(Q.DialogTitle,{children:["Edit User: ",a.name]}),(0,b.jsx)(Q.DialogDescription,{children:"Update profile details, role, and status."})]}),(0,b.jsxs)("form",{onSubmit:b=>{b.preventDefault();let c=Array.from(i),d=c[0]||"faculty";f({id:a.id,name:g.name,email:g.email,phone:g.phone||void 0,department:g.department||void 0,role:d,roles:c,status:g.status}),e(!1)},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"edit-name",children:"Full Name"}),(0,b.jsx)(aj.Input,{id:"edit-name",value:g.name,onChange:a=>h({...g,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"edit-email",children:"Email"}),(0,b.jsx)(aj.Input,{id:"edit-email",type:"email",value:g.email,onChange:a=>h({...g,email:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"edit-phone",children:"Phone"}),(0,b.jsx)(aj.Input,{id:"edit-phone",value:g.phone??"",onChange:a=>h({...g,phone:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"edit-department",children:"Department"}),(0,b.jsx)(aj.Input,{id:"edit-department",value:g.department??"",onChange:a=>h({...g,department:a.target.value})})]}),(0,b.jsxs)("div",{className:"col-span-1 sm:col-span-2 space-y-3",children:[(0,b.jsx)(ak.Label,{children:"Roles"}),(0,b.jsxs)(aO,{children:[(0,b.jsx)(aP,{asChild:!0,children:(0,b.jsxs)(D.Button,{variant:"outline",className:"w-full justify-between",children:[(0,b.jsx)("span",{className:"text-left",children:0===l.length?"Select roles...":l.join(", ")}),(0,b.jsx)(S.ChevronDown,{className:"ml-2 h-4 w-4 opacity-50"})]})}),(0,b.jsx)(aQ,{className:"w-56 p-3",align:"start",children:(0,b.jsx)("div",{className:"space-y-2",children:k.map(a=>(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(ai,{id:`role-${a.value}`,checked:i.has(a.value),onCheckedChange:()=>{var b;let c;return b=a.value,void((c=new Set(i)).has(b)?c.delete(b):c.add(b),j(c))}}),(0,b.jsx)("label",{htmlFor:`role-${a.value}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer flex-1",children:a.label})]},a.value))})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(ak.Label,{htmlFor:"edit-status",children:"Status"}),(0,b.jsxs)(bc.Select,{value:g.status,onValueChange:a=>h({...g,status:a}),children:[(0,b.jsx)(bc.SelectTrigger,{id:"edit-status",children:(0,b.jsx)(bc.SelectValue,{})}),(0,b.jsxs)(bc.SelectContent,{children:[(0,b.jsx)(bc.SelectItem,{value:"pending",children:"Pending"}),(0,b.jsx)(bc.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(bc.SelectItem,{value:"inactive",children:"Inactive"}),(0,b.jsx)(bc.SelectItem,{value:"suspended",children:"Suspended"}),(0,b.jsx)(bc.SelectItem,{value:"rejected",children:"Rejected"})]})]})]})]}),(0,b.jsxs)(Q.DialogFooter,{children:[(0,b.jsx)(D.Button,{type:"button",variant:"outline",onClick:()=>e(!1),children:"Cancel"}),(0,b.jsx)(D.Button,{type:"submit",children:"Save Changes"})]})]})]})})}let bg={faculty:"Faculty",auditor:"Auditor","staff-advisor":"Staff Advisor",admin:"Admin"},bh=["faculty","auditor","staff-advisor","admin"],bi=["pending","active","inactive","suspended","rejected"];function bj(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)("all"),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)([]),[v,w]=(0,c.useState)(!1),x=async()=>{try{let[a,b]=await Promise.all([fetch("/api/users"),fetch("/api/engagements")]),c=await a.json(),f=await b.json();if(!a.ok)return void d.toast.error(c.error||"Failed to load users");let g=(f.engagements??[]).reduce((a,b)=>(a[b.facultyId]=b,a),{}),h=c.users.map(a=>(function(a,b={}){var c,d;let e=(c=a.role)?bh.includes(c)?c:"StaffAdvisor"===c||"Staff Advisor"===c?"staff-advisor":"Auditor"===c?"auditor":"faculty":"faculty",f=a.name??a.username,g=b[a.id]??{},h=a.roles;return{id:a.id,name:f,email:a.email??a.username,phone:a.phone,department:a.department,designation:bg[e],role:e,roles:h||[e],status:(d=a.status)&&"approved"!==d&&"approval"!==d&&bi.includes(d)?d:"active",lastActive:function(a){if(!a)return"-";try{let b=new Date(a),c=new Date().getTime()-b.getTime(),d=Math.floor(c/6e4),e=Math.floor(c/36e5),f=Math.floor(c/864e5);if(d<1)return"Just now";if(d<60)return`${d}m ago`;if(e<24)return`${e}h ago`;if(f<7)return`${f}d ago`;return b.toLocaleDateString()}catch{return"-"}}(a.lastActiveAt),joinedDate:a.createdAt?.split("T")[0],courseFilesCount:g.uploadsCount??0,eventReportsCount:g.activityParticipationCount??0,completionRate:g.score??0,weeklyActivity:[0,0,0,0,0,0,0],permissions:{upload_files:"faculty"===e,create_reports:"faculty"===e,view_peer_work:"admin"!==e,audit_submissions:"auditor"===e,manage_users:"admin"===e,view_analytics:"faculty"!==e}}})(a,g));e(h)}catch(a){console.error("Load users error:",a),d.toast.error("Failed to load users")}};(0,c.useEffect)(()=>{x()},[]);let y=(0,c.useMemo)(()=>t.filter(a=>!a.read).length,[t]),z=(0,c.useMemo)(()=>{let b=[...a];if(f){let a=f.toLowerCase();b=b.filter(b=>b.name.toLowerCase().includes(a)||b.email.toLowerCase().includes(a)||(b.department||"").toLowerCase().includes(a))}return"all"!==h&&(b=b.filter(a=>a.status===h)),b},[a,f,h]),A=(a,b)=>{let c={id:Date.now().toString(),type:b,message:a,timestamp:"Just now",read:!1};u(a=>[c,...a])},B=async a=>{try{let b=a.roles||[a.role],c=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a.email,password:a.password,name:a.name,role:a.role,roles:b,department:a.department,email:a.email,phone:a.phone,status:"active"})}),e=await c.json();if(!c.ok)return void d.toast.error(e.error||"Failed to add user");await x(),d.toast.success(`User ${a.name} added successfully`),A(`User ${a.name} added`,"success")}catch(a){console.error("Add user error:",a),d.toast.error("Failed to add user")}},C=async(a,b)=>{try{let c=await fetch(`/api/users/${a}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)}),e=await c.json();if(!c.ok)return d.toast.error(e.error||"Update failed"),null;return await x(),e.users.find(b=>b.id===a)??null}catch(a){return console.error("User update error:",a),d.toast.error("Failed to update user"),null}},D=async a=>{let b=await C(a.id,{name:a.name,email:a.email,phone:a.phone,department:a.department,role:a.role,roles:a.roles||[a.role],status:a.status});b&&(d.toast.success(`User ${b.name} updated`),A(`User ${b.name} updated`,"info"))},F=async a=>{try{let b=await fetch(`/api/users/${a}`,{method:"DELETE"}),c=await b.json();if(!b.ok)return void d.toast.error(c.error||"Delete failed");await x(),d.toast.success("User deleted successfully"),A("User deleted","warning")}catch(a){console.error("Delete error:",a),d.toast.error("Failed to delete user")}},G=async(a,b)=>{await C(a,{status:b})&&(d.toast.success(`Status updated to ${b}`),A(`Status updated to ${b}`,"info"),await x())};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(aS,{unreadCount:y,notifications:t,showNotifications:v,onToggleNotifications:w,onMarkAllRead:()=>{u(a=>a.map(a=>({...a,read:!0})))},onMarkRead:a=>{u(b=>b.map(b=>b.id===a?{...b,read:!0}:b))},addDialogOpen:r,onAddDialogOpenChange:s,onAddUser:B}),(0,b.jsx)(aU,{users:a}),(0,b.jsx)(be,{users:z,searchQuery:f,filterStatus:h,onSearchChange:g,onFilterStatusChange:i,onEdit:a=>{k(a),m(!0)},onDelete:a=>{q(a),o(!0)},onStatusChange:G,onApprove:a=>{G(a,"active")},onReject:a=>{G(a,"rejected")}}),j&&(0,b.jsx)(bf,{user:j,isOpen:l,onOpenChange:m,onUpdateUser:D}),(0,b.jsx)(E,{open:n,onOpenChange:o,children:(0,b.jsxs)(H,{children:[(0,b.jsxs)(I,{children:[(0,b.jsx)(K,{children:"Are you sure?"}),(0,b.jsxs)(L,{children:['This will permanently delete the user "',p?.name,'" and all associated data.']})]}),(0,b.jsxs)(J,{children:[(0,b.jsx)(N,{children:"Cancel"}),(0,b.jsx)(M,{onClick:()=>{p&&(F(p.id),o(!1),q(null))},className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})})]})}a.s(["AdminDashboard",()=>bj],26484)}];

//# sourceMappingURL=src_components_AdminDashboard_AdminDashboard_tsx_a099a8ba._.js.map