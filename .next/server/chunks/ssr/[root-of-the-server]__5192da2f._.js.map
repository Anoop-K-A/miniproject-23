{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../src/lib/roles.ts","../../../../src/app/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","export type UserRole = \"faculty\" | \"auditor\" | \"staff-advisor\" | \"admin\";\r\n\r\nexport const ROLE_PATHS: Record<UserRole, string> = {\r\n  faculty: \"/faculty\",\r\n  auditor: \"/auditor\",\r\n  \"staff-advisor\": \"/staff-advisor\",\r\n  admin: \"/admin\",\r\n};\r\n\r\nexport const VALID_ROLES: UserRole[] = [\r\n  \"faculty\",\r\n  \"auditor\",\r\n  \"staff-advisor\",\r\n  \"admin\",\r\n];\r\n\r\nexport function getDashboardPath(role: UserRole) {\r\n  if (role === \"admin\") {\r\n    return ROLE_PATHS.admin;\r\n  }\r\n  return `${ROLE_PATHS[role]}/dashboard`;\r\n}\r\n\r\nexport function isValidRole(role: string | undefined | null): role is UserRole {\r\n  return role ? VALID_ROLES.includes(role as UserRole) : false;\r\n}\r\nexport function getRoleFromPath(pathname: string): UserRole | null {\r\n  if (pathname.startsWith(ROLE_PATHS.faculty)) {\r\n    return \"faculty\";\r\n  }\r\n  if (pathname.startsWith(ROLE_PATHS.auditor)) {\r\n    return \"auditor\";\r\n  }\r\n  if (pathname.startsWith(ROLE_PATHS[\"staff-advisor\"])) {\r\n    return \"staff-advisor\";\r\n  }\r\n  if (pathname.startsWith(ROLE_PATHS.admin)) {\r\n    return \"admin\";\r\n  }\r\n  return null;\r\n}\r\n","\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { getDashboardPath } from \"@/lib/roles\";\r\n\r\nexport default function Home() {\r\n  const router = useRouter();\r\n  const { isAuthenticated, userRole, isLoading } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (!isLoading) {\r\n      if (isAuthenticated) {\r\n        router.push(getDashboardPath(userRole));\r\n      } else {\r\n        router.push(\"/login\");\r\n      }\r\n    }\r\n  }, [isAuthenticated, userRole, isLoading, router]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center\">\r\n      <p>Redirecting...</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"+iBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,yBCAlC,IAAM,EAAuC,CAClD,QAAS,WACT,QAAS,WACT,gBAAiB,iBACjB,MAAO,QACT,EASO,SAAS,EAAiB,CAAc,QAC7C,AAAa,SAAS,CAAlB,EACK,EAAW,KAAK,CAElB,CAAA,EAAG,CAAU,CAAC,EAAK,CAAC,UAAU,CAAC,AACxC,0ECnBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,iBAAE,CAAe,UAAE,CAAQ,WAAE,CAAS,CAAE,CAAG,CAAA,EAAA,EAAA,OAAO,AAAP,IAYjD,MAVA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACH,IACC,EACF,EAAO,GAFK,CAED,CAAC,CAAA,EAAA,EAAA,GADO,aACP,AAAgB,EAAC,IAE7B,EAAO,IAAI,CAAC,UAGlB,EAAG,CAAC,EAAiB,EAAU,EAAW,EAAO,EAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,oBAGT","ignoreList":[0,1,2]}