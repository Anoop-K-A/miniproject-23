module.exports=[58569,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(60246);function e({stats:a}){return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(d.Users,{className:"h-6 w-6 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Staff Advisor Dashboard"}),(0,b.jsxs)("p",{className:"text-gray-600",children:["Batch ",a.batchYear," - Student Management & Career Development"]})]})]})}var f=a.i(91119),g=a.i(69769),h=a.i(70106);let i=(0,h.default)("user-check",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var j=a.i(24669);let k=(0,h.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);function l({stats:a}){let c=a.totalStudents>0?Math.round(a.placedStudents/a.totalStudents*100):0;return(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Students"}),(0,b.jsx)("div",{className:"text-2xl mt-1",children:a.totalStudents}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Batch ",a.batchYear]})]}),(0,b.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(g.GraduationCap,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Placed Students"}),(0,b.jsx)("div",{className:"text-2xl mt-1",children:a.placedStudents}),(0,b.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[c,"% placement rate"]})]}),(0,b.jsx)("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(i,{className:"h-6 w-6 text-green-600"})})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Average CGPA"}),(0,b.jsx)("div",{className:"text-2xl mt-1",children:a.averageCGPA}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Batch performance"})]}),(0,b.jsx)("div",{className:"h-12 w-12 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(j.TrendingUp,{className:"h-6 w-6 text-purple-600"})})]})})}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Avg Attendance"}),(0,b.jsxs)("div",{className:"text-2xl mt-1",children:[a.averageAttendance,"%"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Overall batch"})]}),(0,b.jsx)("div",{className:"h-12 w-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(k,{className:"h-6 w-6 text-orange-600"})})]})})})]})}var m=a.i(86304),n=a.i(4720),o=a.i(41675);function p({stats:a}){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Faculty Status Overview"}),(0,b.jsx)(f.CardDescription,{children:"Course files and event reports status"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(n.FileText,{className:"h-5 w-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Course Files"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[a.totalFaculty," faculty members"]})]})]}),(0,b.jsxs)(m.Badge,{className:"bg-green-100 text-green-800",children:[a.approvedFiles," Approved"]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,b.jsx)(o.Calendar,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Event Reports"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Community engagement"})]})]}),(0,b.jsxs)(m.Badge,{className:"bg-green-100 text-green-800",children:[a.approvedReports," Approved"]})]}),(0,b.jsxs)("div",{className:"pt-4 border-t",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Documentation Completion"}),(0,b.jsx)("span",{className:"font-medium",children:"87%"})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:(0,b.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"87%"}})})]})]})})]})}function q({careerStats:a}){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Career Exploration Stats"}),(0,b.jsx)(f.CardDescription,{children:"Student career development activities"})]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.totalInternships}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Total Internships"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.activeInternships}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Active Now"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:a.completedProjects}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Projects Done"})]}),(0,b.jsxs)("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:a.skillWorkshops}),(0,b.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Skill Workshops"})]})]}),(0,b.jsx)("div",{className:"mt-4 pt-4 border-t",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Campus Interviews"}),(0,b.jsxs)(m.Badge,{variant:"outline",children:[a.campusInterviews," Scheduled"]})]})})]})]})}var r=a.i(99570),s=a.i(66718),t=a.i(14574),u=a.i(70430),v=a.i(87532),w=a.i(15618),x=a.i(41961),y=a.i(50429),z=a.i(50522);function A({student:a,onViewDetails:c}){return(0,b.jsx)(f.Card,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(a),children:(0,b.jsx)(f.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,b.jsx)("div",{className:"h-12 w-12 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white flex-shrink-0",children:a.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:a.name}),(0,b.jsx)(m.Badge,{className:(a=>{switch(a){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(a.placementStatus),children:a.placementStatus})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.rollNumber," • ",a.semester," Semester"]}),a.companyName&&(0,b.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:[(0,b.jsx)(x.Briefcase,{className:"h-3 w-3 inline mr-1"}),a.companyName]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"CGPA"}),(0,b.jsx)("p",{className:"font-medium",children:a.cgpa})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Attendance"}),(0,b.jsxs)("p",{className:"font-medium",children:[a.attendance,"%"]})]}),(0,b.jsxs)("div",{className:"text-center min-w-[120px]",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Career Interest"}),(0,b.jsxs)(m.Badge,{variant:"outline",className:"text-xs",children:[(0,b.jsx)(y.Target,{className:"h-3 w-3 mr-1"}),a.careerInterest]})]}),(0,b.jsxs)(r.Button,{variant:"outline",size:"sm",children:["View Details",(0,b.jsx)(z.ChevronRight,{className:"h-4 w-4 ml-2"})]})]})]})})})}let B={name:"",rollNumber:"",email:"",phone:"",department:"",semester:"",batchYear:""},C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function D({students:a,stats:d,onSelectStudent:e,onAddStudent:g}){let[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)({...B,batchYear:d.batchYear}),[n,o]=(0,c.useState)({}),p=(0,c.useMemo)(()=>a.filter(a=>a.name.toLowerCase().includes(h.toLowerCase())||a.rollNumber.toLowerCase().includes(h.toLowerCase())||a.careerInterest.toLowerCase().includes(h.toLowerCase())),[a,h]),q=(0,c.useMemo)(()=>{let a=new Map;return p.forEach(b=>{let c=b.batchYear?.trim()||"Unknown";a.has(c)||a.set(c,[]),a.get(c)?.push(b)}),Array.from(a.entries()).sort(([a],[b])=>b.localeCompare(a))},[p]),x=(a,b)=>{m(c=>({...c,[a]:b})),o(b=>({...b,[a]:void 0}))};return(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{children:"Student List"}),(0,b.jsx)(f.CardDescription,{children:"Manage and track student progress and placements"})]}),(0,b.jsxs)(t.Dialog,{open:j,onOpenChange:k,children:[(0,b.jsx)(t.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(r.Button,{size:"sm",children:[(0,b.jsx)(w.Plus,{className:"h-4 w-4 mr-2"}),"Add Student"]})}),(0,b.jsxs)(t.DialogContent,{children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{children:"Add New Student"}),(0,b.jsx)(t.DialogDescription,{children:"Add a new student to your batch"})]}),(0,b.jsxs)("form",{className:"space-y-4 py-4",onSubmit:b=>{let c,e,f;if(b.preventDefault(),c={},e=l.rollNumber.trim(),f=l.email.trim(),l.name.trim()||(c.name="Name is required."),e||(c.rollNumber="Roll number is required."),f?C.test(f)||(c.email="Enter a valid email."):c.email="Email is required.",l.department.trim()||(c.department="Department is required."),l.semester.trim()||(c.semester="Semester is required."),l.batchYear.trim()||(c.batchYear="Batch year is required."),e&&l.batchYear.trim()&&a.some(a=>a.batchYear?.toLowerCase()===l.batchYear.trim().toLowerCase()&&a.rollNumber.toLowerCase()===e.toLowerCase())&&(c.rollNumber="Roll number already exists in this batch."),f&&a.some(a=>a.email.toLowerCase()===f.toLowerCase())&&(c.email="Email already exists."),o(c),0!==Object.keys(c).length)return;let h=l.batchYear.trim(),i=l.rollNumber.trim();g({id:`${h}-${i}`,name:l.name.trim(),rollNumber:i,email:l.email.trim(),phone:l.phone.trim()||"",department:l.department.trim(),semester:l.semester.trim(),batchYear:h,cgpa:0,attendance:0,careerInterest:"Not set",skillsAcquired:[],placementStatus:"Not Started",activityPoints:0,activities:[]}),m({...B,batchYear:d.batchYear}),o({}),k(!1)},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Student Name"}),(0,b.jsx)(s.Input,{value:l.name,onChange:a=>x("name",a.target.value),placeholder:"Enter student name"}),n.name&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:n.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Roll Number"}),(0,b.jsx)(s.Input,{value:l.rollNumber,onChange:a=>x("rollNumber",a.target.value),placeholder:"Enter roll number"}),n.rollNumber&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:n.rollNumber})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Email"}),(0,b.jsx)(s.Input,{type:"email",value:l.email,onChange:a=>x("email",a.target.value),placeholder:"student@college.edu"}),n.email&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:n.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Phone"}),(0,b.jsx)(s.Input,{value:l.phone,onChange:a=>x("phone",a.target.value),placeholder:"+91 XXXXX XXXXX"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Department"}),(0,b.jsx)(s.Input,{value:l.department,onChange:a=>x("department",a.target.value),placeholder:"Computer Science"}),n.department&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:n.department})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Semester"}),(0,b.jsx)(s.Input,{value:l.semester,onChange:a=>x("semester",a.target.value),placeholder:"6"}),n.semester&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:n.semester})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Batch Year"}),(0,b.jsx)(s.Input,{value:l.batchYear,onChange:a=>x("batchYear",a.target.value),placeholder:"2024"}),n.batchYear&&(0,b.jsx)("p",{className:"text-xs text-red-600",children:n.batchYear})]}),(0,b.jsx)(t.DialogFooter,{children:(0,b.jsx)(r.Button,{type:"submit",className:"w-full",children:"Add Student"})})]})]})]})]})}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(v.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(s.Input,{placeholder:"Search by name, roll number, or career interest...",value:h,onChange:a=>i(a.target.value),className:"pl-10"})]})}),(0,b.jsx)("div",{className:"space-y-6",children:0===q.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No students found for the current search."}):q.map(([a,c])=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold",children:["Batch ",a]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:[c.length," students"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,b.jsx)(A,{student:a,onViewDetails:e},a.id))})]},a))})]})]})}function E({groups:a}){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Batch Course File Progress"}),(0,b.jsx)(f.CardDescription,{children:"Individual batch completion tracking"})]}),(0,b.jsx)(f.CardContent,{className:"space-y-6",children:0===a.length?(0,b.jsx)("p",{className:"text-sm text-gray-500 text-center py-4",children:"No batches found. Add students to see course file progress."}):(0,b.jsx)("div",{className:"space-y-6",children:a.map(a=>(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-3 p-4 rounded-lg border border-gray-200 bg-gray-50/50",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-semibold",children:["Batch ",a.progress.batchYear||"-"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.progress.totalFiles," files tracked"]})]}),(0,b.jsxs)(m.Badge,{variant:"outline",className:"font-semibold",children:[a.progress.completionRate,"% approved"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${a.progress.completionRate}%`}})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs",children:[(0,b.jsxs)(m.Badge,{variant:"outline",children:["Total ",a.progress.totalFiles]}),(0,b.jsxs)(m.Badge,{className:"bg-green-100 text-green-800",children:["Approved ",a.progress.approvedFiles]}),(0,b.jsxs)(m.Badge,{className:"bg-yellow-100 text-yellow-800",children:["In Review ",a.progress.inReviewFiles]}),(0,b.jsxs)(m.Badge,{className:"bg-red-100 text-red-800",children:["Rejected ",a.progress.rejectedFiles]})]})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("h4",{className:"text-xs font-semibold text-gray-700",children:"Faculty Teaching"}),(0,b.jsx)(m.Badge,{variant:"outline",className:"text-xs",children:a.faculty.length})]}),0===a.faculty.length?(0,b.jsx)("p",{className:"text-xs text-gray-500 text-center py-2",children:"No faculty assigned"}):(0,b.jsx)("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:a.faculty.map(a=>(0,b.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-md hover:bg-gray-50 transition-colors",children:[(0,b.jsx)("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-xs font-semibold shrink-0",children:a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-900 truncate",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 truncate",children:a.department}),(0,b.jsx)("div",{className:"flex gap-1 mt-1",children:(0,b.jsxs)(m.Badge,{variant:"outline",className:"text-xs px-1 py-0 h-4",children:[a.filesTotal," files"]})})]})]},a.id))})]})]},a.progress.batchYear))})})]})}var F=a.i(80701),G=a.i(92258),H=a.i(63519),I=a.i(93518);let J={email:"",phone:"",semester:"",placementStatus:"Not Started",companyName:"",cgpa:"",attendance:"",careerInterest:"",skillsInput:""},K=a=>a?{email:a.email??"",phone:a.phone??"",semester:a.semester??"",placementStatus:a.placementStatus,companyName:a.companyName??"",cgpa:Number.isFinite(a.cgpa)?a.cgpa.toString():"",attendance:Number.isFinite(a.attendance)?a.attendance.toString():"",careerInterest:a.careerInterest??"",skillsInput:a.skillsAcquired?.join(", ")??""}:J;function L({isOpen:a,onOpenChange:d,student:e,onAddActivity:f,onUpdateStudent:g}){let[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(()=>K(e));(0,c.useEffect)(()=>{e&&(k(K(e)),i(!1))},[e,a]);let l=(a,b)=>{k(c=>({...c,[a]:b}))};return e?(0,b.jsx)(t.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(t.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{children:"Student Profile"}),(0,b.jsx)(t.DialogDescription,{children:"Complete information and progress tracking"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0",children:e.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:e.name}),(0,b.jsxs)("p",{className:"text-gray-600",children:[e.rollNumber," • ",e.department]}),(0,b.jsx)(m.Badge,{className:(a=>{switch(a){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(e.placementStatus)+" mt-2",children:e.placementStatus}),e.companyName&&(0,b.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,b.jsx)(x.Briefcase,{className:"h-4 w-4 inline mr-1"}),"Placed at ",e.companyName]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Contact Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(G.Mail,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("a",{href:`mailto:${e.email}`,className:"text-blue-600 hover:underline",children:e.email})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(H.Phone,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{children:e.phone})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Academic Performance"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"CGPA"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600 mt-1",children:e.cgpa})]}),(0,b.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Attendance"}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600 mt-1",children:[e.attendance,"%"]})]}),(0,b.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Semester"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600 mt-1",children:e.semester})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Career Development"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Career Interest"}),(0,b.jsxs)(m.Badge,{variant:"outline",className:"mt-1",children:[(0,b.jsx)(y.Target,{className:"h-3 w-3 mr-1"}),e.careerInterest||"Not set"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Skills Acquired"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:0===e.skillsAcquired.length?(0,b.jsx)(m.Badge,{variant:"outline",className:"bg-gray-50",children:"Not set"}):e.skillsAcquired.map((a,c)=>(0,b.jsx)(m.Badge,{variant:"outline",className:"bg-blue-50",children:a},c))})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Activity Points"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Points"}),(0,b.jsxs)(m.Badge,{variant:"outline",className:"mt-1",children:[(0,b.jsx)(I.Award,{className:"h-3 w-3 mr-1"}),e.activityPoints]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Activities"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:e.activities.map((a,c)=>(0,b.jsxs)(m.Badge,{variant:"outline",className:"bg-blue-50",children:[a.name," (",a.points," points)"]},c))})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Edit Student Details"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Email"}),(0,b.jsx)(s.Input,{type:"email",value:j.email,onChange:a=>l("email",a.target.value),disabled:!h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Phone"}),(0,b.jsx)(s.Input,{value:j.phone,onChange:a=>l("phone",a.target.value),disabled:!h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Semester"}),(0,b.jsx)(s.Input,{value:j.semester,onChange:a=>l("semester",a.target.value),disabled:!h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Placement Status"}),(0,b.jsxs)(F.Select,{value:j.placementStatus,onValueChange:a=>l("placementStatus",a),disabled:!h,children:[(0,b.jsx)(F.SelectTrigger,{children:(0,b.jsx)(F.SelectValue,{placeholder:"Select status"})}),(0,b.jsxs)(F.SelectContent,{children:[(0,b.jsx)(F.SelectItem,{value:"Not Started",children:"Not Started"}),(0,b.jsx)(F.SelectItem,{value:"In Process",children:"In Process"}),(0,b.jsx)(F.SelectItem,{value:"Placed",children:"Placed"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Company Name"}),(0,b.jsx)(s.Input,{value:j.companyName,onChange:a=>l("companyName",a.target.value),disabled:!h,placeholder:"Company for placed students"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"CGPA"}),(0,b.jsx)(s.Input,{type:"number",step:"0.1",value:j.cgpa,onChange:a=>l("cgpa",a.target.value),disabled:!h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Attendance %"}),(0,b.jsx)(s.Input,{type:"number",value:j.attendance,onChange:a=>l("attendance",a.target.value),disabled:!h})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{children:"Career Interest"}),(0,b.jsx)(s.Input,{value:j.careerInterest,onChange:a=>l("careerInterest",a.target.value),disabled:!h})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(u.Label,{children:"Skills Acquired"}),(0,b.jsx)(s.Input,{value:j.skillsInput,onChange:a=>l("skillsInput",a.target.value),disabled:!h,placeholder:"Java, React, Node.js"})]})]})]}),(0,b.jsx)(t.DialogFooter,{children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Button,{variant:"outline",onClick:()=>{k(K(e)),i(!1)},children:"Cancel"}),(0,b.jsx)(r.Button,{onClick:()=>{if(!e)return;let a=Number.parseFloat(j.cgpa),b=Number.parseFloat(j.attendance),c="Placed"===j.placementStatus?j.companyName.trim():"";g({...e,email:j.email.trim(),phone:j.phone.trim(),semester:j.semester.trim(),placementStatus:j.placementStatus,companyName:c||void 0,cgpa:Number.isFinite(a)?a:0,attendance:Number.isFinite(b)?Math.min(Math.max(b,0),100):0,careerInterest:j.careerInterest.trim(),skillsAcquired:j.skillsInput.split(",").map(a=>a.trim()).filter(Boolean)}),i(!1)},children:"Save Changes"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Button,{size:"sm",variant:"outline",onClick:f,children:"Add Activity"}),(0,b.jsx)(r.Button,{size:"sm",onClick:()=>i(!0),children:"Edit Details"})]})})]})]})}):null}function M({isOpen:a,onOpenChange:c,student:d,activityName:e,onActivityNameChange:f,community:g,onCommunityChange:h,activityPoints:i,onActivityPointsChange:j,onAddActivity:k}){return d?(0,b.jsx)(t.Dialog,{open:a,onOpenChange:c,children:(0,b.jsxs)(t.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsx)(t.DialogTitle,{children:"Add Activity"}),(0,b.jsx)(t.DialogDescription,{children:"Add a new activity for the student"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"h-16 w-16 bg-gradient-to-br from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white text-2xl flex-shrink-0",children:d.name.split(" ").map(a=>a[0]).join("")}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-xl font-bold",children:d.name}),(0,b.jsxs)("p",{className:"text-gray-600",children:[d.rollNumber," • ",d.department]}),(0,b.jsx)(m.Badge,{className:(a=>{switch(a){case"Placed":return"bg-green-100 text-green-800";case"In Process":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(d.placementStatus)+" mt-2",children:d.placementStatus}),d.companyName&&(0,b.jsxs)("p",{className:"text-sm text-green-600 mt-2",children:[(0,b.jsx)(x.Briefcase,{className:"h-4 w-4 inline mr-1"}),"Placed at ",d.companyName]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-3",children:"Add Activity"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Activity Name"}),(0,b.jsx)(s.Input,{placeholder:"Enter activity name",value:e,onChange:a=>f(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Community"}),(0,b.jsx)(s.Input,{placeholder:"Enter community name",value:g,onChange:a=>h(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(u.Label,{children:"Points"}),(0,b.jsx)(s.Input,{placeholder:"Enter points",value:i,onChange:a=>j(a.target.value),type:"number"})]})]})]}),(0,b.jsx)(t.DialogFooter,{children:(0,b.jsx)(r.Button,{size:"sm",onClick:k,children:"Add Activity"})})]})]})}):null}var N=a.i(23292);function O({stats:a,careerStats:d,students:f,batchCourseOverview:g}){let[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(f),[m,n]=(0,c.useState)(!1),[o,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),y=j.length,z=j.filter(a=>"Placed"===a.placementStatus).length,A=j.filter(a=>"In Process"===a.placementStatus).length,B=y?Number((j.reduce((a,b)=>a+b.cgpa,0)/y).toFixed(1)):0,C=y?Math.round(j.reduce((a,b)=>a+b.attendance,0)/y):0,F=j.find(a=>a.batchYear)?.batchYear??a.batchYear,G={...a,totalStudents:y,placedStudents:z,inProcess:A,averageCGPA:B,averageAttendance:C,batchYear:F},H=(0,c.useMemo)(()=>{let a=Array.from(new Set(j.map(a=>a.batchYear).filter(Boolean))),b=new Set(g.groups.map(a=>a.progress.batchYear)),c=a.filter(a=>!b.has(a)).map(a=>({progress:{batchYear:a,totalFiles:0,approvedFiles:0,inReviewFiles:0,rejectedFiles:0,completionRate:0},faculty:[]})),d=[...g.groups,...c].sort((a,b)=>(b.progress.batchYear||"").localeCompare(a.progress.batchYear||""));return{overall:g.overall,groups:d}},[j,g]),I=async a=>{try{let b=await fetch(`/api/students/${a.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(b.ok)k(b=>b.map(b=>b.id===a.id?a:b)),i(a),N.toast.success("Student updated successfully");else{let a=await b.json();N.toast.error(a.error||"Failed to update student")}}catch(a){console.error("Error updating student:",a),N.toast.error("Failed to update student")}},J=async()=>{if(!h)return;if(!s||!u||!w)return void N.toast.error("Please fill in all fields");let a={id:`act-${Date.now()}`,name:s,community:u,points:parseInt(w,10),date:new Date().toISOString().split("T")[0]},b={...h,activities:[...h.activities,a],activityPoints:h.activityPoints+a.points};try{let a=await fetch(`/api/students/${b.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(a.ok)k(a=>a.map(a=>a.id===b.id?b:a)),i(b),r(!1),t(""),v(""),x(""),N.toast.success("Activity added successfully");else{let b=await a.json();N.toast.error(b.error||"Failed to add activity")}}catch(a){console.error("Error adding activity:",a),N.toast.error("Failed to add activity")}},K=async a=>{try{let b=await fetch("/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({advisorId:"",name:a.name,rollNumber:a.rollNumber,email:a.email,phone:a.phone,department:a.department,semester:a.semester,batchYear:a.batchYear,cgpa:a.cgpa,attendance:a.attendance,careerInterest:a.careerInterest,skillsAcquired:a.skillsAcquired,placementStatus:a.placementStatus,companyName:a.companyName,activityPoints:a.activityPoints,activities:a.activities})});if(b.ok){let c=await b.json(),d=c.students&&c.students[0]||a;k(a=>[d,...a]),N.toast.success("Student added successfully")}else{let a=await b.json();N.toast.error(a.error||"Failed to add student")}}catch(a){console.error("Error adding student:",a),N.toast.error("Failed to add student")}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(e,{stats:G}),(0,b.jsx)(l,{stats:G}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(p,{stats:G}),(0,b.jsx)(q,{careerStats:d})]}),(0,b.jsx)(E,{groups:H.groups}),(0,b.jsx)(D,{students:j,stats:G,onSelectStudent:a=>{i(a),n(!0)},onAddStudent:K}),(0,b.jsx)(L,{isOpen:m,onOpenChange:n,student:h,onAddActivity:()=>r(!0),onUpdateStudent:I}),(0,b.jsx)(M,{isOpen:o,onOpenChange:r,student:h,activityName:s,onActivityNameChange:t,community:u,onCommunityChange:v,activityPoints:w,onActivityPointsChange:x,onAddActivity:J})]})}a.s(["StaffAdvisorDashboard",()=>O],58569)}];

//# sourceMappingURL=src_components_StaffAdvisorDashboard_index_tsx_501ee983._.js.map